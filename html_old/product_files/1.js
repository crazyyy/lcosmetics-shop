function CallpyGlobal(){this.modules={};this.bloodseeker="https://callpy.com/";this.callpy_domain="callpy.com";this.language="ru"}CallpyGlobal.prototype={registerModule:function(moduleName){var module=false;try{module=eval(moduleName)}catch(e){console.log(" Global Error");console.log(e)}if(typeof module=="function"){if(!this.modules[moduleName]){module=new module();this.modules[moduleName]=true;console.log("Module Registred : "+moduleName)}else{console.log("Module "+moduleName+" already registred!")}}else{console.log("Module "+moduleName+" does not exist!")}return module},extend:function(){for(var b in {toString:null}){return function d(g){for(var e=1;e<arguments.length;e++){var f=arguments[e];for(var h in f){g[h]=f[h]}}return g}}var c=["toString","valueOf","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString"];return function a(h){for(var f=1;f<arguments.length;f++){var g=arguments[f];for(var k in g){h[k]=g[k]}for(var e=0;e<c.length;e++){k=c[e];if(g.hasOwnProperty(k)){h[k]=g[k]}}}return h}}};var kunnka=new CallpyGlobal();
kunnka.centaur_warrunner=function(){this.module_name="Callpy ";this.module_log_rang=100;var a=this;if(!window.sven){sven=false}if(!window.tiny){tiny=false}if(sven==true){this.invoker=callpy_storage.iowisp.invoker;this.lifestealer=callpy_storage.iowisp.lifestealer;this.earthshaker=callpy_storage.iowisp.earthshaker;kunnka.bloodseeker=callpy_storage.kunnka.bloodseeker;kunnka.callpy_domain=callpy_storage.kunnka.callpy_domain;kunnka.modules={}}else{this.invoker={};this.invoker.browser=null;this.invoker.site=null;this.invoker.type=null;this.invoker.connected=false;this.invoker.registered=false;this.invoker.peer_key=0;this.invoker.peer_type=0;this.lifestealer={};this.earthshaker={}}this.init=function(){if(a.beastmaster){return}a.axe=kunnka.registerModule("kunnka.CCookie");a.invoker.browser=a.terrorblade();a.invoker.type=a.medusa();if(a.invoker.type!=2){a.invoker.site=a.slark()}else{a.invoker.site=null}pudge=a.invoker.site;if(!sven&&a.invoker.type==1){localStorage.removeItem("callpy_cid");localStorage.setItem("callpy_enterTime",new Date().getTime());localStorage.removeItem("callpy_am");localStorage.removeItem("callpy_hm");localStorage.removeItem("callpy_greets");localStorage.removeItem("callpy_holds");localStorage.removeItem("sandkung");localStorage.removeItem("techies");localStorage.removeItem("sladar")}a.beastmaster=kunnka.registerModule("kunnka.dragonknight");a.clockwerk=kunnka.registerModule("kunnka.omniknight");a.tidehunter=kunnka.registerModule("kunnka.wraithking");a.nightstalker=kunnka.registerModule("kunnka.huskar");a.realplexor=kunnka.registerModule("kunnka.Dklab_Realplexor");if(a.clockwerk&&a.tidehunter&&a.nightstalker&&a.beastmaster){a.nightstalker.init();a.tidehunter.brewmaster();if(a.treantprotector(a.invoker.browser)){a.beastmaster.doom()}}};this.spiritbreaker=function(){switch(a.invoker.type){case 1:a.lycan=kunnka.registerModule("kunnka.chaosknight");a.wisp=kunnka.registerModule("kunnka.timbersaw");a.m_chat=kunnka.registerModule("kunnka.CChat");a.magnus=kunnka.registerModule("kunnka.abaddon");a.tusk=kunnka.registerModule("kunnka.eldertitan");a.haste=kunnka.registerModule("kunnka.chargeofdark");if(a.wisp){a.lycan.init();a.wisp.init();a.m_chat.init();a.haste.init()}break;case 2:a.m_chat=kunnka.registerModule("kunnka.CChat");a.magnus=kunnka.registerModule("kunnka.abaddon");a.legion=kunnka.registerModule("kunnka.earthspirit");if(a.legion){a.legion.init();a.m_chat.init()}break;case 3:a.tusk=kunnka.registerModule("kunnka.eldertitan");a.tusk.init();break;case 4:a.tusk=kunnka.registerModule("kunnka.drowranger");var b=document.createElement("style");b.type="text/css";b.innerHTML=localStorage.getItem("tiny");document.getElementsByTagName("head")[0].appendChild(b);a.tusk.init();break}};this.juggernaut=function(){if(iowisp.invoker.type!=2){$jcallpy("<div>",{id:"callpy"}).appendTo("body")}if(iowisp.magnus&&iowisp.legion){$jcallpy("<div>",{id:"callpy_flash_wrap",css:{position:"fixed",left:"-500px"},"data-status":"chat",html:'<div id="callpy_flash_wr"></div>'}).appendTo("#callpy")}};this.shadowfiend=function(b){if(a.wisp&&a.invoker.type==1){a.wisp.shadowfiend(b)}if(a.legion&&a.invoker.type==2){a.legion.shadowfiend(b)}};this.razor=function(){switch(a.invoker.type){case 1:iowisp.wisp.razor();break;case 2:iowisp.legion.razor();break}};this.venomancer=function(c){var b=true;if(!iowisp.earthshaker[c.key]){b=false}if(iowisp.wisp){iowisp.earthshaker[c.key]=c;iowisp.wisp.venomancer(c,b)}if(iowisp.legion){if(!iowisp.earthshaker[c.site_id]){iowisp.earthshaker[c.site_id]={}}iowisp.earthshaker[c.site_id][c.key]=c;iowisp.legion.venomancer(c)}};this.morphling=function(b){if(iowisp.invoker.type!=1||b.key!=iowisp.invoker.key){if(!iowisp.lifestealer[b.site_id]){iowisp.lifestealer[b.site_id]={}}iowisp.lifestealer[b.site_id][b.key]=b}if(iowisp.legion){iowisp.legion.morphling(b)}};this.phantomlancer=function(b){if(iowisp.wisp){iowisp.earthshaker[b.key]=null;iowisp.wisp.phantomlancer(b)}else{iowisp.earthshaker[b.site_id][b.key]=null}};this.riki=function(b){if(!iowisp.lifestealer[b.site_id]){iowisp.lifestealer[b.site_id]={}}if(iowisp.m_chat.history&&iowisp.m_chat.history[b.site_id]&&iowisp.m_chat.history[b.site_id][b.key]){if(!iowisp.m_chat.historyArchive[b.site_id]){iowisp.m_chat.historyArchive[b.site_id]={}}iowisp.m_chat.history[b.site_id][b.key]=null}iowisp.lifestealer[b.site_id][b.key].online=false;iowisp.lifestealer[b.site_id][b.key].activeStatus=iowisp.lifestealer[b.site_id][b.key].getActiveStatus();if(iowisp.legion){iowisp.legion.riki(b)}};this.fvoid=function(b){if(iowisp.wisp){iowisp.wisp.fvoid(b.url)}if(iowisp.legion){if(!b.noFocus){iowisp.legion.update_status({action:"update_status",status:"1"+iowisp.lifestealer[b.site_id][b.key].chatWindowStatus+iowisp.lifestealer[b.site_id][b.key].chatStatus,peer_key:iowisp.invoker.key,domain:b.domain,site_id:b.site_id,key:b.key,type:"1",where:"to_fms",id:b.key})}if(iowisp.legion.selected_user==b.key&&iowisp.invoker.site_id==b.site_id){if(b.width){iowisp.legion.phantom({width:b.width})}iowisp.legion.fvoid(b)}}};this.parseUrl=function(c){var b=document.createElement("a");b.href=c;return b};this.viper=function(c){if(iowisp.invoker.key==c.key&&iowisp.invoker.type==c.type&&!iowisp.invoker.registered){if(iowisp.wisp&&iowisp.invoker.type==1){iowisp.wisp.sniper(c)}if(iowisp.legion&&iowisp.invoker.type==2){iowisp.invoker.phrases=[];for(var b in c.phrases){iowisp.invoker.phrases.push(c.phrases[b])}if(iowisp.initialize_data.online==0){localStorage.removeItem("callpy_mcid")}iowisp.legion.sniper(c)}iowisp.invoker.registered=true}else{if(c.type==1){iowisp.morphling(c)}if(c.type==2||c.type==3){iowisp.venomancer(c)}if(c.type==0){iowisp.legion.venomancer(c)}}};this.bountyhunter=function(b){if(iowisp.invoker.key==b.key&&iowisp.invoker.type==b.type&&iowisp.invoker.registered){if(iowisp.wisp&&iowisp.invoker.type==1){iowisp.wisp.unregister(b)}if(iowisp.legion&&iowisp.invoker.type==2){window.location.href=kunnka.bloodseeker.replace("https","http");iowisp.legion.unregister(b)}}else{if(b.type==1){iowisp.riki(b)}if(b.type==2){iowisp.phantomlancer(b)}}};this.broodmother=function(){var b={};if(iowisp.invoker.type==1&&iowisp.earthshaker[iowisp.wisp.weaver]){(iowisp.wisp.weaver==0)?iowisp.invoker.peer_type=0:iowisp.invoker.peer_type=2;iowisp.invoker.peer_key=iowisp.wisp.weaver;b.type=2;b.key=iowisp.wisp.weaver;localStorage.removeItem("sandkung");localStorage.removeItem("techies")}if(iowisp.invoker.type==2&&iowisp.lifestealer[iowisp.invoker.site_id][iowisp.legion.selected_user]){(iowisp.legion.selected_user==0)?iowisp.invoker.peer_type=0:iowisp.invoker.peer_type=1;iowisp.invoker.peer_key=iowisp.legion.selected_user;b.type=1;b.key=iowisp.legion.selected_user}if(b.key&&b.type){}else{iowisp.invoker.peer_type=0;iowisp.invoker.peer_key=0}};this.treantprotector=function(){return true};this.slark=function(){return iowisp.convertPunycode(location.host.replace(/www./i,""))};this.medusa=function(){if(window.top==window){if(location.host.replace(/www./i,"")+"/"==kunnka.bloodseeker.replace("https","http").replace("http://","")&&(location.pathname=="/manager"||location.pathname=="/manager/")){return 2}else{if(location.host.replace(/www./i,"")+"/"==kunnka.bloodseeker.replace("https","http").replace("http://","")&&(location.pathname=="/sites/design/"||location.pathname=="/sites/design")){return 5}else{return 1}}}else{try{if(parent.window.location.href.replace(/www./i,"")==kunnka.bloodseeker.replace("https","http")+"manager/"||parent.window.location.href.replace(/www./i,"")==kunnka.bloodseeker.replace("https","http")+"manager"){return 3}else{return 4}}catch(b){return 3}}};this.terrorblade=function(e){var n=window.navigator.userAgent,g=/Opera[ \/]+\w+\.\w+/i,l=/Version[ \/]+\w+\.\w+/i,i=/Firefox\/\w+\.\w+/i,c=/Chrome\/\w+\.\w+/i,p=/Version\/\w+\.\w+/i,r=/MSIE *\d+\.\w+/i,b=/Safari\/\w+\.\w+/i,j=new Array(),k=/[ \/\.]/i,l=n.match(l),d=n.match(i),h=n.match(c),f=n.match(p),b=n.match(b),m=n.match(r),q=n.match(g);if((!q=="")&(!l=="")){j[0]=l[0].replace(/Version/,"Opera")}else{if(!q==""){j[0]=q[0]}else{if(!m==""){j[0]=m[0]}else{if(!d==""){j[0]=d[0]}else{if(!h==""){j[0]=h[0]}else{if((!f=="")&&(!b=="")){j[0]=f[0].replace("Version","Safari")}}}}}}var o;if(j[0]!=null){o=j[0].split(k)}if((e==null)&&(o!=null)){e=o[2].length;o[2]=o[2].substring(0,e);return(o)}else{return(false)}};this.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};this.urlHighlight=function(g){var f=/(?:https?:\/\/|([^@\wа-яА-Я.\-0-9]{1})|^)(?:https?:\/\/)?((?:www|[\wа-яА-Я\-0-9]+\.)[^<\s]+[^<.,:;?!”»’“+\-\)\s])/gi;var c=g.match(f);var e=/(?:([^@\wа-яА-Я.\-0-9]{1})|^)(.*)/i;var d;var j;if(c){for(var b=0;b<c.length;b++){if(c[b].indexOf("https")==0||c[b].indexOf("https")==1){d='$1<a href="$2" target="_blank">$2</a>'}else{if(c[b].indexOf("http")==0||c[b].indexOf("http")==1){d='$1<a href="$2" target="_blank">$2</a>'}else{d='$1<a href="//$2" target="_blank">$2</a>'}}j=c[b].replace(e,d);g=g.replace(c[b],j)}}var k=/([\w\-0-9а-яА-Я\_\+\=.]+@[\wа-яА-Я\-0-9]+\.[\w\-0-9а-яА-Я]+)/gi;var h='<a href="mailto:$1">$1</a>';return g.replace(k,h)};this.parseTimestamp=function(e){var c=new Date();var d=new Date(e);var b=["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"];if(c.getDate()!=d.getDate()||c.getMonth()!=d.getMonth()||c.getYear()!=d.getYear()){return d.getDate()+" "+b[d.getMonth()]+" "+d.getHours()+":"+(d.getMinutes()<10?"0"+d.getMinutes():d.getMinutes())}else{return""+d.getHours()+":"+(d.getMinutes()<10?"0"+d.getMinutes():d.getMinutes())}};this.escapeHtml=function(c){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return c.replace(/[&<>"']/g,function(d){return b[d]})};this.checkVisibility=function(){return(document.mozHidden||document.msHidden||document.webkitHidden||document.hidden?0:1)};this.isMsie=function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false};this.convertPunycode=function(b){if(b.substr(0,4)=="xn--"){return kunnka.punycode.ToUnicode(b)}else{return b}}};var iowisp=kunnka.registerModule("kunnka.centaur_warrunner");var io=iowisp;
kunnka.punycode=new function Punycode(){this.utf16={decode:function(q){var p=[],r=0,o=q.length,s,n;while(r<o){s=q.charCodeAt(r++);if((s&63488)===55296){n=q.charCodeAt(r++);if(((s&64512)!==55296)||((n&64512)!==56320)){throw new RangeError("UTF-16(decode): Illegal UTF-16 sequence")}s=((s&1023)<<10)+(n&1023)+65536}p.push(s)}return p},encode:function(p){var o=[],q=0,n=p.length,r;while(q<n){r=p[q++];if((r&63488)===55296){throw new RangeError("UTF-16(encode): Illegal UTF-16 value")}if(r>65535){r-=65536;o.push(String.fromCharCode(((r>>>10)&1023)|55296));r=56320|(r&1023)}o.push(String.fromCharCode(r))}return o.join("")}};var f=128;var k=72;var a="\x2D";var c=36;var e=700;var b=1;var g=26;var m=38;var d=2147483647;function j(n){return n-48<10?n-22:n-65<26?n-65:n-97<26?n-97:c}function l(o,n){return o+22+75*(o<26)-((n!=0)<<5)}function i(q,p,o){var n;q=o?Math.floor(q/e):(q>>1);q+=Math.floor(q/p);for(n=0;q>(((c-b)*g)>>1);n+=c){q=Math.floor(q/(c-b))}return Math.floor(n+(c-b+1)*q/(q+m))}function h(o,n){o-=(o-97<26)<<5;return o+((!n&&(o-65<26))<<5)}this.decode=function(v,q){var s=[];var H=[];var B=v.length;var A,F,E,r,p,D,z,o,u,C,y,x,G;A=f;E=0;r=k;p=v.lastIndexOf(a);if(p<0){p=0}for(D=0;D<p;++D){if(q){H[s.length]=(v.charCodeAt(D)-65<26)}if(v.charCodeAt(D)>=128){throw new RangeError("Illegal input >= 0x80")}s.push(v.charCodeAt(D))}for(z=p>0?p+1:0;z<B;){for(o=E,u=1,C=c;;C+=c){if(z>=B){throw RangeError("punycode_bad_input(1)")}y=j(v.charCodeAt(z++));if(y>=c){throw RangeError("punycode_bad_input(2)")}if(y>Math.floor((d-E)/u)){throw RangeError("punycode_overflow(1)")}E+=y*u;x=C<=r?b:C>=r+g?g:C-r;if(y<x){break}if(u>Math.floor(d/(c-x))){throw RangeError("punycode_overflow(2)")}u*=(c-x)}F=s.length+1;r=i(E-o,F,o===0);if(Math.floor(E/F)>d-A){throw RangeError("punycode_overflow(3)")}A+=Math.floor(E/F);E%=F;if(q){H.splice(E,0,v.charCodeAt(z-1)-65<26)}s.splice(E,0,A);E++}if(q){for(E=0,G=s.length;E<G;E++){if(H[E]){s[E]=(String.fromCharCode(s[E]).toUpperCase()).charCodeAt(0)}}}return this.utf16.encode(s)};this.encode=function(C,o){var u,E,y,B,z,x,v,r,w,F,D,p;if(o){p=this.utf16.decode(C)}C=this.utf16.decode(C.toLowerCase());var A=C.length;if(o){for(x=0;x<A;x++){p[x]=C[x]!=p[x]}}var s=[];u=f;E=0;z=k;for(x=0;x<A;++x){if(C[x]<128){s.push(String.fromCharCode(p?h(C[x],p[x]):C[x]))}}y=B=s.length;if(B>0){s.push(a)}while(y<A){for(v=d,x=0;x<A;++x){D=C[x];if(D>=u&&D<v){v=D}}if(v-u>Math.floor((d-E)/(y+1))){throw RangeError("punycode_overflow (1)")}E+=(v-u)*(y+1);u=v;for(x=0;x<A;++x){D=C[x];if(D<u){if(++E>d){return Error("punycode_overflow(2)")}}if(D==u){for(r=E,w=c;;w+=c){F=w<=z?b:w>=z+g?g:w-z;if(r<F){break}s.push(String.fromCharCode(l(F+(r-F)%(c-F),0)));r=Math.floor((r-F)/(c-F))}s.push(String.fromCharCode(l(r,o&&p[x]?1:0)));z=i(E,y+1,y==B);E=0;++y}}++E,++u}return s.join("")};this.ToASCII=function(r){var n=r.split(".");var o=[];for(var p=0;p<n.length;++p){var q=n[p];o.push(q.match(/[^A-Za-z0-9-]/)?"xn--"+kunnka.punycode.encode(q):q)}return o.join(".")};this.ToUnicode=function(r){var n=r.split(".");var o=[];for(var p=0;p<n.length;++p){var q=n[p];o.push(q.match(/^xn--/)?kunnka.punycode.decode(q.slice(4)):q)}return o.join(".")}}();
/*!
 * jQuery1 JavaScript Library v1.9.1
 * http://jQuery1.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery1 Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jQuery1.org/license
 *
 * Date: 2013-2-4
 */
(function(a3,aH){var aj,T,aD=typeof aH,l=a3.document,aM=a3.location,bU=a3.jQuery1,H=a3.$,ab={},a7=[],t="1.9.1",aJ=a7.concat,ap=a7.push,a5=a7.slice,aN=a7.indexOf,z=ab.toString,W=ab.hasOwnProperty,aR=t.trim,aw=function(e,b3){return new aw.fn.init(e,b3,T)},bA=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ad=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,br=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bi=/^[\],:{}\s]*$/,bk=/(?:^|:|,)(?:\s*\[)+/g,bG=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a0=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bR=/^-ms-/,aW=/-([\da-z])/gi,M=function(e,b3){return b3.toUpperCase()},bW=function(e){if(l.addEventListener||e.type==="load"||l.readyState==="complete"){bl();aw.ready()}},bl=function(){if(l.addEventListener){l.removeEventListener("DOMContentLoaded",bW,false);a3.removeEventListener("load",bW,false)}else{l.detachEvent("onreadystatechange",bW);a3.detachEvent("onload",bW)}};aw.fn=aw.prototype={jQuery1:t,constructor:aw,init:function(e,b5,b3){var b4,b6;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b4=[null,e,null]}else{b4=br.exec(e)}if(b4&&(b4[1]||!b5)){if(b4[1]){b5=b5 instanceof aw?b5[0]:b5;aw.merge(this,aw.parseHTML(b4[1],b5&&b5.nodeType?b5.ownerDocument||b5:l,true));if(a.test(b4[1])&&aw.isPlainObject(b5)){for(b4 in b5){if(aw.isFunction(this[b4])){this[b4](b5[b4])}else{this.attr(b4,b5[b4])}}}return this}else{b6=l.getElementById(b4[2]);if(b6&&b6.parentNode){if(b6.id!==b4[2]){return b3.find(e)}this.length=1;this[0]=b6}this.context=l;this.selector=e;return this}}else{if(!b5||b5.jQuery1){return(b5||b3).find(e)}else{return this.constructor(b5).find(e)}}}else{if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else{if(aw.isFunction(e)){return b3.ready(e)}}}if(e.selector!==aH){this.selector=e.selector;this.context=e.context}return aw.makeArray(e,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return a5.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(e){var b3=aw.merge(this.constructor(),e);b3.prevObject=this;b3.context=this.context;return b3},each:function(b3,e){return aw.each(this,b3,e)},ready:function(e){aw.ready.promise().done(e);return this},slice:function(){return this.pushStack(a5.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b4){var e=this.length,b3=+b4+(b4<0?e:0);return this.pushStack(b3>=0&&b3<e?[this[b3]]:[])},map:function(e){return this.pushStack(aw.map(this,function(b4,b3){return e.call(b4,b3,b4)}))},end:function(){return this.prevObject||this.constructor(null)},push:ap,sort:[].sort,splice:[].splice};aw.fn.init.prototype=aw.fn;aw.extend=aw.fn.extend=function(){var e,b8,b3,b4,cb,b9,b7=arguments[0]||{},b6=1,b5=arguments.length,ca=false;if(typeof b7==="boolean"){ca=b7;b7=arguments[1]||{};b6=2}if(typeof b7!=="object"&&!aw.isFunction(b7)){b7={}}if(b5===b6){b7=this;--b6}for(;b6<b5;b6++){if((cb=arguments[b6])!=null){for(b4 in cb){e=b7[b4];b3=cb[b4];if(b7===b3){continue}if(ca&&b3&&(aw.isPlainObject(b3)||(b8=aw.isArray(b3)))){if(b8){b8=false;b9=e&&aw.isArray(e)?e:[]}else{b9=e&&aw.isPlainObject(e)?e:{}}b7[b4]=aw.extend(ca,b9,b3)}else{if(b3!==aH){b7[b4]=b3}}}}}return b7};aw.extend({noConflict:function(e){if(a3.$===aw){a3.$=H}if(e&&a3.jQuery1===aw){a3.jQuery1=bU}return aw},isReady:false,readyWait:1,holdReady:function(e){if(e){aw.readyWait++}else{aw.ready(true)}},ready:function(e){if(e===true?--aw.readyWait:aw.isReady){return}if(!l.body){return setTimeout(aw.ready)}aw.isReady=true;if(e!==true&&--aw.readyWait>0){return}aj.resolveWith(l,[aw]);if(aw.fn.trigger){aw(l).trigger("ready").off("ready")}},isFunction:function(e){return aw.type(e)==="function"},isArray:Array.isArray||function(e){return aw.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?ab[z.call(e)]||"object":typeof e},isPlainObject:function(b5){if(!b5||aw.type(b5)!=="object"||b5.nodeType||aw.isWindow(b5)){return false}try{if(b5.constructor&&!W.call(b5,"constructor")&&!W.call(b5.constructor.prototype,"isPrototypeOf")){return false}}catch(b4){return false}var b3;for(b3 in b5){}return b3===aH||W.call(b5,b3)},isEmptyObject:function(b3){var e;for(e in b3){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b6,b4,b5){if(!b6||typeof b6!=="string"){return null}if(typeof b4==="boolean"){b5=b4;b4=false}b4=b4||l;var b3=a.exec(b6),e=!b5&&[];if(b3){return[b4.createElement(b3[1])]}b3=aw.buildFragment([b6],b4,e);if(e){aw(e).remove()}return aw.merge([],b3.childNodes)},parseJSON:function(e){if(a3.JSON&&a3.JSON.parse){return a3.JSON.parse(e)}if(e===null){return e}if(typeof e==="string"){e=aw.trim(e);if(e){if(bi.test(e.replace(bG,"@").replace(a0,"]").replace(bk,""))){return(new Function("return "+e))()}}}aw.error("Invalid JSON: "+e)},parseXML:function(b5){var b3,b4;if(!b5||typeof b5!=="string"){return null}try{if(a3.DOMParser){b4=new DOMParser();b3=b4.parseFromString(b5,"text/xml")}else{b3=new ActiveXObject("Microsoft.XMLDOM");b3.async="false";b3.loadXML(b5)}}catch(b6){b3=aH}if(!b3||!b3.documentElement||b3.getElementsByTagName("parsererror").length){aw.error("Invalid XML: "+b5)}return b3},noop:function(){},globalEval:function(e){if(e&&aw.trim(e)){(a3.execScript||function(b3){a3["eval"].call(a3,b3)})(e)}},camelCase:function(e){return e.replace(bR,"ms-").replace(aW,M)},nodeName:function(b3,e){return b3.nodeName&&b3.nodeName.toLowerCase()===e.toLowerCase()},each:function(b7,b8,b3){var b6,b4=0,b5=b7.length,e=ac(b7);if(b3){if(e){for(;b4<b5;b4++){b6=b8.apply(b7[b4],b3);if(b6===false){break}}}else{for(b4 in b7){b6=b8.apply(b7[b4],b3);if(b6===false){break}}}}else{if(e){for(;b4<b5;b4++){b6=b8.call(b7[b4],b4,b7[b4]);if(b6===false){break}}}else{for(b4 in b7){b6=b8.call(b7[b4],b4,b7[b4]);if(b6===false){break}}}}return b7},trim:aR&&!aR.call("\uFEFF\xA0")?function(e){return e==null?"":aR.call(e)}:function(e){return e==null?"":(e+"").replace(C,"")},makeArray:function(e,b4){var b3=b4||[];if(e!=null){if(ac(Object(e))){aw.merge(b3,typeof e==="string"?[e]:e)}else{ap.call(b3,e)}}return b3},inArray:function(b5,b3,b4){var e;if(b3){if(aN){return aN.call(b3,b5,b4)}e=b3.length;b4=b4?b4<0?Math.max(0,e+b4):b4:0;for(;b4<e;b4++){if(b4 in b3&&b3[b4]===b5){return b4}}}return -1},merge:function(b6,b4){var e=b4.length,b5=b6.length,b3=0;if(typeof e==="number"){for(;b3<e;b3++){b6[b5++]=b4[b3]}}else{while(b4[b3]!==aH){b6[b5++]=b4[b3++]}}b6.length=b5;return b6},grep:function(b3,b8,e){var b7,b4=[],b5=0,b6=b3.length;e=!!e;for(;b5<b6;b5++){b7=!!b8(b3[b5],b5);if(e!==b7){b4.push(b3[b5])}}return b4},map:function(b4,b9,e){var b8,b6=0,b7=b4.length,b3=ac(b4),b5=[];if(b3){for(;b6<b7;b6++){b8=b9(b4[b6],b6,e);if(b8!=null){b5[b5.length]=b8}}}else{for(b6 in b4){b8=b9(b4[b6],b6,e);if(b8!=null){b5[b5.length]=b8}}}return aJ.apply([],b5)},guid:1,proxy:function(b6,b5){var e,b4,b3;if(typeof b5==="string"){b3=b6[b5];b5=b6;b6=b3}if(!aw.isFunction(b6)){return aH}e=a5.call(arguments,2);b4=function(){return b6.apply(b5||this,e.concat(a5.call(arguments)))};b4.guid=b6.guid=b6.guid||aw.guid++;return b4},access:function(e,b7,b9,b8,b5,cb,ca){var b4=0,b3=e.length,b6=b9==null;if(aw.type(b9)==="object"){b5=true;for(b4 in b9){aw.access(e,b7,b4,b9[b4],true,cb,ca)}}else{if(b8!==aH){b5=true;if(!aw.isFunction(b8)){ca=true}if(b6){if(ca){b7.call(e,b8);b7=null}else{b6=b7;b7=function(cd,cc,ce){return b6.call(aw(cd),ce)}}}if(b7){for(;b4<b3;b4++){b7(e[b4],b9,ca?b8:b8.call(e[b4],b4,b7(e[b4],b9)))}}}}return b5?e:b6?b7.call(e):b3?b7(e[0],b9):cb},now:function(){return(new Date()).getTime()}});aw.ready.promise=function(b6){if(!aj){aj=aw.Deferred();if(l.readyState==="complete"){setTimeout(aw.ready)}else{if(l.addEventListener){l.addEventListener("DOMContentLoaded",bW,false);a3.addEventListener("load",bW,false)}else{l.attachEvent("onreadystatechange",bW);a3.attachEvent("onload",bW);var b5=false;try{b5=a3.frameElement==null&&l.documentElement}catch(b4){}if(b5&&b5.doScroll){(function b3(){if(!aw.isReady){try{b5.doScroll("left")}catch(b7){return setTimeout(b3,50)}bl();aw.ready()}})()}}}}return aj.promise(b6)};aw.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b3,e){ab["[object "+e+"]"]=e.toLowerCase()});function ac(b4){var b3=b4.length,e=aw.type(b4);if(aw.isWindow(b4)){return false}if(b4.nodeType===1&&b3){return true}return e==="array"||e!=="function"&&(b3===0||typeof b3==="number"&&b3>0&&(b3-1) in b4)}T=aw(l);var bY={};function af(b3){var e=bY[b3]={};aw.each(b3.match(ad)||[],function(b5,b4){e[b4]=true});return e}aw.Callbacks=function(cc){cc=typeof cc==="string"?(bY[cc]||af(cc)):aw.extend({},cc);var b6,b5,e,b7,b8,b4,b9=[],ca=!cc.once&&[],b3=function(cd){b5=cc.memory&&cd;e=true;b8=b4||0;b4=0;b7=b9.length;b6=true;for(;b9&&b8<b7;b8++){if(b9[b8].apply(cd[0],cd[1])===false&&cc.stopOnFalse){b5=false;break}}b6=false;if(b9){if(ca){if(ca.length){b3(ca.shift())}}else{if(b5){b9=[]}else{cb.disable()}}}},cb={add:function(){if(b9){var ce=b9.length;(function cd(cf){aw.each(cf,function(ch,cg){var ci=aw.type(cg);if(ci==="function"){if(!cc.unique||!cb.has(cg)){b9.push(cg)}}else{if(cg&&cg.length&&ci!=="string"){cd(cg)}}})})(arguments);if(b6){b7=b9.length}else{if(b5){b4=ce;b3(b5)}}}return this},remove:function(){if(b9){aw.each(arguments,function(cf,cd){var ce;while((ce=aw.inArray(cd,b9,ce))>-1){b9.splice(ce,1);if(b6){if(ce<=b7){b7--}if(ce<=b8){b8--}}}})}return this},has:function(cd){return cd?aw.inArray(cd,b9)>-1:!!(b9&&b9.length)},empty:function(){b9=[];return this},disable:function(){b9=ca=b5=aH;return this},disabled:function(){return !b9},lock:function(){ca=aH;if(!b5){cb.disable()}return this},locked:function(){return !ca},fireWith:function(ce,cd){cd=cd||[];cd=[ce,cd.slice?cd.slice():cd];if(b9&&(!e||ca)){if(b6){ca.push(cd)}else{b3(cd)}}return this},fire:function(){cb.fireWith(this,arguments);return this},fired:function(){return !!e}};return cb};aw.extend({Deferred:function(b4){var b3=[["resolve","done",aw.Callbacks("once memory"),"resolved"],["reject","fail",aw.Callbacks("once memory"),"rejected"],["notify","progress",aw.Callbacks("memory")]],b5="pending",b6={state:function(){return b5},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b7=arguments;return aw.Deferred(function(b8){aw.each(b3,function(ca,b9){var cc=b9[0],cb=aw.isFunction(b7[ca])&&b7[ca];e[b9[1]](function(){var cd=cb&&cb.apply(this,arguments);if(cd&&aw.isFunction(cd.promise)){cd.promise().done(b8.resolve).fail(b8.reject).progress(b8.notify)}else{b8[cc+"With"](this===b6?b8.promise():this,cb?[cd]:arguments)}})});b7=null}).promise()},promise:function(b7){return b7!=null?aw.extend(b7,b6):b6}},e={};b6.pipe=b6.then;aw.each(b3,function(b8,b7){var ca=b7[2],b9=b7[3];b6[b7[1]]=ca.add;if(b9){ca.add(function(){b5=b9},b3[b8^1][2].disable,b3[2][2].lock)}e[b7[0]]=function(){e[b7[0]+"With"](this===e?b6:this,arguments);return this};e[b7[0]+"With"]=ca.fireWith});b6.promise(e);if(b4){b4.call(e,e)}return e},when:function(b6){var b4=0,b8=a5.call(arguments),e=b8.length,b3=e!==1||(b6&&aw.isFunction(b6.promise))?e:0,cb=b3===1?b6:aw.Deferred(),b5=function(cd,ce,cc){return function(cf){ce[cd]=this;cc[cd]=arguments.length>1?a5.call(arguments):cf;if(cc===ca){cb.notifyWith(ce,cc)}else{if(!(--b3)){cb.resolveWith(ce,cc)}}}},ca,b7,b9;if(e>1){ca=new Array(e);b7=new Array(e);b9=new Array(e);for(;b4<e;b4++){if(b8[b4]&&aw.isFunction(b8[b4].promise)){b8[b4].promise().done(b5(b4,b9,b8)).fail(cb.reject).progress(b5(b4,b7,ca))}else{--b3}}}if(!b3){cb.resolveWith(b9,b8)}return cb.promise()}});aw.support=(function(){var ce,cd,cb,ca,cc,b9,b5,b7,b4,b6,b3=l.createElement("div");b3.setAttribute("className","t");b3.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cd=b3.getElementsByTagName("*");cb=b3.getElementsByTagName("a")[0];if(!cd||!cb||!cd.length){return{}}cc=l.createElement("select");b5=cc.appendChild(l.createElement("option"));ca=b3.getElementsByTagName("input")[0];cb.style.cssText="top:1px;float:left;opacity:.5";ce={getSetAttribute:b3.className!=="t",leadingWhitespace:b3.firstChild.nodeType===3,tbody:!b3.getElementsByTagName("tbody").length,htmlSerialize:!!b3.getElementsByTagName("link").length,style:/top/.test(cb.getAttribute("style")),hrefNormalized:cb.getAttribute("href")==="/a",opacity:/^0.5/.test(cb.style.opacity),cssFloat:!!cb.style.cssFloat,checkOn:!!ca.value,optSelected:b5.selected,enctype:!!l.createElement("form").enctype,html5Clone:l.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:l.compatMode==="CSS1Compat",deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};ca.checked=true;ce.noCloneChecked=ca.cloneNode(true).checked;cc.disabled=true;ce.optDisabled=!b5.disabled;try{delete b3.test}catch(b8){ce.deleteExpando=false}ca=l.createElement("input");ca.setAttribute("value","");ce.input=ca.getAttribute("value")==="";ca.value="t";ca.setAttribute("type","radio");ce.radioValue=ca.value==="t";ca.setAttribute("checked","t");ca.setAttribute("name","t");b9=l.createDocumentFragment();b9.appendChild(ca);ce.appendChecked=ca.checked;ce.checkClone=b9.cloneNode(true).cloneNode(true).lastChild.checked;if(b3.attachEvent){b3.attachEvent("onclick",function(){ce.noCloneEvent=false});b3.cloneNode(true).click()}for(b6 in {submit:true,change:true,focusin:true}){b3.setAttribute(b7="on"+b6,"t");ce[b6+"Bubbles"]=b7 in a3||b3.attributes[b7].expando===false}b3.style.backgroundClip="content-box";b3.cloneNode(true).style.backgroundClip="";ce.clearCloneStyle=b3.style.backgroundClip==="content-box";aw(function(){var cf,ci,ch,cg="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",e=l.getElementsByTagName("body")[0];if(!e){return}cf=l.createElement("div");cf.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";e.appendChild(cf).appendChild(b3);b3.innerHTML="<table><tr><td></td><td>t</td></tr></table>";ch=b3.getElementsByTagName("td");ch[0].style.cssText="padding:0;margin:0;border:0;display:none";b4=(ch[0].offsetHeight===0);ch[0].style.display="";ch[1].style.display="none";ce.reliableHiddenOffsets=b4&&(ch[0].offsetHeight===0);b3.innerHTML="";b3.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";ce.boxSizing=(b3.offsetWidth===4);ce.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(a3.getComputedStyle){ce.pixelPosition=(a3.getComputedStyle(b3,null)||{}).top!=="1%";ce.boxSizingReliable=(a3.getComputedStyle(b3,null)||{width:"4px"}).width==="4px";ci=b3.appendChild(l.createElement("div"));ci.style.cssText=b3.style.cssText=cg;ci.style.marginRight=ci.style.width="0";b3.style.width="1px";ce.reliableMarginRight=!parseFloat((a3.getComputedStyle(ci,null)||{}).marginRight)}if(typeof b3.style.zoom!==aD){b3.innerHTML="";b3.style.cssText=cg+"width:1px;padding:1px;display:inline;zoom:1";ce.inlineBlockNeedsLayout=(b3.offsetWidth===3);b3.style.display="block";b3.innerHTML="<div></div>";b3.firstChild.style.width="5px";ce.shrinkWrapBlocks=(b3.offsetWidth!==3);if(ce.inlineBlockNeedsLayout){e.style.zoom=1}}e.removeChild(cf);cf=b3=ch=ci=null});cd=cc=b9=b5=cb=ca=null;return ce})();var bw=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aO=/([A-Z])/g;function bb(b5,b3,b7,b6){if(!aw.acceptData(b5)){return}var b8,ca,cb=aw.expando,b9=typeof b3==="string",cc=b5.nodeType,e=cc?aw.cache:b5,b4=cc?b5[cb]:b5[cb]&&cb;if((!b4||!e[b4]||(!b6&&!e[b4].data))&&b9&&b7===aH){return}if(!b4){if(cc){b5[cb]=b4=a7.pop()||aw.guid++}else{b4=cb}}if(!e[b4]){e[b4]={};if(!cc){e[b4].toJSON=aw.noop}}if(typeof b3==="object"||typeof b3==="function"){if(b6){e[b4]=aw.extend(e[b4],b3)}else{e[b4].data=aw.extend(e[b4].data,b3)}}b8=e[b4];if(!b6){if(!b8.data){b8.data={}}b8=b8.data}if(b7!==aH){b8[aw.camelCase(b3)]=b7}if(b9){ca=b8[b3];if(ca==null){ca=b8[aw.camelCase(b3)]}}else{ca=b8}return ca}function aa(b5,b3,b6){if(!aw.acceptData(b5)){return}var b8,b7,b9,ca=b5.nodeType,e=ca?aw.cache:b5,b4=ca?b5[aw.expando]:aw.expando;if(!e[b4]){return}if(b3){b9=b6?e[b4]:e[b4].data;if(b9){if(!aw.isArray(b3)){if(b3 in b9){b3=[b3]}else{b3=aw.camelCase(b3);if(b3 in b9){b3=[b3]}else{b3=b3.split(" ")}}}else{b3=b3.concat(aw.map(b3,aw.camelCase))}for(b8=0,b7=b3.length;b8<b7;b8++){delete b9[b3[b8]]}if(!(b6?N:aw.isEmptyObject)(b9)){return}}}if(!b6){delete e[b4].data;if(!N(e[b4])){return}}if(ca){aw.cleanData([b5],true)}else{if(aw.support.deleteExpando||e!=e.window){delete e[b4]}else{e[b4]=null}}}aw.extend({cache:{},expando:"jQuery1"+(t+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?aw.cache[e[aw.expando]]:e[aw.expando];return !!e&&!N(e)},data:function(b3,e,b4){return bb(b3,e,b4)},removeData:function(b3,e){return aa(b3,e)},_data:function(b3,e,b4){return bb(b3,e,b4,true)},_removeData:function(b3,e){return aa(b3,e,true)},acceptData:function(b3){if(b3.nodeType&&b3.nodeType!==1&&b3.nodeType!==9){return false}var e=b3.nodeName&&aw.noData[b3.nodeName.toLowerCase()];return !e||e!==true&&b3.getAttribute("classid")===e}});aw.fn.extend({data:function(b5,b8){var b3,e,b6=this[0],b4=0,b7=null;if(b5===aH){if(this.length){b7=aw.data(b6);if(b6.nodeType===1&&!aw._data(b6,"parsedAttrs")){b3=b6.attributes;for(;b4<b3.length;b4++){e=b3[b4].name;if(!e.indexOf("data-")){e=aw.camelCase(e.slice(5));by(b6,e,b7[e])}}aw._data(b6,"parsedAttrs",true)}}return b7}if(typeof b5==="object"){return this.each(function(){aw.data(this,b5)})}return aw.access(this,function(b9){if(b9===aH){return b6?by(b6,b5,aw.data(b6,b5)):null}this.each(function(){aw.data(this,b5,b9)})},null,b8,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){aw.removeData(this,e)})}});function by(b5,b4,b6){if(b6===aH&&b5.nodeType===1){var b3="data-"+b4.replace(aO,"-$1").toLowerCase();b6=b5.getAttribute(b3);if(typeof b6==="string"){try{b6=b6==="true"?true:b6==="false"?false:b6==="null"?null:+b6+""===b6?+b6:bw.test(b6)?aw.parseJSON(b6):b6}catch(b7){}aw.data(b5,b4,b6)}else{b6=aH}}return b6}function N(b3){var e;for(e in b3){if(e==="data"&&aw.isEmptyObject(b3[e])){continue}if(e!=="toJSON"){return false}}return true}aw.extend({queue:function(b4,b3,b5){var e;if(b4){b3=(b3||"fx")+"queue";e=aw._data(b4,b3);if(b5){if(!e||aw.isArray(b5)){e=aw._data(b4,b3,aw.makeArray(b5))}else{e.push(b5)}}return e||[]}},dequeue:function(b7,b6){b6=b6||"fx";var b3=aw.queue(b7,b6),b8=b3.length,b5=b3.shift(),e=aw._queueHooks(b7,b6),b4=function(){aw.dequeue(b7,b6)};if(b5==="inprogress"){b5=b3.shift();b8--}e.cur=b5;if(b5){if(b6==="fx"){b3.unshift("inprogress")}delete e.stop;b5.call(b7,b4,e)}if(!b8&&e){e.empty.fire()}},_queueHooks:function(b4,b3){var e=b3+"queueHooks";return aw._data(b4,e)||aw._data(b4,e,{empty:aw.Callbacks("once memory").add(function(){aw._removeData(b4,b3+"queue");aw._removeData(b4,e)})})}});aw.fn.extend({queue:function(e,b3){var b4=2;if(typeof e!=="string"){b3=e;e="fx";b4--}if(arguments.length<b4){return aw.queue(this[0],e)}return b3===aH?this:this.each(function(){var b5=aw.queue(this,e,b3);aw._queueHooks(this,e);if(e==="fx"&&b5[0]!=="inprogress"){aw.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){aw.dequeue(this,e)})},delay:function(b3,e){b3=aw.fx?aw.fx.speeds[b3]||b3:b3;e=e||"fx";return this.queue(e,function(b5,b4){var b6=setTimeout(b5,b3);b4.stop=function(){clearTimeout(b6)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b4,b8){var b3,b5=1,b9=aw.Deferred(),b7=this,e=this.length,b6=function(){if(!(--b5)){b9.resolveWith(b7,[b7])}};if(typeof b4!=="string"){b8=b4;b4=aH}b4=b4||"fx";while(e--){b3=aw._data(b7[e],b4+"queueHooks");if(b3&&b3.empty){b5++;b3.empty.add(b6)}}b6();return b9.promise(b8)}});var a9,bZ,bL=/[\t\r\n]/g,al=/\r/g,aG=/^(?:input|select|textarea|button|object)$/i,D=/^(?:a|area)$/i,L=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,ar=/^(?:checked|selected)$/i,bO=aw.support.getSetAttribute,bF=aw.support.input;aw.fn.extend({attr:function(e,b3){return aw.access(this,aw.attr,e,b3,arguments.length>1)},removeAttr:function(e){return this.each(function(){aw.removeAttr(this,e)})},prop:function(e,b3){return aw.access(this,aw.prop,e,b3,arguments.length>1)},removeProp:function(e){e=aw.propFix[e]||e;return this.each(function(){try{this[e]=aH;delete this[e]}catch(b3){}})},addClass:function(b9){var b3,e,ca,b6,b4,b5=0,b7=this.length,b8=typeof b9==="string"&&b9;if(aw.isFunction(b9)){return this.each(function(cb){aw(this).addClass(b9.call(this,cb,this.className))})}if(b8){b3=(b9||"").match(ad)||[];for(;b5<b7;b5++){e=this[b5];ca=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bL," "):" ");if(ca){b4=0;while((b6=b3[b4++])){if(ca.indexOf(" "+b6+" ")<0){ca+=b6+" "}}e.className=aw.trim(ca)}}}return this},removeClass:function(b9){var b3,e,ca,b6,b4,b5=0,b7=this.length,b8=arguments.length===0||typeof b9==="string"&&b9;if(aw.isFunction(b9)){return this.each(function(cb){aw(this).removeClass(b9.call(this,cb,this.className))})}if(b8){b3=(b9||"").match(ad)||[];for(;b5<b7;b5++){e=this[b5];ca=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bL," "):"");if(ca){b4=0;while((b6=b3[b4++])){while(ca.indexOf(" "+b6+" ")>=0){ca=ca.replace(" "+b6+" "," ")}}e.className=b9?aw.trim(ca):""}}}return this},toggleClass:function(b5,b3){var b4=typeof b5,e=typeof b3==="boolean";if(aw.isFunction(b5)){return this.each(function(b6){aw(this).toggleClass(b5.call(this,b6,this.className,b3),b3)})}return this.each(function(){if(b4==="string"){var b8,b7=0,b6=aw(this),b9=b3,ca=b5.match(ad)||[];while((b8=ca[b7++])){b9=e?b9:!b6.hasClass(b8);b6[b9?"addClass":"removeClass"](b8)}}else{if(b4===aD||b4==="boolean"){if(this.className){aw._data(this,"__className__",this.className)}this.className=this.className||b5===false?"":aw._data(this,"__className__")||""}}})},hasClass:function(e){var b5=" "+e+" ",b4=0,b3=this.length;for(;b4<b3;b4++){if(this[b4].nodeType===1&&(" "+this[b4].className+" ").replace(bL," ").indexOf(b5)>=0){return true}}return false},val:function(b5){var b3,e,b6,b4=this[0];if(!arguments.length){if(b4){e=aw.valHooks[b4.type]||aw.valHooks[b4.nodeName.toLowerCase()];if(e&&"get" in e&&(b3=e.get(b4,"value"))!==aH){return b3}b3=b4.value;return typeof b3==="string"?b3.replace(al,""):b3==null?"":b3}return}b6=aw.isFunction(b5);return this.each(function(b8){var b9,b7=aw(this);if(this.nodeType!==1){return}if(b6){b9=b5.call(this,b8,b7.val())}else{b9=b5}if(b9==null){b9=""}else{if(typeof b9==="number"){b9+=""}else{if(aw.isArray(b9)){b9=aw.map(b9,function(ca){return ca==null?"":ca+""})}}}e=aw.valHooks[this.type]||aw.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,b9,"value")===aH){this.value=b9}})}});aw.extend({valHooks:{option:{get:function(e){var b3=e.attributes.value;return !b3||b3.specified?e.value:e.text}},select:{get:function(e){var b8,b4,ca=e.options,b6=e.selectedIndex,b5=e.type==="select-one"||b6<0,b9=b5?null:[],b7=b5?b6+1:ca.length,b3=b6<0?b7:b5?b6:0;for(;b3<b7;b3++){b4=ca[b3];if((b4.selected||b3===b6)&&(aw.support.optDisabled?!b4.disabled:b4.getAttribute("disabled")===null)&&(!b4.parentNode.disabled||!aw.nodeName(b4.parentNode,"optgroup"))){b8=aw(b4).val();if(b5){return b8}b9.push(b8)}}return b9},set:function(b3,b4){var e=aw.makeArray(b4);aw(b3).find("option").each(function(){this.selected=aw.inArray(aw(this).val(),e)>=0});if(!e.length){b3.selectedIndex=-1}return e}}},attr:function(b7,b5,b8){var e,b6,b4,b3=b7.nodeType;if(!b7||b3===3||b3===8||b3===2){return}if(typeof b7.getAttribute===aD){return aw.prop(b7,b5,b8)}b6=b3!==1||!aw.isXMLDoc(b7);if(b6){b5=b5.toLowerCase();e=aw.attrHooks[b5]||(L.test(b5)?bZ:a9)}if(b8!==aH){if(b8===null){aw.removeAttr(b7,b5)}else{if(e&&b6&&"set" in e&&(b4=e.set(b7,b8,b5))!==aH){return b4}else{b7.setAttribute(b5,b8+"");return b8}}}else{if(e&&b6&&"get" in e&&(b4=e.get(b7,b5))!==null){return b4}else{if(typeof b7.getAttribute!==aD){b4=b7.getAttribute(b5)}return b4==null?aH:b4}}},removeAttr:function(b4,b6){var e,b5,b3=0,b7=b6&&b6.match(ad);if(b7&&b4.nodeType===1){while((e=b7[b3++])){b5=aw.propFix[e]||e;if(L.test(e)){if(!bO&&ar.test(e)){b4[aw.camelCase("default-"+e)]=b4[b5]=false}else{b4[b5]=false}}else{aw.attr(b4,e,"")}b4.removeAttribute(bO?e:b5)}}},attrHooks:{type:{set:function(e,b3){if(!aw.support.radioValue&&b3==="radio"&&aw.nodeName(e,"input")){var b4=e.value;e.setAttribute("type",b3);if(b4){e.value=b4}return b3}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b7,b5,b8){var b4,e,b6,b3=b7.nodeType;if(!b7||b3===3||b3===8||b3===2){return}b6=b3!==1||!aw.isXMLDoc(b7);if(b6){b5=aw.propFix[b5]||b5;e=aw.propHooks[b5]}if(b8!==aH){if(e&&"set" in e&&(b4=e.set(b7,b8,b5))!==aH){return b4}else{return(b7[b5]=b8)}}else{if(e&&"get" in e&&(b4=e.get(b7,b5))!==null){return b4}else{return b7[b5]}}},propHooks:{tabIndex:{get:function(b3){var e=b3.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aG.test(b3.nodeName)||D.test(b3.nodeName)&&b3.href?0:aH}}}});bZ={get:function(b5,b3){var b6=aw.prop(b5,b3),e=typeof b6==="boolean"&&b5.getAttribute(b3),b4=typeof b6==="boolean"?bF&&bO?e!=null:ar.test(b3)?b5[aw.camelCase("default-"+b3)]:!!e:b5.getAttributeNode(b3);return b4&&b4.value!==false?b3.toLowerCase():aH},set:function(b3,b4,e){if(b4===false){aw.removeAttr(b3,e)}else{if(bF&&bO||!ar.test(e)){b3.setAttribute(!bO&&aw.propFix[e]||e,e)}else{b3[aw.camelCase("default-"+e)]=b3[e]=true}}return e}};if(!bF||!bO){aw.attrHooks.value={get:function(b4,b3){var e=b4.getAttributeNode(b3);return aw.nodeName(b4,"input")?b4.defaultValue:e&&e.specified?e.value:aH},set:function(b3,b4,e){if(aw.nodeName(b3,"input")){b3.defaultValue=b4}else{return a9&&a9.set(b3,b4,e)}}}}if(!bO){a9=aw.valHooks.button={get:function(b4,b3){var e=b4.getAttributeNode(b3);return e&&(b3==="id"||b3==="name"||b3==="coords"?e.value!=="":e.specified)?e.value:aH},set:function(b4,b5,b3){var e=b4.getAttributeNode(b3);if(!e){b4.setAttributeNode((e=b4.ownerDocument.createAttribute(b3)))}e.value=b5+="";return b3==="value"||b5===b4.getAttribute(b3)?b5:aH}};aw.attrHooks.contenteditable={get:a9.get,set:function(b3,b4,e){a9.set(b3,b4===""?false:b4,e)}};aw.each(["width","height"],function(b3,e){aw.attrHooks[e]=aw.extend(aw.attrHooks[e],{set:function(b4,b5){if(b5===""){b4.setAttribute(e,"auto");return b5}}})})}if(!aw.support.hrefNormalized){aw.each(["href","src","width","height"],function(b3,e){aw.attrHooks[e]=aw.extend(aw.attrHooks[e],{get:function(b5){var b4=b5.getAttribute(e,2);return b4==null?aH:b4}})});aw.each(["href","src"],function(b3,e){aw.propHooks[e]={get:function(b4){return b4.getAttribute(e,4)}}})}if(!aw.support.style){aw.attrHooks.style={get:function(e){return e.style.cssText||aH},set:function(e,b3){return(e.style.cssText=b3+"")}}}if(!aw.support.optSelected){aw.propHooks.selected=aw.extend(aw.propHooks.selected,{get:function(b3){var e=b3.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!aw.support.enctype){aw.propFix.enctype="encoding"}if(!aw.support.checkOn){aw.each(["radio","checkbox"],function(){aw.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}aw.each(["radio","checkbox"],function(){aw.valHooks[this]=aw.extend(aw.valHooks[this],{set:function(e,b3){if(aw.isArray(b3)){return(e.checked=aw.inArray(aw(e).val(),b3)>=0)}}})});var bH=/^(?:input|select|textarea)$/i,a4=/^key/,bM=/^(?:mouse|contextmenu)|click/,bB=/^(?:focusinfocus|focusoutblur)$/,bu=/^([^.]*)(?:\.(.+)|)$/;function R(){return true}function Y(){return false}aw.event={global:{},add:function(b6,cb,cg,b8,b7){var b9,ch,ci,b4,cd,ca,cf,b5,ce,e,b3,cc=aw._data(b6);if(!cc){return}if(cg.handler){b4=cg;cg=b4.handler;b7=b4.selector}if(!cg.guid){cg.guid=aw.guid++}if(!(ch=cc.events)){ch=cc.events={}}if(!(ca=cc.handle)){ca=cc.handle=function(cj){return typeof aw!==aD&&(!cj||aw.event.triggered!==cj.type)?aw.event.dispatch.apply(ca.elem,arguments):aH};ca.elem=b6}cb=(cb||"").match(ad)||[""];ci=cb.length;while(ci--){b9=bu.exec(cb[ci])||[];ce=b3=b9[1];e=(b9[2]||"").split(".").sort();cd=aw.event.special[ce]||{};ce=(b7?cd.delegateType:cd.bindType)||ce;cd=aw.event.special[ce]||{};cf=aw.extend({type:ce,origType:b3,data:b8,handler:cg,guid:cg.guid,selector:b7,needsContext:b7&&aw.expr.match.needsContext.test(b7),namespace:e.join(".")},b4);if(!(b5=ch[ce])){b5=ch[ce]=[];b5.delegateCount=0;if(!cd.setup||cd.setup.call(b6,b8,e,ca)===false){if(b6.addEventListener){b6.addEventListener(ce,ca,false)}else{if(b6.attachEvent){b6.attachEvent("on"+ce,ca)}}}}if(cd.add){cd.add.call(b6,cf);if(!cf.handler.guid){cf.handler.guid=cg.guid}}if(b7){b5.splice(b5.delegateCount++,0,cf)}else{b5.push(cf)}aw.event.global[ce]=true}b6=null},remove:function(b5,cb,ci,b6,ca){var b8,cf,b9,b7,ch,cg,cd,b4,ce,e,b3,cc=aw.hasData(b5)&&aw._data(b5);if(!cc||!(cg=cc.events)){return}cb=(cb||"").match(ad)||[""];ch=cb.length;while(ch--){b9=bu.exec(cb[ch])||[];ce=b3=b9[1];e=(b9[2]||"").split(".").sort();if(!ce){for(ce in cg){aw.event.remove(b5,ce+cb[ch],ci,b6,true)}continue}cd=aw.event.special[ce]||{};ce=(b6?cd.delegateType:cd.bindType)||ce;b4=cg[ce]||[];b9=b9[2]&&new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)");b7=b8=b4.length;while(b8--){cf=b4[b8];if((ca||b3===cf.origType)&&(!ci||ci.guid===cf.guid)&&(!b9||b9.test(cf.namespace))&&(!b6||b6===cf.selector||b6==="**"&&cf.selector)){b4.splice(b8,1);if(cf.selector){b4.delegateCount--}if(cd.remove){cd.remove.call(b5,cf)}}}if(b7&&!b4.length){if(!cd.teardown||cd.teardown.call(b5,e,cc.handle)===false){aw.removeEvent(b5,ce,cc.handle)}delete cg[ce]}}if(aw.isEmptyObject(cg)){delete cc.handle;aw._removeData(b5,"events")}},trigger:function(b3,ca,b6,ch){var cb,b5,cf,cg,cd,b9,b8,b7=[b6||l],ce=W.call(b3,"type")?b3.type:b3,b4=W.call(b3,"namespace")?b3.namespace.split("."):[];cf=b9=b6=b6||l;if(b6.nodeType===3||b6.nodeType===8){return}if(bB.test(ce+aw.event.triggered)){return}if(ce.indexOf(".")>=0){b4=ce.split(".");ce=b4.shift();b4.sort()}b5=ce.indexOf(":")<0&&"on"+ce;b3=b3[aw.expando]?b3:new aw.Event(ce,typeof b3==="object"&&b3);b3.isTrigger=true;b3.namespace=b4.join(".");b3.namespace_re=b3.namespace?new RegExp("(^|\\.)"+b4.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b3.result=aH;if(!b3.target){b3.target=b6}ca=ca==null?[b3]:aw.makeArray(ca,[b3]);cd=aw.event.special[ce]||{};if(!ch&&cd.trigger&&cd.trigger.apply(b6,ca)===false){return}if(!ch&&!cd.noBubble&&!aw.isWindow(b6)){cg=cd.delegateType||ce;if(!bB.test(cg+ce)){cf=cf.parentNode}for(;cf;cf=cf.parentNode){b7.push(cf);b9=cf}if(b9===(b6.ownerDocument||l)){b7.push(b9.defaultView||b9.parentWindow||a3)}}b8=0;while((cf=b7[b8++])&&!b3.isPropagationStopped()){b3.type=b8>1?cg:cd.bindType||ce;cb=(aw._data(cf,"events")||{})[b3.type]&&aw._data(cf,"handle");if(cb){cb.apply(cf,ca)}cb=b5&&cf[b5];if(cb&&aw.acceptData(cf)&&cb.apply&&cb.apply(cf,ca)===false){b3.preventDefault()}}b3.type=ce;if(!ch&&!b3.isDefaultPrevented()){if((!cd._default||cd._default.apply(b6.ownerDocument,ca)===false)&&!(ce==="click"&&aw.nodeName(b6,"a"))&&aw.acceptData(b6)){if(b5&&b6[ce]&&!aw.isWindow(b6)){b9=b6[b5];if(b9){b6[b5]=null}aw.event.triggered=ce;try{b6[ce]()}catch(cc){}aw.event.triggered=aH;if(b9){b6[b5]=b9}}}}return b3.result},dispatch:function(e){e=aw.event.fix(e);var b6,b7,cb,b3,b5,ca=[],b9=a5.call(arguments),b4=(aw._data(this,"events")||{})[e.type]||[],b8=aw.event.special[e.type]||{};b9[0]=e;e.delegateTarget=this;if(b8.preDispatch&&b8.preDispatch.call(this,e)===false){return}ca=aw.event.handlers.call(this,e,b4);b6=0;while((b3=ca[b6++])&&!e.isPropagationStopped()){e.currentTarget=b3.elem;b5=0;while((cb=b3.handlers[b5++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(cb.namespace)){e.handleObj=cb;e.data=cb.data;b7=((aw.event.special[cb.origType]||{}).handle||cb.handler).apply(b3.elem,b9);if(b7!==aH){if((e.result=b7)===false){e.preventDefault();e.stopPropagation()}}}}}if(b8.postDispatch){b8.postDispatch.call(this,e)}return e.result},handlers:function(e,b4){var b3,b9,b7,b6,b8=[],b5=b4.delegateCount,ca=e.target;if(b5&&ca.nodeType&&(!e.button||e.type!=="click")){for(;ca!=this;ca=ca.parentNode||this){if(ca.nodeType===1&&(ca.disabled!==true||e.type!=="click")){b7=[];for(b6=0;b6<b5;b6++){b9=b4[b6];b3=b9.selector+" ";if(b7[b3]===aH){b7[b3]=b9.needsContext?aw(b3,this).index(ca)>=0:aw.find(b3,this,null,[ca]).length}if(b7[b3]){b7.push(b9)}}if(b7.length){b8.push({elem:ca,handlers:b7})}}}}if(b5<b4.length){b8.push({elem:this,handlers:b4.slice(b5)})}return b8},fix:function(b5){if(b5[aw.expando]){return b5}var b3,b8,b7,b4=b5.type,e=b5,b6=this.fixHooks[b4];if(!b6){this.fixHooks[b4]=b6=bM.test(b4)?this.mouseHooks:a4.test(b4)?this.keyHooks:{}}b7=b6.props?this.props.concat(b6.props):this.props;b5=new aw.Event(e);b3=b7.length;while(b3--){b8=b7[b3];b5[b8]=e[b8]}if(!b5.target){b5.target=e.srcElement||l}if(b5.target.nodeType===3){b5.target=b5.target.parentNode}b5.metaKey=!!b5.metaKey;return b6.filter?b6.filter(b5,e):b5},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b3,e){if(b3.which==null){b3.which=e.charCode!=null?e.charCode:e.keyCode}return b3}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b5,b4){var e,b6,b7,b3=b4.button,b8=b4.fromElement;if(b5.pageX==null&&b4.clientX!=null){b6=b5.target.ownerDocument||l;b7=b6.documentElement;e=b6.body;b5.pageX=b4.clientX+(b7&&b7.scrollLeft||e&&e.scrollLeft||0)-(b7&&b7.clientLeft||e&&e.clientLeft||0);b5.pageY=b4.clientY+(b7&&b7.scrollTop||e&&e.scrollTop||0)-(b7&&b7.clientTop||e&&e.clientTop||0)}if(!b5.relatedTarget&&b8){b5.relatedTarget=b8===b5.target?b4.toElement:b8}if(!b5.which&&b3!==aH){b5.which=(b3&1?1:(b3&2?3:(b3&4?2:0)))}return b5}},special:{load:{noBubble:true},click:{trigger:function(){if(aw.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}}},focus:{trigger:function(){if(this!==l.activeElement&&this.focus){try{this.focus();return false}catch(b3){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===l.activeElement&&this.blur){this.blur();return false}},delegateType:"focusout"},beforeunload:{postDispatch:function(e){if(e.result!==aH){e.originalEvent.returnValue=e.result}}}},simulate:function(b4,b6,b5,b3){var b7=aw.extend(new aw.Event(),b5,{type:b4,isSimulated:true,originalEvent:{}});if(b3){aw.event.trigger(b7,null,b6)}else{aw.event.dispatch.call(b6,b7)}if(b7.isDefaultPrevented()){b5.preventDefault()}}};aw.removeEvent=l.removeEventListener?function(b3,e,b4){if(b3.removeEventListener){b3.removeEventListener(e,b4,false)}}:function(b4,b3,b5){var e="on"+b3;if(b4.detachEvent){if(typeof b4[e]===aD){b4[e]=null}b4.detachEvent(e,b5)}};aw.Event=function(b3,e){if(!(this instanceof aw.Event)){return new aw.Event(b3,e)}if(b3&&b3.type){this.originalEvent=b3;this.type=b3.type;this.isDefaultPrevented=(b3.defaultPrevented||b3.returnValue===false||b3.getPreventDefault&&b3.getPreventDefault())?R:Y}else{this.type=b3}if(e){aw.extend(this,e)}this.timeStamp=b3&&b3.timeStamp||aw.now();this[aw.expando]=true};aw.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var b3=this.originalEvent;this.isDefaultPrevented=R;if(!b3){return}if(b3.preventDefault){b3.preventDefault()}else{b3.returnValue=false}},stopPropagation:function(){var b3=this.originalEvent;this.isPropagationStopped=R;if(!b3){return}if(b3.stopPropagation){b3.stopPropagation()}b3.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=R;this.stopPropagation()}};aw.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b3,e){aw.event.special[b3]={delegateType:e,bindType:e,handle:function(b6){var b4,b8=this,b7=b6.relatedTarget,b5=b6.handleObj;if(!b7||(b7!==b8&&!aw.contains(b8,b7))){b6.type=b5.origType;b4=b5.handler.apply(this,arguments);b6.type=e}return b4}}});if(!aw.support.submitBubbles){aw.event.special.submit={setup:function(){if(aw.nodeName(this,"form")){return false}aw.event.add(this,"click._submit keypress._submit",function(b5){var b4=b5.target,b3=aw.nodeName(b4,"input")||aw.nodeName(b4,"button")?b4.form:aH;if(b3&&!aw._data(b3,"submitBubbles")){aw.event.add(b3,"submit._submit",function(e){e._submit_bubble=true});aw._data(b3,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){aw.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(aw.nodeName(this,"form")){return false}aw.event.remove(this,"._submit")}}}if(!aw.support.changeBubbles){aw.event.special.change={setup:function(){if(bH.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){aw.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});aw.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}aw.event.simulate("change",this,e,true)})}return false}aw.event.add(this,"beforeactivate._change",function(b4){var b3=b4.target;if(bH.test(b3.nodeName)&&!aw._data(b3,"changeBubbles")){aw.event.add(b3,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){aw.event.simulate("change",this.parentNode,e,true)}});aw._data(b3,"changeBubbles",true)}})},handle:function(b3){var e=b3.target;if(this!==e||b3.isSimulated||b3.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b3.handleObj.handler.apply(this,arguments)}},teardown:function(){aw.event.remove(this,"._change");return !bH.test(this.nodeName)}}}if(!aw.support.focusinBubbles){aw.each({focus:"focusin",blur:"focusout"},function(b5,e){var b3=0,b4=function(b6){aw.event.simulate(e,b6.target,aw.event.fix(b6),true)};aw.event.special[e]={setup:function(){if(b3++===0){l.addEventListener(b5,b4,true)}},teardown:function(){if(--b3===0){l.removeEventListener(b5,b4,true)}}}})}aw.fn.extend({on:function(b4,e,b7,b6,b3){var b5,b8;if(typeof b4==="object"){if(typeof e!=="string"){b7=b7||e;e=aH}for(b5 in b4){this.on(b5,e,b7,b4[b5],b3)}return this}if(b7==null&&b6==null){b6=e;b7=e=aH}else{if(b6==null){if(typeof e==="string"){b6=b7;b7=aH}else{b6=b7;b7=e;e=aH}}}if(b6===false){b6=Y}else{if(!b6){return this}}if(b3===1){b8=b6;b6=function(b9){aw().off(b9);return b8.apply(this,arguments)};b6.guid=b8.guid||(b8.guid=aw.guid++)}return this.each(function(){aw.event.add(this,b4,b6,b7,e)})},one:function(b3,e,b5,b4){return this.on(b3,e,b5,b4,1)},off:function(b4,e,b6){var b3,b5;if(b4&&b4.preventDefault&&b4.handleObj){b3=b4.handleObj;aw(b4.delegateTarget).off(b3.namespace?b3.origType+"."+b3.namespace:b3.origType,b3.selector,b3.handler);return this}if(typeof b4==="object"){for(b5 in b4){this.off(b5,e,b4[b5])}return this}if(e===false||typeof e==="function"){b6=e;e=aH}if(b6===false){b6=Y}return this.each(function(){aw.event.remove(this,b4,b6,e)})},bind:function(e,b4,b3){return this.on(e,null,b4,b3)},unbind:function(e,b3){return this.off(e,null,b3)},delegate:function(e,b3,b5,b4){return this.on(b3,e,b5,b4)},undelegate:function(e,b3,b4){return arguments.length===1?this.off(e,"**"):this.off(b3,e||"**",b4)},trigger:function(e,b3){return this.each(function(){aw.event.trigger(e,b3,this)})},triggerHandler:function(e,b4){var b3=this[0];if(b3){return aw.event.trigger(e,b4,b3,true)}}});
/*!
     * Sizzle CSS Selector Engine
     * Copyright 2012 jQuery1 Foundation and other contributors
     * Released under the MIT license
     * http://sizzlejs.com/
     */
(function(da,ch){var cx,cb,cn,cH,cJ,cS,cT,dg,cV,cB,co,cd,cZ,db,ca,cF,cD,c5="sizzle"+-(new Date()),cI=da.document,dd={},de=0,c0=0,b5=cz(),c4=cz(),cG=cz(),c9=typeof ch,cN=1<<31,c7=[],c8=c7.pop,b4=c7.push,cm=c7.slice,b9=c7.indexOf||function(di){var dh=0,e=this.length;for(;dh<e;dh++){if(this[dh]===di){return dh}}return -1},cp="[\\x20\\t\\r\\n\\f]",b3="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cK=b3.replace("w","w#"),ci="([*^$|!~]?=)",c2="\\["+cp+"*("+b3+")"+cp+"*(?:"+ci+cp+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cK+")|)|)"+cp+"*\\]",ck=":("+b3+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+c2.replace(3,8)+")*)|.*)\\)|)",cr=new RegExp("^"+cp+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cp+"+$","g"),cu=new RegExp("^"+cp+"*,"+cp+"*"),cA=new RegExp("^"+cp+"*([\\x20\\t\\r\\n\\f>+~])"+cp+"*"),cP=new RegExp(ck),cQ=new RegExp("^"+cK+"$"),cY={ID:new RegExp("^#("+b3+")"),CLASS:new RegExp("^\\.("+b3+")"),NAME:new RegExp("^\\[name=['\"]?("+b3+")['\"]?\\]"),TAG:new RegExp("^("+b3.replace("w","w*")+")"),ATTR:new RegExp("^"+c2),PSEUDO:new RegExp("^"+ck),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cp+"*(even|odd|(([+-]|)(\\d*)n|)"+cp+"*(?:([+-]|)"+cp+"*(\\d+)|))"+cp+"*\\)|)","i"),needsContext:new RegExp("^"+cp+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cp+"*((?:-\\d)?\\d*)"+cp+"*\\)|)(?=[^-]|$)","i")},cW=/[\x20\t\r\n\f]*[+~]/,cM=/^[^{]+\{\s*\[native code/,cO=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,b8=/^(?:input|select|textarea|button)$/i,cl=/^h\d$/i,cL=/'|\\/g,ct=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,cs=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,c1=function(e,di){var dh="0x"+di-65536;return dh!==dh?di:dh<0?String.fromCharCode(dh+65536):String.fromCharCode(dh>>10|55296,dh&1023|56320)};try{cm.call(cI.documentElement.childNodes,0)[0].nodeType}catch(cC){cm=function(dh){var di,e=[];while((di=this[dh++])){e.push(di)}return e}}function cE(e){return cM.test(e+"")}function cz(){var e,dh=[];return(e=function(di,dj){if(dh.push(di+=" ")>cn.cacheLength){delete e[dh.shift()]}return(e[di]=dj)})}function cj(e){e[c5]=true;return e}function cc(dh){var dj=cB.createElement("div");try{return dh(dj)}catch(di){return false}finally{dj=null}}function cv(dp,dh,dt,dv){var du,dl,dm,dr,ds,dk,dj,e,di,dq;if((dh?dh.ownerDocument||dh:cI)!==cB){cV(dh)}dh=dh||cB;dt=dt||[];if(!dp||typeof dp!=="string"){return dt}if((dr=dh.nodeType)!==1&&dr!==9){return[]}if(!cd&&!dv){if((du=cO.exec(dp))){if((dm=du[1])){if(dr===9){dl=dh.getElementById(dm);if(dl&&dl.parentNode){if(dl.id===dm){dt.push(dl);return dt}}else{return dt}}else{if(dh.ownerDocument&&(dl=dh.ownerDocument.getElementById(dm))&&cF(dh,dl)&&dl.id===dm){dt.push(dl);return dt}}}else{if(du[2]){b4.apply(dt,cm.call(dh.getElementsByTagName(dp),0));return dt}else{if((dm=du[3])&&dd.getByClassName&&dh.getElementsByClassName){b4.apply(dt,cm.call(dh.getElementsByClassName(dm),0));return dt}}}}if(dd.qsa&&!cZ.test(dp)){dj=true;e=c5;di=dh;dq=dr===9&&dp;if(dr===1&&dh.nodeName.toLowerCase()!=="object"){dk=cf(dp);if((dj=dh.getAttribute("id"))){e=dj.replace(cL,"\\$&")}else{dh.setAttribute("id",e)}e="[id='"+e+"'] ";ds=dk.length;while(ds--){dk[ds]=e+cg(dk[ds])}di=cW.test(dp)&&dh.parentNode||dh;dq=dk.join(",")}if(dq){try{b4.apply(dt,cm.call(di.querySelectorAll(dq),0));return dt}catch(dn){}finally{if(!dj){dh.removeAttribute("id")}}}}}return dc(dp.replace(cr,"$1"),dh,dt,dv)}cJ=cv.isXML=function(e){var dh=e&&(e.ownerDocument||e).documentElement;return dh?dh.nodeName!=="HTML":false};cV=cv.setDocument=function(e){var dh=e?e.ownerDocument||e:cI;if(dh===cB||dh.nodeType!==9||!dh.documentElement){return cB}cB=dh;co=dh.documentElement;cd=cJ(dh);dd.tagNameNoComments=cc(function(di){di.appendChild(dh.createComment(""));return !di.getElementsByTagName("*").length});dd.attributes=cc(function(dj){dj.innerHTML="<select></select>";var di=typeof dj.lastChild.getAttribute("multiple");return di!=="boolean"&&di!=="string"});dd.getByClassName=cc(function(di){di.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!di.getElementsByClassName||!di.getElementsByClassName("e").length){return false}di.lastChild.className="e";return di.getElementsByClassName("e").length===2});dd.getByName=cc(function(dj){dj.id=c5+0;dj.innerHTML="<a name='"+c5+"'></a><div name='"+c5+"'></div>";co.insertBefore(dj,co.firstChild);var di=dh.getElementsByName&&dh.getElementsByName(c5).length===2+dh.getElementsByName(c5+0).length;dd.getIdNotName=!dh.getElementById(c5);co.removeChild(dj);return di});cn.attrHandle=cc(function(di){di.innerHTML="<a href='#'></a>";return di.firstChild&&typeof di.firstChild.getAttribute!==c9&&di.firstChild.getAttribute("href")==="#"})?{}:{href:function(di){return di.getAttribute("href",2)},type:function(di){return di.getAttribute("type")}};if(dd.getIdNotName){cn.find.ID=function(dk,dj){if(typeof dj.getElementById!==c9&&!cd){var di=dj.getElementById(dk);return di&&di.parentNode?[di]:[]}};cn.filter.ID=function(dj){var di=dj.replace(cs,c1);return function(dk){return dk.getAttribute("id")===di}}}else{cn.find.ID=function(dk,dj){if(typeof dj.getElementById!==c9&&!cd){var di=dj.getElementById(dk);return di?di.id===dk||typeof di.getAttributeNode!==c9&&di.getAttributeNode("id").value===dk?[di]:ch:[]}};cn.filter.ID=function(dj){var di=dj.replace(cs,c1);return function(dl){var dk=typeof dl.getAttributeNode!==c9&&dl.getAttributeNode("id");return dk&&dk.value===di}}}cn.find.TAG=dd.tagNameNoComments?function(di,dj){if(typeof dj.getElementsByTagName!==c9){return dj.getElementsByTagName(di)}}:function(di,dm){var dn,dl=[],dk=0,dj=dm.getElementsByTagName(di);if(di==="*"){while((dn=dj[dk++])){if(dn.nodeType===1){dl.push(dn)}}return dl}return dj};cn.find.NAME=dd.getByName&&function(di,dj){if(typeof dj.getElementsByName!==c9){return dj.getElementsByName(name)}};cn.find.CLASS=dd.getByClassName&&function(dj,di){if(typeof di.getElementsByClassName!==c9&&!cd){return di.getElementsByClassName(dj)}};db=[];cZ=[":focus"];if((dd.qsa=cE(dh.querySelectorAll))){cc(function(di){di.innerHTML="<select><option selected=''></option></select>";if(!di.querySelectorAll("[selected]").length){cZ.push("\\["+cp+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!di.querySelectorAll(":checked").length){cZ.push(":checked")}});cc(function(di){di.innerHTML="<input type='hidden' i=''/>";if(di.querySelectorAll("[i^='']").length){cZ.push("[*^$]="+cp+"*(?:\"\"|'')")}if(!di.querySelectorAll(":enabled").length){cZ.push(":enabled",":disabled")}di.querySelectorAll("*,:x");cZ.push(",.*:")})}if((dd.matchesSelector=cE((ca=co.matchesSelector||co.mozMatchesSelector||co.webkitMatchesSelector||co.oMatchesSelector||co.msMatchesSelector)))){cc(function(di){dd.disconnectedMatch=ca.call(di,"div");ca.call(di,"[s!='']:x");db.push("!=",ck)})}cZ=new RegExp(cZ.join("|"));db=new RegExp(db.join("|"));cF=cE(co.contains)||co.compareDocumentPosition?function(dj,di){var dl=dj.nodeType===9?dj.documentElement:dj,dk=di&&di.parentNode;return dj===dk||!!(dk&&dk.nodeType===1&&(dl.contains?dl.contains(dk):dj.compareDocumentPosition&&dj.compareDocumentPosition(dk)&16))}:function(dj,di){if(di){while((di=di.parentNode)){if(di===dj){return true}}}return false};cD=co.compareDocumentPosition?function(dj,di){var dk;if(dj===di){cT=true;return 0}if((dk=di.compareDocumentPosition&&dj.compareDocumentPosition&&dj.compareDocumentPosition(di))){if(dk&1||dj.parentNode&&dj.parentNode.nodeType===11){if(dj===dh||cF(cI,dj)){return -1}if(di===dh||cF(cI,di)){return 1}return 0}return dk&4?-1:1}return dj.compareDocumentPosition?-1:1}:function(dj,di){var dq,dm=0,dp=dj.parentNode,dl=di.parentNode,dk=[dj],dn=[di];if(dj===di){cT=true;return 0}else{if(!dp||!dl){return dj===dh?-1:di===dh?1:dp?-1:dl?1:0}else{if(dp===dl){return b6(dj,di)}}}dq=dj;while((dq=dq.parentNode)){dk.unshift(dq)}dq=di;while((dq=dq.parentNode)){dn.unshift(dq)}while(dk[dm]===dn[dm]){dm++}return dm?b6(dk[dm],dn[dm]):dk[dm]===cI?-1:dn[dm]===cI?1:0};cT=false;[0,0].sort(cD);dd.detectDuplicates=cT;return cB};cv.matches=function(dh,e){return cv(dh,null,null,e)};cv.matchesSelector=function(di,dk){if((di.ownerDocument||di)!==cB){cV(di)}dk=dk.replace(ct,"='$1']");if(dd.matchesSelector&&!cd&&(!db||!db.test(dk))&&!cZ.test(dk)){try{var dh=ca.call(di,dk);if(dh||dd.disconnectedMatch||di.document&&di.document.nodeType!==11){return dh}}catch(dj){}}return cv(dk,cB,null,[di]).length>0};cv.contains=function(e,dh){if((e.ownerDocument||e)!==cB){cV(e)}return cF(e,dh)};cv.attr=function(dh,e){var di;if((dh.ownerDocument||dh)!==cB){cV(dh)}if(!cd){e=e.toLowerCase()}if((di=cn.attrHandle[e])){return di(dh)}if(cd||dd.attributes){return dh.getAttribute(e)}return((di=dh.getAttributeNode(e))||dh.getAttribute(e))&&dh[e]===true?e:di&&di.specified?di.value:null};cv.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};cv.uniqueSort=function(di){var dj,dk=[],dh=1,e=0;cT=!dd.detectDuplicates;di.sort(cD);if(cT){for(;(dj=di[dh]);dh++){if(dj===di[dh-1]){e=dk.push(dh)}}while(e--){di.splice(dk[e],1)}}return di};function b6(dh,e){var dj=e&&dh,di=dj&&(~e.sourceIndex||cN)-(~dh.sourceIndex||cN);if(di){return di}if(dj){while((dj=dj.nextSibling)){if(dj===e){return -1}}}return dh?1:-1}function cw(e){return function(di){var dh=di.nodeName.toLowerCase();return dh==="input"&&di.type===e}}function b7(e){return function(di){var dh=di.nodeName.toLowerCase();return(dh==="input"||dh==="button")&&di.type===e}}function c3(e){return cj(function(dh){dh=+dh;return cj(function(di,dm){var dk,dj=e([],di.length,dh),dl=dj.length;while(dl--){if(di[(dk=dj[dl])]){di[dk]=!(dm[dk]=di[dk])}}})})}cH=cv.getText=function(dk){var dj,dh="",di=0,e=dk.nodeType;if(!e){for(;(dj=dk[di]);di++){dh+=cH(dj)}}else{if(e===1||e===9||e===11){if(typeof dk.textContent==="string"){return dk.textContent}else{for(dk=dk.firstChild;dk;dk=dk.nextSibling){dh+=cH(dk)}}}else{if(e===3||e===4){return dk.nodeValue}}}return dh};cn=cv.selectors={cacheLength:50,createPseudo:cj,match:cY,find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cs,c1);e[3]=(e[4]||e[5]||"").replace(cs,c1);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){cv.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){cv.error(e[0])}}return e},PSEUDO:function(dh){var e,di=!dh[5]&&dh[2];if(cY.CHILD.test(dh[0])){return null}if(dh[4]){dh[2]=dh[4]}else{if(di&&cP.test(di)&&(e=cf(di,true))&&(e=di.indexOf(")",di.length-e)-di.length)){dh[0]=dh[0].slice(0,e);dh[2]=di.slice(0,e)}}return dh.slice(0,3)}},filter:{TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cs,c1).toLowerCase();return function(dh){return dh.nodeName&&dh.nodeName.toLowerCase()===e}},CLASS:function(e){var dh=b5[e+" "];return dh||(dh=new RegExp("(^|"+cp+")"+e+"("+cp+"|$)"))&&b5(e,function(di){return dh.test(di.className||(typeof di.getAttribute!==c9&&di.getAttribute("class"))||"")})},ATTR:function(di,dh,e){return function(dk){var dj=cv.attr(dk,di);if(dj==null){return dh==="!="}if(!dh){return true}dj+="";return dh==="="?dj===e:dh==="!="?dj!==e:dh==="^="?e&&dj.indexOf(e)===0:dh==="*="?e&&dj.indexOf(e)>-1:dh==="$="?e&&dj.slice(-e.length)===e:dh==="~="?(" "+dj+" ").indexOf(e)>-1:dh==="|="?dj===e||dj.slice(0,e.length+1)===e+"-":false}},CHILD:function(dh,dk,dj,dl,di){var dn=dh.slice(0,3)!=="nth",e=dh.slice(-4)!=="last",dm=dk==="of-type";return dl===1&&di===0?function(dp){return !!dp.parentNode}:function(dv,dt,dy){var dp,dB,dw,dA,dx,ds,du=dn!==e?"nextSibling":"previousSibling",dz=dv.parentNode,dr=dm&&dv.nodeName.toLowerCase(),dq=!dy&&!dm;if(dz){if(dn){while(du){dw=dv;while((dw=dw[du])){if(dm?dw.nodeName.toLowerCase()===dr:dw.nodeType===1){return false}}ds=du=dh==="only"&&!ds&&"nextSibling"}return true}ds=[e?dz.firstChild:dz.lastChild];if(e&&dq){dB=dz[c5]||(dz[c5]={});dp=dB[dh]||[];dx=dp[0]===de&&dp[1];dA=dp[0]===de&&dp[2];dw=dx&&dz.childNodes[dx];while((dw=++dx&&dw&&dw[du]||(dA=dx=0)||ds.pop())){if(dw.nodeType===1&&++dA&&dw===dv){dB[dh]=[de,dx,dA];break}}}else{if(dq&&(dp=(dv[c5]||(dv[c5]={}))[dh])&&dp[0]===de){dA=dp[1]}else{while((dw=++dx&&dw&&dw[du]||(dA=dx=0)||ds.pop())){if((dm?dw.nodeName.toLowerCase()===dr:dw.nodeType===1)&&++dA){if(dq){(dw[c5]||(dw[c5]={}))[dh]=[de,dA]}if(dw===dv){break}}}}}dA-=di;return dA===dl||(dA%dl===0&&dA/dl>=0)}}},PSEUDO:function(dj,di){var e,dh=cn.pseudos[dj]||cn.setFilters[dj.toLowerCase()]||cv.error("unsupported pseudo: "+dj);if(dh[c5]){return dh(di)}if(dh.length>1){e=[dj,dj,"",di];return cn.setFilters.hasOwnProperty(dj.toLowerCase())?cj(function(dm,dp){var dl,dk=dh(dm,di),dn=dk.length;while(dn--){dl=b9.call(dm,dk[dn]);dm[dl]=!(dp[dl]=dk[dn])}}):function(dk){return dh(dk,0,e)}}return dh}},pseudos:{not:cj(function(e){var dh=[],di=[],dj=cS(e.replace(cr,"$1"));return dj[c5]?cj(function(dl,dr,dp,dm){var dq,dk=dj(dl,null,dm,[]),dn=dl.length;while(dn--){if((dq=dk[dn])){dl[dn]=!(dr[dn]=dq)}}}):function(dm,dl,dk){dh[0]=dm;dj(dh,null,dk,di);return !di.pop()}}),has:cj(function(e){return function(dh){return cv(e,dh).length>0}}),contains:cj(function(e){return function(dh){return(dh.textContent||dh.innerText||cH(dh)).indexOf(e)>-1}}),lang:cj(function(e){if(!cQ.test(e||"")){cv.error("unsupported lang: "+e)}e=e.replace(cs,c1).toLowerCase();return function(di){var dh;do{if((dh=cd?di.getAttribute("xml:lang")||di.getAttribute("lang"):di.lang)){dh=dh.toLowerCase();return dh===e||dh.indexOf(e+"-")===0}}while((di=di.parentNode)&&di.nodeType===1);return false}}),target:function(e){var dh=da.location&&da.location.hash;return dh&&dh.slice(1)===e.id},root:function(e){return e===co},focus:function(e){return e===cB.activeElement&&(!cB.hasFocus||cB.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dh=e.nodeName.toLowerCase();return(dh==="input"&&!!e.checked)||(dh==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return false}}return true},parent:function(e){return !cn.pseudos.empty(e)},header:function(e){return cl.test(e.nodeName)},input:function(e){return b8.test(e.nodeName)},button:function(dh){var e=dh.nodeName.toLowerCase();return e==="input"&&dh.type==="button"||e==="button"},text:function(dh){var e;return dh.nodeName.toLowerCase()==="input"&&dh.type==="text"&&((e=dh.getAttribute("type"))==null||e.toLowerCase()===dh.type)},first:c3(function(){return[0]}),last:c3(function(e,dh){return[dh-1]}),eq:c3(function(e,di,dh){return[dh<0?dh+di:dh]}),even:c3(function(e,di){var dh=0;for(;dh<di;dh+=2){e.push(dh)}return e}),odd:c3(function(e,di){var dh=1;for(;dh<di;dh+=2){e.push(dh)}return e}),lt:c3(function(e,dj,di){var dh=di<0?di+dj:di;for(;--dh>=0;){e.push(dh)}return e}),gt:c3(function(e,dj,di){var dh=di<0?di+dj:di;for(;++dh<dj;){e.push(dh)}return e})}};for(cx in {radio:true,checkbox:true,file:true,password:true,image:true}){cn.pseudos[cx]=cw(cx)}for(cx in {submit:true,reset:true}){cn.pseudos[cx]=b7(cx)}function cf(dk,dq){var dh,dl,dn,dp,dm,di,e,dj=c4[dk+" "];if(dj){return dq?0:dj.slice(0)}dm=dk;di=[];e=cn.preFilter;while(dm){if(!dh||(dl=cu.exec(dm))){if(dl){dm=dm.slice(dl[0].length)||dm}di.push(dn=[])}dh=false;if((dl=cA.exec(dm))){dh=dl.shift();dn.push({value:dh,type:dl[0].replace(cr," ")});dm=dm.slice(dh.length)}for(dp in cn.filter){if((dl=cY[dp].exec(dm))&&(!e[dp]||(dl=e[dp](dl)))){dh=dl.shift();dn.push({value:dh,type:dp,matches:dl});dm=dm.slice(dh.length)}}if(!dh){break}}return dq?dm.length:dm?cv.error(dk):c4(dk,di).slice(0)}function cg(dj){var di=0,dh=dj.length,e="";for(;di<dh;di++){e+=dj[di].value}return e}function cq(dk,di,dj){var e=di.dir,dl=dj&&e==="parentNode",dh=c0++;return di.first?function(dp,dn,dm){while((dp=dp[e])){if(dp.nodeType===1||dl){return dk(dp,dn,dm)}}}:function(dr,dp,dn){var dt,dm,dq,ds=de+" "+dh;if(dn){while((dr=dr[e])){if(dr.nodeType===1||dl){if(dk(dr,dp,dn)){return true}}}}else{while((dr=dr[e])){if(dr.nodeType===1||dl){dq=dr[c5]||(dr[c5]={});if((dm=dq[e])&&dm[0]===ds){if((dt=dm[1])===true||dt===cb){return dt===true}}else{dm=dq[e]=[ds];dm[1]=dk(dr,dp,dn)||cb;if(dm[1]===true){return true}}}}}}}function df(e){return e.length>1?function(dk,dj,dh){var di=e.length;while(di--){if(!e[di](dk,dj,dh)){return false}}return true}:e[0]}function cX(e,dh,di,dj,dm){var dk,dq=[],dl=0,dn=e.length,dp=dh!=null;for(;dl<dn;dl++){if((dk=e[dl])){if(!di||di(dk,dj,dm)){dq.push(dk);if(dp){dh.push(dl)}}}}return dq}function ce(di,dh,dk,dj,dl,e){if(dj&&!dj[c5]){dj=ce(dj)}if(dl&&!dl[c5]){dl=ce(dl,e)}return cj(function(dx,du,dp,dw){var dz,dv,dr,dq=[],dy=[],dn=du.length,dm=dx||cy(dh||"*",dp.nodeType?[dp]:dp,[]),ds=di&&(dx||!dh)?cX(dm,dq,di,dp,dw):dm,dt=dk?dl||(dx?di:dn||dj)?[]:du:ds;if(dk){dk(ds,dt,dp,dw)}if(dj){dz=cX(dt,dy);dj(dz,[],dp,dw);dv=dz.length;while(dv--){if((dr=dz[dv])){dt[dy[dv]]=!(ds[dy[dv]]=dr)}}}if(dx){if(dl||di){if(dl){dz=[];dv=dt.length;while(dv--){if((dr=dt[dv])){dz.push((ds[dv]=dr))}}dl(null,(dt=[]),dz,dw)}dv=dt.length;while(dv--){if((dr=dt[dv])&&(dz=dl?b9.call(dx,dr):dq[dv])>-1){dx[dz]=!(du[dz]=dr)}}}}else{dt=cX(dt===du?dt.splice(dn,dt.length):dt);if(dl){dl(null,du,dt,dw)}else{b4.apply(du,dt)}}})}function c6(dm){var dh,dk,di,dl=dm.length,dq=cn.relative[dm[0].type],dr=dq||cn.relative[" "],dj=dq?1:0,dn=cq(function(ds){return ds===dh},dr,true),dp=cq(function(ds){return b9.call(dh,ds)>-1},dr,true),e=[function(du,dt,ds){return(!dq&&(ds||dt!==dg))||((dh=dt).nodeType?dn(du,dt,ds):dp(du,dt,ds))}];for(;dj<dl;dj++){if((dk=cn.relative[dm[dj].type])){e=[cq(df(e),dk)]}else{dk=cn.filter[dm[dj].type].apply(null,dm[dj].matches);if(dk[c5]){di=++dj;for(;di<dl;di++){if(cn.relative[dm[di].type]){break}}return ce(dj>1&&df(e),dj>1&&cg(dm.slice(0,dj-1)).replace(cr,"$1"),dk,dj<di&&c6(dm.slice(dj,di)),di<dl&&c6((dm=dm.slice(di))),di<dl&&cg(dm))}e.push(dk)}}return df(e)}function cU(dj,di){var dl=0,e=di.length>0,dk=dj.length>0,dh=function(dw,dq,dv,du,dC){var dr,ds,dx,dB=[],dA=0,dt="0",dm=dw&&[],dy=dC!=null,dz=dg,dp=dw||dk&&cn.find.TAG("*",dC&&dq.parentNode||dq),dn=(de+=dz==null?1:Math.random()||0.1);if(dy){dg=dq!==cB&&dq;cb=dl}for(;(dr=dp[dt])!=null;dt++){if(dk&&dr){ds=0;while((dx=dj[ds++])){if(dx(dr,dq,dv)){du.push(dr);break}}if(dy){de=dn;cb=++dl}}if(e){if((dr=!dx&&dr)){dA--}if(dw){dm.push(dr)}}}dA+=dt;if(e&&dt!==dA){ds=0;while((dx=di[ds++])){dx(dm,dB,dq,dv)}if(dw){if(dA>0){while(dt--){if(!(dm[dt]||dB[dt])){dB[dt]=c8.call(du)}}}dB=cX(dB)}b4.apply(du,dB);if(dy&&!dw&&dB.length>0&&(dA+di.length)>1){cv.uniqueSort(du)}}if(dy){de=dn;dg=dz}return dm};return e?cj(dh):dh}cS=cv.compile=function(e,dl){var di,dh=[],dk=[],dj=cG[e+" "];if(!dj){if(!dl){dl=cf(e)}di=dl.length;while(di--){dj=c6(dl[di]);if(dj[c5]){dh.push(dj)}else{dk.push(dj)}}dj=cG(e,cU(dk,dh))}return dj};function cy(dh,dk,dj){var di=0,e=dk.length;for(;di<e;di++){cv(dh,dk[di],dj)}return dj}function dc(di,e,dj,dm){var dk,dp,dh,dq,dn,dl=cf(di);if(!dm){if(dl.length===1){dp=dl[0]=dl[0].slice(0);if(dp.length>2&&(dh=dp[0]).type==="ID"&&e.nodeType===9&&!cd&&cn.relative[dp[1].type]){e=cn.find.ID(dh.matches[0].replace(cs,c1),e)[0];if(!e){return dj}di=di.slice(dp.shift().value.length)}dk=cY.needsContext.test(di)?0:dp.length;while(dk--){dh=dp[dk];if(cn.relative[(dq=dh.type)]){break}if((dn=cn.find[dq])){if((dm=dn(dh.matches[0].replace(cs,c1),cW.test(dp[0].type)&&e.parentNode||e))){dp.splice(dk,1);di=dm.length&&cg(dp);if(!di){b4.apply(dj,cm.call(dm,0));return dj}break}}}}}cS(di,dl)(dm,e,cd,dj,cW.test(di));return dj}cn.pseudos.nth=cn.pseudos.eq;function cR(){}cn.filters=cR.prototype=cn.pseudos;cn.setFilters=new cR();cV();cv.attr=aw.attr;aw.find=cv;aw.expr=cv.selectors;aw.expr[":"]=aw.expr.pseudos;aw.unique=cv.uniqueSort;aw.text=cv.getText;aw.isXMLDoc=cv.isXML;aw.contains=cv.contains})(a3);var ak=/Until$/,bt=/^(?:parents|prev(?:Until|All))/,ao=/^.[^:#\[\.,]*$/,y=aw.expr.match.needsContext,bx={children:true,contents:true,next:true,prev:true};aw.fn.extend({find:function(b3){var b6,b5,b4,e=this.length;if(typeof b3!=="string"){b4=this;return this.pushStack(aw(b3).filter(function(){for(b6=0;b6<e;b6++){if(aw.contains(b4[b6],this)){return true}}}))}b5=[];for(b6=0;b6<e;b6++){aw.find(b3,this[b6],b5)}b5=this.pushStack(e>1?aw.unique(b5):b5);b5.selector=(this.selector?this.selector+" ":"")+b3;return b5},has:function(b5){var b4,b3=aw(b5,this),e=b3.length;return this.filter(function(){for(b4=0;b4<e;b4++){if(aw.contains(this,b3[b4])){return true}}})},not:function(e){return this.pushStack(aP(this,e,false))},filter:function(e){return this.pushStack(aP(this,e,true))},is:function(e){return !!e&&(typeof e==="string"?y.test(e)?aw(e,this.context).index(this[0])>=0:aw.filter(e,this).length>0:this.filter(e).length>0)},closest:function(b6,b5){var b7,b4=0,e=this.length,b3=[],b8=y.test(b6)||typeof b6!=="string"?aw(b6,b5||this.context):0;for(;b4<e;b4++){b7=this[b4];while(b7&&b7.ownerDocument&&b7!==b5&&b7.nodeType!==11){if(b8?b8.index(b7)>-1:aw.find.matchesSelector(b7,b6)){b3.push(b7);break}b7=b7.parentNode}}return this.pushStack(b3.length>1?aw.unique(b3):b3)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof e==="string"){return aw.inArray(this[0],aw(e))}return aw.inArray(e.jQuery1?e[0]:e,this)},add:function(e,b3){var b5=typeof e==="string"?aw(e,b3):aw.makeArray(e&&e.nodeType?[e]:e),b4=aw.merge(this.get(),b5);return this.pushStack(aw.unique(b4))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});aw.fn.andSelf=aw.fn.addBack;function aY(b3,e){do{b3=b3[e]}while(b3&&b3.nodeType!==1);return b3}aw.each({parent:function(b3){var e=b3.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return aw.dir(e,"parentNode")},parentsUntil:function(b3,e,b4){return aw.dir(b3,"parentNode",b4)},next:function(e){return aY(e,"nextSibling")},prev:function(e){return aY(e,"previousSibling")},nextAll:function(e){return aw.dir(e,"nextSibling")},prevAll:function(e){return aw.dir(e,"previousSibling")},nextUntil:function(b3,e,b4){return aw.dir(b3,"nextSibling",b4)},prevUntil:function(b3,e,b4){return aw.dir(b3,"previousSibling",b4)},siblings:function(e){return aw.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return aw.sibling(e.firstChild)},contents:function(e){return aw.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:aw.merge([],e.childNodes)}},function(e,b3){aw.fn[e]=function(b6,b4){var b5=aw.map(this,b3,b6);if(!ak.test(e)){b4=b6}if(b4&&typeof b4==="string"){b5=aw.filter(b4,b5)}b5=this.length>1&&!bx[e]?aw.unique(b5):b5;if(this.length>1&&bt.test(e)){b5=b5.reverse()}return this.pushStack(b5)}});aw.extend({filter:function(b4,e,b3){if(b3){b4=":not("+b4+")"}return e.length===1?aw.find.matchesSelector(e[0],b4)?[e[0]]:[]:aw.find.matches(b4,e)},dir:function(b4,b3,b6){var e=[],b5=b4[b3];while(b5&&b5.nodeType!==9&&(b6===aH||b5.nodeType!==1||!aw(b5).is(b6))){if(b5.nodeType===1){e.push(b5)}b5=b5[b3]}return e},sibling:function(b4,b3){var e=[];for(;b4;b4=b4.nextSibling){if(b4.nodeType===1&&b4!==b3){e.push(b4)}}return e}});function aP(b5,b4,e){b4=b4||0;if(aw.isFunction(b4)){return aw.grep(b5,function(b7,b6){var b8=!!b4.call(b7,b6,b7);return b8===e})}else{if(b4.nodeType){return aw.grep(b5,function(b6){return(b6===b4)===e})}else{if(typeof b4==="string"){var b3=aw.grep(b5,function(b6){return b6.nodeType===1});if(ao.test(b4)){return aw.filter(b4,b3,!e)}else{b4=aw.filter(b4,b3)}}}}return aw.grep(b5,function(b6){return(aw.inArray(b6,b4)>=0)===e})}function A(e){var b4=d.split("|"),b3=e.createDocumentFragment();if(b3.createElement){while(b4.length){b3.createElement(b4.pop())}}return b3}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",m=/ jQuery1\d+="(?:null|\d+)"/g,J=new RegExp("<(?:"+d+")[\\s/>]","i"),b2=/^\s+/,aE=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,n=/<([\w:]+)/,bX=/<tbody/i,I=/<|&#?\w+;/,am=/<(?:script|style|link)/i,r=/^(?:checkbox|radio)$/i,bT=/checked\s*(?:[^=]|=\s*.checked.)/i,bz=/^$|\/(?:java|ecma)script/i,at=/^true\/(.*)/,aL=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,U={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:aw.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aT=A(l),j=aT.appendChild(l.createElement("div"));U.optgroup=U.option;U.tbody=U.tfoot=U.colgroup=U.caption=U.thead;U.th=U.td;aw.fn.extend({text:function(e){return aw.access(this,function(b3){return b3===aH?aw.text(this):this.empty().append((this[0]&&this[0].ownerDocument||l).createTextNode(b3))},null,e,arguments.length)},wrapAll:function(e){if(aw.isFunction(e)){return this.each(function(b4){aw(this).wrapAll(e.call(this,b4))})}if(this[0]){var b3=aw(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b3.insertBefore(this[0])}b3.map(function(){var b4=this;while(b4.firstChild&&b4.firstChild.nodeType===1){b4=b4.firstChild}return b4}).append(this)}return this},wrapInner:function(e){if(aw.isFunction(e)){return this.each(function(b3){aw(this).wrapInner(e.call(this,b3))})}return this.each(function(){var b3=aw(this),b4=b3.contents();if(b4.length){b4.wrapAll(e)}else{b3.append(e)}})},wrap:function(e){var b3=aw.isFunction(e);return this.each(function(b4){aw(this).wrapAll(b3?e.call(this,b4):e)})},unwrap:function(){return this.parent().each(function(){if(!aw.nodeName(this,"body")){aw(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.insertBefore(e,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,b5){var b4,b3=0;for(;(b4=this[b3])!=null;b3++){if(!e||aw.filter(e,[b4]).length>0){if(!b5&&b4.nodeType===1){aw.cleanData(k(b4))}if(b4.parentNode){if(b5&&aw.contains(b4.ownerDocument,b4)){bs(k(b4,"script"))}b4.parentNode.removeChild(b4)}}}return this},empty:function(){var b3,e=0;for(;(b3=this[e])!=null;e++){if(b3.nodeType===1){aw.cleanData(k(b3,false))}while(b3.firstChild){b3.removeChild(b3.firstChild)}if(b3.options&&aw.nodeName(b3,"select")){b3.options.length=0}}return this},clone:function(b3,e){b3=b3==null?false:b3;e=e==null?b3:e;return this.map(function(){return aw.clone(this,b3,e)})},html:function(e){return aw.access(this,function(b6){var b5=this[0]||{},b4=0,b3=this.length;if(b6===aH){return b5.nodeType===1?b5.innerHTML.replace(m,""):aH}if(typeof b6==="string"&&!am.test(b6)&&(aw.support.htmlSerialize||!J.test(b6))&&(aw.support.leadingWhitespace||!b2.test(b6))&&!U[(n.exec(b6)||["",""])[1].toLowerCase()]){b6=b6.replace(aE,"<$1></$2>");try{for(;b4<b3;b4++){b5=this[b4]||{};if(b5.nodeType===1){aw.cleanData(k(b5,false));b5.innerHTML=b6}}b5=0}catch(b7){}}if(b5){this.empty().append(b6)}},null,e,arguments.length)},replaceWith:function(b3){var e=aw.isFunction(b3);if(!e&&typeof b3!=="string"){b3=aw(b3).not(this).detach()}return this.domManip([b3],true,function(b6){var b5=this.nextSibling,b4=this.parentNode;if(b4){aw(this).remove();b4.insertBefore(b6,b5)}})},detach:function(e){return this.remove(e,true)},domManip:function(ca,cg,cf){ca=aJ.apply([],ca);var b8,b4,e,b6,cd,b9,b7=0,b5=this.length,cc=this,ce=b5-1,cb=ca[0],b3=aw.isFunction(cb);if(b3||!(b5<=1||typeof cb!=="string"||aw.support.checkClone||!bT.test(cb))){return this.each(function(ci){var ch=cc.eq(ci);if(b3){ca[0]=cb.call(this,ci,cg?ch.html():aH)}ch.domManip(ca,cg,cf)})}if(b5){b9=aw.buildFragment(ca,this[0].ownerDocument,false,this);b8=b9.firstChild;if(b9.childNodes.length===1){b9=b8}if(b8){cg=cg&&aw.nodeName(b8,"tr");b6=aw.map(k(b9,"script"),u);e=b6.length;for(;b7<b5;b7++){b4=b9;if(b7!==ce){b4=aw.clone(b4,true,true);if(e){aw.merge(b6,k(b4,"script"))}}cf.call(cg&&aw.nodeName(this[b7],"table")?x(this[b7],"tbody"):this[b7],b4,b7)}if(e){cd=b6[b6.length-1].ownerDocument;aw.map(b6,bd);for(b7=0;b7<e;b7++){b4=b6[b7];if(bz.test(b4.type||"")&&!aw._data(b4,"globalEval")&&aw.contains(cd,b4)){if(b4.src){aw.ajax({url:b4.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{aw.globalEval((b4.text||b4.textContent||b4.innerHTML||"").replace(aL,""))}}}}b9=b8=null}}return this}});function x(b3,e){return b3.getElementsByTagName(e)[0]||b3.appendChild(b3.ownerDocument.createElement(e))}function u(b3){var e=b3.getAttributeNode("type");b3.type=(e&&e.specified)+"/"+b3.type;return b3}function bd(b3){var e=at.exec(b3.type);if(e){b3.type=e[1]}else{b3.removeAttribute("type")}return b3}function bs(e,b4){var b5,b3=0;for(;(b5=e[b3])!=null;b3++){aw._data(b5,"globalEval",!b4||aw._data(b4[b3],"globalEval"))}}function au(b9,b3){if(b3.nodeType!==1||!aw.hasData(b9)){return}var b6,b5,e,b8=aw._data(b9),b7=aw._data(b3,b8),b4=b8.events;if(b4){delete b7.handle;b7.events={};for(b6 in b4){for(b5=0,e=b4[b6].length;b5<e;b5++){aw.event.add(b3,b6,b4[b6][b5])}}}if(b7.data){b7.data=aw.extend({},b7.data)}}function Q(b6,b3){var b7,b5,b4;if(b3.nodeType!==1){return}b7=b3.nodeName.toLowerCase();if(!aw.support.noCloneEvent&&b3[aw.expando]){b4=aw._data(b3);for(b5 in b4.events){aw.removeEvent(b3,b5,b4.handle)}b3.removeAttribute(aw.expando)}if(b7==="script"&&b3.text!==b6.text){u(b3).text=b6.text;bd(b3)}else{if(b7==="object"){if(b3.parentNode){b3.outerHTML=b6.outerHTML}if(aw.support.html5Clone&&(b6.innerHTML&&!aw.trim(b3.innerHTML))){b3.innerHTML=b6.innerHTML}}else{if(b7==="input"&&r.test(b6.type)){b3.defaultChecked=b3.checked=b6.checked;if(b3.value!==b6.value){b3.value=b6.value}}else{if(b7==="option"){b3.defaultSelected=b3.selected=b6.defaultSelected}else{if(b7==="input"||b7==="textarea"){b3.defaultValue=b6.defaultValue}}}}}}aw.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b3){aw.fn[e]=function(b4){var b5,b7=0,b6=[],b9=aw(b4),b8=b9.length-1;for(;b7<=b8;b7++){b5=b7===b8?this:this.clone(true);aw(b9[b7])[b3](b5);ap.apply(b6,b5.get())}return this.pushStack(b6)}});function k(b5,e){var b3,b6,b4=0,b7=typeof b5.getElementsByTagName!==aD?b5.getElementsByTagName(e||"*"):typeof b5.querySelectorAll!==aD?b5.querySelectorAll(e||"*"):aH;if(!b7){for(b7=[],b3=b5.childNodes||b5;(b6=b3[b4])!=null;b4++){if(!e||aw.nodeName(b6,e)){b7.push(b6)}else{aw.merge(b7,k(b6,e))}}}return e===aH||e&&aw.nodeName(b5,e)?aw.merge([b5],b7):b7}function bV(e){if(r.test(e.type)){e.defaultChecked=e.checked}}aw.extend({clone:function(b3,b5,e){var b7,b4,ca,b6,b8,b9=aw.contains(b3.ownerDocument,b3);if(aw.support.html5Clone||aw.isXMLDoc(b3)||!J.test("<"+b3.nodeName+">")){ca=b3.cloneNode(true)}else{j.innerHTML=b3.outerHTML;j.removeChild(ca=j.firstChild)}if((!aw.support.noCloneEvent||!aw.support.noCloneChecked)&&(b3.nodeType===1||b3.nodeType===11)&&!aw.isXMLDoc(b3)){b7=k(ca);b8=k(b3);for(b6=0;(b4=b8[b6])!=null;++b6){if(b7[b6]){Q(b4,b7[b6])}}}if(b5){if(e){b8=b8||k(b3);b7=b7||k(ca);for(b6=0;(b4=b8[b6])!=null;b6++){au(b4,b7[b6])}}else{au(b3,ca)}}b7=k(ca,"script");if(b7.length>0){bs(b7,!b9&&k(b3,"script"))}b7=b8=b4=null;return ca},buildFragment:function(b3,b5,ca,cf){var cb,b7,b9,ce,cg,cd,b4,b8=b3.length,b6=A(b5),e=[],cc=0;for(;cc<b8;cc++){b7=b3[cc];if(b7||b7===0){if(aw.type(b7)==="object"){aw.merge(e,b7.nodeType?[b7]:b7)}else{if(!I.test(b7)){e.push(b5.createTextNode(b7))}else{ce=ce||b6.appendChild(b5.createElement("div"));cg=(n.exec(b7)||["",""])[1].toLowerCase();b4=U[cg]||U._default;ce.innerHTML=b4[1]+b7.replace(aE,"<$1></$2>")+b4[2];cb=b4[0];while(cb--){ce=ce.lastChild}if(!aw.support.leadingWhitespace&&b2.test(b7)){e.push(b5.createTextNode(b2.exec(b7)[0]))}if(!aw.support.tbody){b7=cg==="table"&&!bX.test(b7)?ce.firstChild:b4[1]==="<table>"&&!bX.test(b7)?ce:0;cb=b7&&b7.childNodes.length;while(cb--){if(aw.nodeName((cd=b7.childNodes[cb]),"tbody")&&!cd.childNodes.length){b7.removeChild(cd)}}}aw.merge(e,ce.childNodes);ce.textContent="";while(ce.firstChild){ce.removeChild(ce.firstChild)}ce=b6.lastChild}}}}if(ce){b6.removeChild(ce)}if(!aw.support.appendChecked){aw.grep(k(e,"input"),bV)}cc=0;while((b7=e[cc++])){if(cf&&aw.inArray(b7,cf)!==-1){continue}b9=aw.contains(b7.ownerDocument,b7);ce=k(b6.appendChild(b7),"script");if(b9){bs(ce)}if(ca){cb=0;while((b7=ce[cb++])){if(bz.test(b7.type||"")){ca.push(b7)}}}}ce=null;return b6},cleanData:function(b3,cb){var b5,ca,b4,b6,b7=0,cc=aw.expando,e=aw.cache,b8=aw.support.deleteExpando,b9=aw.event.special;for(;(b5=b3[b7])!=null;b7++){if(cb||aw.acceptData(b5)){b4=b5[cc];b6=b4&&e[b4];if(b6){if(b6.events){for(ca in b6.events){if(b9[ca]){aw.event.remove(b5,ca)}else{aw.removeEvent(b5,ca,b6.handle)}}}if(e[b4]){delete e[b4];if(b8){delete b5[cc]}else{if(typeof b5.removeAttribute!==aD){b5.removeAttribute(cc)}else{b5[cc]=null}}a7.push(b4)}}}}}});var aF,bo,E,bh=/alpha\([^)]*\)/i,aU=/opacity\s*=\s*([^)]*)/,bn=/^(top|right|bottom|left)$/,F=/^(none|table(?!-c[ea]).+)/,aZ=/^margin/,ba=new RegExp("^("+bA+")(.*)$","i"),X=new RegExp("^("+bA+")(?!px)[a-z%]+$","i"),S=new RegExp("^([+-])=("+bA+")","i"),bj={BODY:"block"},bc={position:"absolute",visibility:"hidden",display:"block"},bC={letterSpacing:0,fontWeight:400},bS=["Top","Right","Bottom","Left"],ax=["Webkit","O","Moz","ms"];function b(b5,b3){if(b3 in b5){return b3}var b6=b3.charAt(0).toUpperCase()+b3.slice(1),e=b3,b4=ax.length;while(b4--){b3=ax[b4]+b6;if(b3 in b5){return b3}}return e}function P(b3,e){b3=e||b3;return aw.css(b3,"display")==="none"||!aw.contains(b3.ownerDocument,b3)}function q(b8,e){var b9,b6,b7,b3=[],b4=0,b5=b8.length;for(;b4<b5;b4++){b6=b8[b4];if(!b6.style){continue}b3[b4]=aw._data(b6,"olddisplay");b9=b6.style.display;if(e){if(!b3[b4]&&b9==="none"){b6.style.display=""}if(b6.style.display===""&&P(b6)){b3[b4]=aw._data(b6,"olddisplay",bE(b6.nodeName))}}else{if(!b3[b4]){b7=P(b6);if(b9&&b9!=="none"||!b7){aw._data(b6,"olddisplay",b7?b9:aw.css(b6,"display"))}}}}for(b4=0;b4<b5;b4++){b6=b8[b4];if(!b6.style){continue}if(!e||b6.style.display==="none"||b6.style.display===""){b6.style.display=e?b3[b4]||"":"none"}}return b8}aw.fn.extend({css:function(e,b3){return aw.access(this,function(b8,b5,b9){var b4,b7,ca={},b6=0;if(aw.isArray(b5)){b7=bo(b8);b4=b5.length;for(;b6<b4;b6++){ca[b5[b6]]=aw.css(b8,b5[b6],false,b7)}return ca}return b9!==aH?aw.style(b8,b5,b9):aw.css(b8,b5)},e,b3,arguments.length>1)},show:function(){return q(this,true)},hide:function(){return q(this)},toggle:function(b3){var e=typeof b3==="boolean";return this.each(function(){if(e?b3:P(this)){aw(this).show()}else{aw(this).hide()}})}});aw.extend({cssHooks:{opacity:{get:function(b4,b3){if(b3){var e=E(b4,"opacity");return e===""?"1":e}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":aw.support.cssFloat?"cssFloat":"styleFloat"},style:function(b5,b4,cb,b6){if(!b5||b5.nodeType===3||b5.nodeType===8||!b5.style){return}var b9,ca,cc,b7=aw.camelCase(b4),b3=b5.style;b4=aw.cssProps[b7]||(aw.cssProps[b7]=b(b3,b7));cc=aw.cssHooks[b4]||aw.cssHooks[b7];if(cb!==aH){ca=typeof cb;if(ca==="string"&&(b9=S.exec(cb))){cb=(b9[1]+1)*b9[2]+parseFloat(aw.css(b5,b4));ca="number"}if(cb==null||ca==="number"&&isNaN(cb)){return}if(ca==="number"&&!aw.cssNumber[b7]){cb+="px"}if(!aw.support.clearCloneStyle&&cb===""&&b4.indexOf("background")===0){b3[b4]="inherit"}if(!cc||!("set" in cc)||(cb=cc.set(b5,cb,b6))!==aH){try{b3[b4]=cb}catch(b8){}}}else{if(cc&&"get" in cc&&(b9=cc.get(b5,false,b6))!==aH){return b9}return b3[b4]}},css:function(b8,b6,b3,b7){var b5,b9,e,b4=aw.camelCase(b6);b6=aw.cssProps[b4]||(aw.cssProps[b4]=b(b8.style,b4));e=aw.cssHooks[b6]||aw.cssHooks[b4];if(e&&"get" in e){b9=e.get(b8,true,b3)}if(b9===aH){b9=E(b8,b6,b7)}if(b9==="normal"&&b6 in bC){b9=bC[b6]}if(b3===""||b3){b5=parseFloat(b9);return b3===true||aw.isNumeric(b5)?b5||0:b9}return b9},swap:function(b7,b6,b8,b5){var b4,b3,e={};for(b3 in b6){e[b3]=b7.style[b3];b7.style[b3]=b6[b3]}b4=b8.apply(b7,b5||[]);for(b3 in b6){b7.style[b3]=e[b3]}return b4}});if(a3.getComputedStyle){bo=function(e){return a3.getComputedStyle(e,null)};E=function(b6,b4,b8){var b5,b3,ca,b7=b8||bo(b6),b9=b7?b7.getPropertyValue(b4)||b7[b4]:aH,e=b6.style;if(b7){if(b9===""&&!aw.contains(b6.ownerDocument,b6)){b9=aw.style(b6,b4)}if(X.test(b9)&&aZ.test(b4)){b5=e.width;b3=e.minWidth;ca=e.maxWidth;e.minWidth=e.maxWidth=e.width=b9;b9=b7.width;e.width=b5;e.minWidth=b3;e.maxWidth=ca}}return b9}}else{if(l.documentElement.currentStyle){bo=function(e){return e.currentStyle};E=function(b5,b3,b8){var b4,b7,b9,b6=b8||bo(b5),ca=b6?b6[b3]:aH,e=b5.style;if(ca==null&&e&&e[b3]){ca=e[b3]}if(X.test(ca)&&!bn.test(b3)){b4=e.left;b7=b5.runtimeStyle;b9=b7&&b7.left;if(b9){b7.left=b5.currentStyle.left}e.left=b3==="fontSize"?"1em":ca;ca=e.pixelLeft+"px";e.left=b4;if(b9){b7.left=b9}}return ca===""?"auto":ca}}}function aK(e,b4,b5){var b3=ba.exec(b4);return b3?Math.max(0,b3[1]-(b5||0))+(b3[2]||"px"):b4}function ay(b6,b3,e,b8,b5){var b4=e===(b8?"border":"content")?4:b3==="width"?1:0,b7=0;for(;b4<4;b4+=2){if(e==="margin"){b7+=aw.css(b6,e+bS[b4],true,b5)}if(b8){if(e==="content"){b7-=aw.css(b6,"padding"+bS[b4],true,b5)}if(e!=="margin"){b7-=aw.css(b6,"border"+bS[b4]+"Width",true,b5)}}else{b7+=aw.css(b6,"padding"+bS[b4],true,b5);if(e!=="padding"){b7+=aw.css(b6,"border"+bS[b4]+"Width",true,b5)}}}return b7}function v(b6,b3,e){var b5=true,b7=b3==="width"?b6.offsetWidth:b6.offsetHeight,b4=bo(b6),b8=aw.support.boxSizing&&aw.css(b6,"boxSizing",false,b4)==="border-box";if(b7<=0||b7==null){b7=E(b6,b3,b4);if(b7<0||b7==null){b7=b6.style[b3]}if(X.test(b7)){return b7}b5=b8&&(aw.support.boxSizingReliable||b7===b6.style[b3]);b7=parseFloat(b7)||0}return(b7+ay(b6,b3,e||(b8?"border":"content"),b5,b4))+"px"}function bE(b4){var b3=l,e=bj[b4];if(!e){e=a2(b4,b3);if(e==="none"||!e){aF=(aF||aw("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b3.documentElement);b3=(aF[0].contentWindow||aF[0].contentDocument).document;b3.write("<!doctype html><html><body>");b3.close();e=a2(b4,b3);aF.detach()}bj[b4]=e}return e}function a2(e,b5){var b3=aw(b5.createElement(e)).appendTo(b5.body),b4=aw.css(b3[0],"display");b3.remove();return b4}aw.each(["height","width"],function(b3,e){aw.cssHooks[e]={get:function(b6,b5,b4){if(b5){return b6.offsetWidth===0&&F.test(aw.css(b6,"display"))?aw.swap(b6,bc,function(){return v(b6,e,b4)}):v(b6,e,b4)}},set:function(b6,b7,b4){var b5=b4&&bo(b6);return aK(b6,b7,b4?ay(b6,e,b4,aw.support.boxSizing&&aw.css(b6,"boxSizing",false,b5)==="border-box",b5):0)}}});if(!aw.support.opacity){aw.cssHooks.opacity={get:function(b3,e){return aU.test((e&&b3.currentStyle?b3.currentStyle.filter:b3.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b6,b7){var b5=b6.style,b3=b6.currentStyle,e=aw.isNumeric(b7)?"alpha(opacity="+b7*100+")":"",b4=b3&&b3.filter||b5.filter||"";b5.zoom=1;if((b7>=1||b7==="")&&aw.trim(b4.replace(bh,""))===""&&b5.removeAttribute){b5.removeAttribute("filter");if(b7===""||b3&&!b3.filter){return}}b5.filter=bh.test(b4)?b4.replace(bh,e):b4+" "+e}}}aw(function(){if(!aw.support.reliableMarginRight){aw.cssHooks.marginRight={get:function(b3,e){if(e){return aw.swap(b3,{display:"inline-block"},E,[b3,"marginRight"])}}}}if(!aw.support.pixelPosition&&aw.fn.position){aw.each(["top","left"],function(e,b3){aw.cssHooks[b3]={get:function(b5,b4){if(b4){b4=E(b5,b3);return X.test(b4)?aw(b5).position()[b3]+"px":b4}}}})}});if(aw.expr&&aw.expr.filters){aw.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||(!aw.support.reliableHiddenOffsets&&((e.style&&e.style.display)||aw.css(e,"display"))==="none")};aw.expr.filters.visible=function(e){return !aw.expr.filters.hidden(e)}}aw.each({margin:"",padding:"",border:"Width"},function(e,b3){aw.cssHooks[e+b3]={expand:function(b6){var b5=0,b4={},b7=typeof b6==="string"?b6.split(" "):[b6];for(;b5<4;b5++){b4[e+bS[b5]+b3]=b7[b5]||b7[b5-2]||b7[0]}return b4}};if(!aZ.test(e)){aw.cssHooks[e+b3].set=aK}});var bv=/%20/g,aS=/\[\]$/,V=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,av=/^(?:input|select|textarea|keygen)/i;aw.fn.extend({serialize:function(){return aw.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=aw.prop(this,"elements");return e?aw.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!aw(this).is(":disabled")&&av.test(this.nodeName)&&!c.test(e)&&(this.checked||!r.test(e))}).map(function(e,b3){var b4=aw(this).val();return b4==null?null:aw.isArray(b4)?aw.map(b4,function(b5){return{name:b3.name,value:b5.replace(V,"\r\n")}}):{name:b3.name,value:b4.replace(V,"\r\n")}}).get()}});aw.param=function(e,b4){var b5,b3=[],b6=function(b7,b8){b8=aw.isFunction(b8)?b8():(b8==null?"":b8);b3[b3.length]=encodeURIComponent(b7)+"="+encodeURIComponent(b8)};if(b4===aH){b4=aw.ajaxSettings&&aw.ajaxSettings.traditional}if(aw.isArray(e)||(e.jQuery1&&!aw.isPlainObject(e))){aw.each(e,function(){b6(this.name,this.value)})}else{for(b5 in e){i(b5,e[b5],b4,b6)}}return b3.join("&").replace(bv,"+")};function i(b4,b6,b3,b5){var e;if(aw.isArray(b6)){aw.each(b6,function(b8,b7){if(b3||aS.test(b4)){b5(b4,b7)}else{i(b4+"["+(typeof b7==="object"?b8:"")+"]",b7,b3,b5)}})}else{if(!b3&&aw.type(b6)==="object"){for(e in b6){i(b4+"["+e+"]",b6[e],b3,b5)}}else{b5(b4,b6)}}}aw.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b3,e){aw.fn[e]=function(b5,b4){return arguments.length>0?this.on(e,null,b5,b4):this.trigger(e)}});aw.fn.hover=function(e,b3){return this.mouseenter(e).mouseleave(b3||e)};var b1,Z,bN=aw.now(),aB=/\?/,aq=/#.*$/,O=/([?&])_=[^&]*/,ah=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,B=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,p=/^(?:GET|HEAD)$/,aI=/^\/\//,aV=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b0=aw.fn.load,w={},a8={},aX="*/".concat("*");try{Z=aM.href}catch(bg){Z=l.createElement("a");Z.href="";Z=Z.href}b1=aV.exec(Z.toLowerCase())||[];function bK(e){return function(b6,b7){if(typeof b6!=="string"){b7=b6;b6="*"}var b3,b4=0,b5=b6.toLowerCase().match(ad)||[];if(aw.isFunction(b7)){while((b3=b5[b4++])){if(b3[0]==="+"){b3=b3.slice(1)||"*";(e[b3]=e[b3]||[]).unshift(b7)}else{(e[b3]=e[b3]||[]).push(b7)}}}}}function o(e,b4,b8,b5){var b3={},b6=(e===a8);function b7(b9){var ca;b3[b9]=true;aw.each(e[b9]||[],function(cc,cb){var cd=cb(b4,b8,b5);if(typeof cd==="string"&&!b6&&!b3[cd]){b4.dataTypes.unshift(cd);b7(cd);return false}else{if(b6){return !(ca=cd)}}});return ca}return b7(b4.dataTypes[0])||!b3["*"]&&b7("*")}function s(b4,b5){var e,b3,b6=aw.ajaxSettings.flatOptions||{};for(b3 in b5){if(b5[b3]!==aH){(b6[b3]?b4:(e||(e={})))[b3]=b5[b3]}}if(e){aw.extend(true,b4,e)}return b4}aw.fn.load=function(b5,b8,b9){if(typeof b5!=="string"&&b0){return b0.apply(this,arguments)}var e,b4,b6,b3=this,b7=b5.indexOf(" ");if(b7>=0){e=b5.slice(b7,b5.length);b5=b5.slice(0,b7)}if(aw.isFunction(b8)){b9=b8;b8=aH}else{if(b8&&typeof b8==="object"){b6="POST"}}if(b3.length>0){aw.ajax({url:b5,type:b6,dataType:"html",data:b8}).done(function(ca){b4=arguments;b3.html(e?aw("<div>").append(aw.parseHTML(ca)).find(e):ca)}).complete(b9&&function(cb,ca){b3.each(b9,b4||[cb.responseText,ca,cb])})}return this};aw.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,b3){aw.fn[b3]=function(b4){return this.on(b3,b4)}});aw.each(["get","post"],function(e,b3){aw[b3]=function(b4,b6,b7,b5){if(aw.isFunction(b6)){b5=b5||b7;b7=b6;b6=aH}return aw.ajax({url:b4,type:b3,dataType:b5,data:b6,success:b7})}});aw.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Z,type:"GET",isLocal:B.test(b1[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":aX,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a3.String,"text html":true,"text json":aw.parseJSON,"text xml":aw.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(b3,e){return e?s(s(b3,aw.ajaxSettings),e):s(aw.ajaxSettings,b3)},ajaxPrefilter:bK(w),ajaxTransport:bK(a8),ajax:function(b7,b4){if(typeof b7==="object"){b4=b7;b7=aH}b4=b4||{};var cg,ci,b8,cn,cc,b3,cj,b5,cb=aw.ajaxSetup({},b4),cp=cb.context||cb,ce=cb.context&&(cp.nodeType||cp.jQuery1)?aw(cp):aw.event,co=aw.Deferred(),cl=aw.Callbacks("once memory"),b9=cb.statusCode||{},cf={},cm={},b6=0,ca="canceled",ch={readyState:0,getResponseHeader:function(cq){var e;if(b6===2){if(!b5){b5={};while((e=ah.exec(cn))){b5[e[1].toLowerCase()]=e[2]}}e=b5[cq.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return b6===2?cn:null},setRequestHeader:function(cq,cr){var e=cq.toLowerCase();if(!b6){cq=cm[e]=cm[e]||cq;cf[cq]=cr}return this},overrideMimeType:function(e){if(!b6){cb.mimeType=e}return this},statusCode:function(cq){var e;if(cq){if(b6<2){for(e in cq){b9[e]=[b9[e],cq[e]]}}else{ch.always(cq[ch.status])}}return this},abort:function(cq){var e=cq||ca;if(cj){cj.abort(e)}cd(0,e);return this}};co.promise(ch).complete=cl.add;ch.success=ch.done;ch.error=ch.fail;cb.url=((b7||cb.url||Z)+"").replace(aq,"").replace(aI,b1[1]+"//");cb.type=b4.method||b4.type||cb.method||cb.type;cb.dataTypes=aw.trim(cb.dataType||"*").toLowerCase().match(ad)||[""];if(cb.crossDomain==null){cg=aV.exec(cb.url.toLowerCase());cb.crossDomain=!!(cg&&(cg[1]!==b1[1]||cg[2]!==b1[2]||(cg[3]||(cg[1]==="http:"?80:443))!=(b1[3]||(b1[1]==="http:"?80:443))))}if(cb.data&&cb.processData&&typeof cb.data!=="string"){cb.data=aw.param(cb.data,cb.traditional)}o(w,cb,b4,ch);if(b6===2){return ch}b3=cb.global;if(b3&&aw.active++===0){aw.event.trigger("ajaxStart")}cb.type=cb.type.toUpperCase();cb.hasContent=!p.test(cb.type);b8=cb.url;if(!cb.hasContent){if(cb.data){b8=(cb.url+=(aB.test(b8)?"&":"?")+cb.data);delete cb.data}if(cb.cache===false){cb.url=O.test(b8)?b8.replace(O,"$1_="+bN++):b8+(aB.test(b8)?"&":"?")+"_="+bN++}}if(cb.ifModified){if(aw.lastModified[b8]){ch.setRequestHeader("If-Modified-Since",aw.lastModified[b8])}if(aw.etag[b8]){ch.setRequestHeader("If-None-Match",aw.etag[b8])}}if(cb.data&&cb.hasContent&&cb.contentType!==false||b4.contentType){ch.setRequestHeader("Content-Type",cb.contentType)}ch.setRequestHeader("Accept",cb.dataTypes[0]&&cb.accepts[cb.dataTypes[0]]?cb.accepts[cb.dataTypes[0]]+(cb.dataTypes[0]!=="*"?", "+aX+"; q=0.01":""):cb.accepts["*"]);for(ci in cb.headers){ch.setRequestHeader(ci,cb.headers[ci])}if(cb.beforeSend&&(cb.beforeSend.call(cp,ch,cb)===false||b6===2)){return ch.abort()}ca="abort";for(ci in {success:1,error:1,complete:1}){ch[ci](cb[ci])}cj=o(a8,cb,b4,ch);if(!cj){cd(-1,"No Transport")}else{ch.readyState=1;if(b3){ce.trigger("ajaxSend",[ch,cb])}if(cb.async&&cb.timeout>0){cc=setTimeout(function(){ch.abort("timeout")},cb.timeout)}try{b6=1;cj.send(cf,cd)}catch(ck){if(b6<2){cd(-1,ck)}else{throw ck}}}function cd(cu,cq,cv,cs){var e,cy,cw,ct,cx,cr=cq;if(b6===2){return}b6=2;if(cc){clearTimeout(cc)}cj=aH;cn=cs||"";ch.readyState=cu>0?4:0;if(cv){ct=g(cb,ch,cv)}if(cu>=200&&cu<300||cu===304){if(cb.ifModified){cx=ch.getResponseHeader("Last-Modified");if(cx){aw.lastModified[b8]=cx}cx=ch.getResponseHeader("etag");if(cx){aw.etag[b8]=cx}}if(cu===204){e=true;cr="nocontent"}else{if(cu===304){e=true;cr="notmodified"}else{e=ag(cb,ct);cr=e.state;cy=e.data;cw=e.error;e=!cw}}}else{cw=cr;if(cu||!cr){cr="error";if(cu<0){cu=0}}}ch.status=cu;ch.statusText=(cq||cr)+"";if(e){co.resolveWith(cp,[cy,cr,ch])}else{co.rejectWith(cp,[ch,cr,cw])}ch.statusCode(b9);b9=aH;if(b3){ce.trigger(e?"ajaxSuccess":"ajaxError",[ch,cb,e?cy:cw])}cl.fireWith(cp,[ch,cr]);if(b3){ce.trigger("ajaxComplete",[ch,cb]);if(!(--aw.active)){aw.event.trigger("ajaxStop")}}}return ch},getScript:function(e,b3){return aw.get(e,aH,b3,"script")},getJSON:function(e,b3,b4){return aw.get(e,b3,b4,"json")}});function g(cb,ca,b7){var e,b6,b5,b8,b3=cb.contents,b9=cb.dataTypes,b4=cb.responseFields;for(b8 in b4){if(b8 in b7){ca[b4[b8]]=b7[b8]}}while(b9[0]==="*"){b9.shift();if(b6===aH){b6=cb.mimeType||ca.getResponseHeader("Content-Type")}}if(b6){for(b8 in b3){if(b3[b8]&&b3[b8].test(b6)){b9.unshift(b8);break}}}if(b9[0] in b7){b5=b9[0]}else{for(b8 in b7){if(!b9[0]||cb.converters[b8+" "+b9[0]]){b5=b8;break}if(!e){e=b8}}b5=b5||e}if(b5){if(b5!==b9[0]){b9.unshift(b5)}return b7[b5]}}function ag(cd,b5){var b3,b9,cb,b6,cc={},b7=0,ca=cd.dataTypes.slice(),b4=ca[0];if(cd.dataFilter){b5=cd.dataFilter(b5,cd.dataType)}if(ca[1]){for(cb in cd.converters){cc[cb.toLowerCase()]=cd.converters[cb]}}for(;(b9=ca[++b7]);){if(b9!=="*"){if(b4!=="*"&&b4!==b9){cb=cc[b4+" "+b9]||cc["* "+b9];if(!cb){for(b3 in cc){b6=b3.split(" ");if(b6[1]===b9){cb=cc[b4+" "+b6[0]]||cc["* "+b6[0]];if(cb){if(cb===true){cb=cc[b3]}else{if(cc[b3]!==true){b9=b6[0];ca.splice(b7--,0,b9)}}break}}}}if(cb!==true){if(cb&&cd["throws"]){b5=cb(b5)}else{try{b5=cb(b5)}catch(b8){return{state:"parsererror",error:cb?b8:"No conversion from "+b4+" to "+b9}}}}}b4=b9}}return{state:"success",data:b5}}aw.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){aw.globalEval(e);return e}}});aw.ajaxPrefilter("script",function(e){if(e.cache===aH){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});aw.ajaxTransport("script",function(b4){if(b4.crossDomain){var e,b3=l.head||aw("head")[0]||l.documentElement;return{send:function(b5,b6){e=l.createElement("script");e.async=true;if(b4.scriptCharset){e.charset=b4.scriptCharset}e.src=b4.url;e.onload=e.onreadystatechange=function(b8,b7){if(b7||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e)}e=null;if(!b7){b6(200,"success")}}};b3.insertBefore(e,b3.firstChild)},abort:function(){if(e){e.onload(aH,true)}}}}});var bq=[],a6=/(=)\?(?=&|$)|\?\?/;aw.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bq.pop()||(aw.expando+"_"+(bN++));this[e]=true;return e}});aw.ajaxPrefilter("json jsonp",function(b5,e,b6){var b8,b3,b4,b7=b5.jsonp!==false&&(a6.test(b5.url)?"url":typeof b5.data==="string"&&!(b5.contentType||"").indexOf("application/x-www-form-urlencoded")&&a6.test(b5.data)&&"data");if(b7||b5.dataTypes[0]==="jsonp"){b8=b5.jsonpCallback=aw.isFunction(b5.jsonpCallback)?b5.jsonpCallback():b5.jsonpCallback;if(b7){b5[b7]=b5[b7].replace(a6,"$1"+b8)}else{if(b5.jsonp!==false){b5.url+=(aB.test(b5.url)?"&":"?")+b5.jsonp+"="+b8}}b5.converters["script json"]=function(){if(!b4){aw.error(b8+" was not called")}return b4[0]};b5.dataTypes[0]="json";b3=a3[b8];a3[b8]=function(){b4=arguments};b6.always(function(){a3[b8]=b3;if(b5[b8]){b5.jsonpCallback=e.jsonpCallback;bq.push(b8)}if(b4&&aw.isFunction(b3)){b3(b4[0])}b4=b3=aH});return"script"}});var ai,az,aA=0,aQ=a3.ActiveXObject&&function(){var e;for(e in ai){ai[e](aH,true)}};function bD(){try{return new a3.XMLHttpRequest()}catch(b3){}}function be(){try{return new a3.ActiveXObject("Microsoft.XMLHTTP")}catch(b3){}}aw.ajaxSettings.xhr=a3.ActiveXObject?function(){return !this.isLocal&&bD()||be()}:bD;az=aw.ajaxSettings.xhr();aw.support.cors=!!az&&("withCredentials" in az);az=aw.support.ajax=!!az;if(az){aw.ajaxTransport(function(e){if(!e.crossDomain||aw.support.cors){var b3;return{send:function(b9,b4){var b7,b5,b8=e.xhr();if(e.username){b8.open(e.type,e.url,e.async,e.username,e.password)}else{b8.open(e.type,e.url,e.async)}if(e.xhrFields){for(b5 in e.xhrFields){b8[b5]=e.xhrFields[b5]}}if(e.mimeType&&b8.overrideMimeType){b8.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!b9["X-Requested-With"]){b9["X-Requested-With"]="XMLHttpRequest"}try{for(b5 in b9){b8.setRequestHeader(b5,b9[b5])}}catch(b6){}b8.send((e.hasContent&&e.data)||null);b3=function(cc,cb){var ca,cd,cg,ce;try{if(b3&&(cb||b8.readyState===4)){b3=aH;if(b7){b8.onreadystatechange=aw.noop;if(aQ){delete ai[b7]}}if(cb){if(b8.readyState!==4){b8.abort()}}else{ce={};ca=b8.status;cd=b8.getAllResponseHeaders();if(typeof b8.responseText==="string"){ce.text=b8.responseText}try{cg=b8.statusText}catch(cf){cg=""}if(!ca&&e.isLocal&&!e.crossDomain){ca=ce.text?200:404}else{if(ca===1223){ca=204}}}}}catch(ch){if(!cb){b4(-1,ch)}}if(ce){b4(ca,cg,ce,cd)}};if(!e.async){b3()}else{if(b8.readyState===4){setTimeout(b3)}else{b7=++aA;if(aQ){if(!ai){ai={};aw(a3).unload(aQ)}ai[b7]=b3}b8.onreadystatechange=b3}}},abort:function(){if(b3){b3(aH,true)}}}}})}var K,ae,bQ=/^(?:toggle|show|hide)$/,bJ=new RegExp("^(?:([+-])=|)("+bA+")([a-z%]*)$","i"),bP=/queueHooks$/,aC=[h],a1={"*":[function(e,b9){var b5,ca,cb=this.createTween(e,b9),b6=bJ.exec(b9),b7=cb.cur(),b3=+b7||0,b4=1,b8=20;if(b6){b5=+b6[2];ca=b6[3]||(aw.cssNumber[e]?"":"px");if(ca!=="px"&&b3){b3=aw.css(cb.elem,e,true)||b5||1;do{b4=b4||".5";b3=b3/b4;aw.style(cb.elem,e,b3+ca)}while(b4!==(b4=cb.cur()/b7)&&b4!==1&&--b8)}cb.unit=ca;cb.start=b3;cb.end=b6[1]?b3+(b6[1]+1)*b5:b5}return cb}]};function bm(){setTimeout(function(){K=aH});return(K=aw.now())}function bf(b3,e){aw.each(e,function(b8,b6){var b7=(a1[b8]||[]).concat(a1["*"]),b4=0,b5=b7.length;for(;b4<b5;b4++){if(b7[b4].call(b3,b8,b6)){return}}})}function f(b4,b8,cb){var cc,e,b7=0,b3=aC.length,ca=aw.Deferred().always(function(){delete b6.elem}),b6=function(){if(e){return false}var ci=K||bm(),cf=Math.max(0,b5.startTime+b5.duration-ci),cd=cf/b5.duration||0,ch=1-cd,ce=0,cg=b5.tweens.length;for(;ce<cg;ce++){b5.tweens[ce].run(ch)}ca.notifyWith(b4,[b5,ch,cf]);if(ch<1&&cg){return cf}else{ca.resolveWith(b4,[b5]);return false}},b5=ca.promise({elem:b4,props:aw.extend({},b8),opts:aw.extend(true,{specialEasing:{}},cb),originalProperties:b8,originalOptions:cb,startTime:K||bm(),duration:cb.duration,tweens:[],createTween:function(cf,cd){var ce=aw.Tween(b4,b5.opts,cf,cd,b5.opts.specialEasing[cf]||b5.opts.easing);b5.tweens.push(ce);return ce},stop:function(ce){var cd=0,cf=ce?b5.tweens.length:0;if(e){return this}e=true;for(;cd<cf;cd++){b5.tweens[cd].run(1)}if(ce){ca.resolveWith(b4,[b5,ce])}else{ca.rejectWith(b4,[b5,ce])}return this}}),b9=b5.props;an(b9,b5.opts.specialEasing);for(;b7<b3;b7++){cc=aC[b7].call(b5,b4,b9,b5.opts);if(cc){return cc}}bf(b5,b9);if(aw.isFunction(b5.opts.start)){b5.opts.start.call(b4,b5)}aw.fx.timer(aw.extend(b6,{elem:b4,anim:b5,queue:b5.opts.queue}));return b5.progress(b5.opts.progress).done(b5.opts.done,b5.opts.complete).fail(b5.opts.fail).always(b5.opts.always)}function an(b5,b7){var b6,b4,b3,b8,e;for(b3 in b5){b4=aw.camelCase(b3);b8=b7[b4];b6=b5[b3];if(aw.isArray(b6)){b8=b6[1];b6=b5[b3]=b6[0]}if(b3!==b4){b5[b4]=b6;delete b5[b3]}e=aw.cssHooks[b4];if(e&&"expand" in e){b6=e.expand(b6);delete b5[b4];for(b3 in b6){if(!(b3 in b5)){b5[b3]=b6[b3];b7[b3]=b8}}}else{b7[b4]=b8}}}aw.Animation=aw.extend(f,{tweener:function(b3,b6){if(aw.isFunction(b3)){b6=b3;b3=["*"]}else{b3=b3.split(" ")}var b5,e=0,b4=b3.length;for(;e<b4;e++){b5=b3[e];a1[b5]=a1[b5]||[];a1[b5].unshift(b6)}},prefilter:function(b3,e){if(e){aC.unshift(b3)}else{aC.push(b3)}}});function h(b6,cc,e){var b4,cb,b5,ce,ci,b8,ch,cg,cf,b7=this,b3=b6.style,cd={},ca=[],b9=b6.nodeType&&P(b6);if(!e.queue){cg=aw._queueHooks(b6,"fx");if(cg.unqueued==null){cg.unqueued=0;cf=cg.empty.fire;cg.empty.fire=function(){if(!cg.unqueued){cf()}}}cg.unqueued++;b7.always(function(){b7.always(function(){cg.unqueued--;if(!aw.queue(b6,"fx").length){cg.empty.fire()}})})}if(b6.nodeType===1&&("height" in cc||"width" in cc)){e.overflow=[b3.overflow,b3.overflowX,b3.overflowY];if(aw.css(b6,"display")==="inline"&&aw.css(b6,"float")==="none"){if(!aw.support.inlineBlockNeedsLayout||bE(b6.nodeName)==="inline"){b3.display="inline-block"}else{b3.zoom=1}}}if(e.overflow){b3.overflow="hidden";if(!aw.support.shrinkWrapBlocks){b7.always(function(){b3.overflow=e.overflow[0];b3.overflowX=e.overflow[1];b3.overflowY=e.overflow[2]})}}for(cb in cc){ce=cc[cb];if(bQ.exec(ce)){delete cc[cb];b8=b8||ce==="toggle";if(ce===(b9?"hide":"show")){continue}ca.push(cb)}}b5=ca.length;if(b5){ci=aw._data(b6,"fxshow")||aw._data(b6,"fxshow",{});if("hidden" in ci){b9=ci.hidden}if(b8){ci.hidden=!b9}if(b9){aw(b6).show()}else{b7.done(function(){aw(b6).hide()})}b7.done(function(){var cj;aw._removeData(b6,"fxshow");for(cj in cd){aw.style(b6,cj,cd[cj])}});for(cb=0;cb<b5;cb++){b4=ca[cb];ch=b7.createTween(b4,b9?ci[b4]:0);cd[b4]=ci[b4]||aw.style(b6,b4);if(!(b4 in ci)){ci[b4]=ch.start;if(b9){ch.end=ch.start;ch.start=b4==="width"||b4==="height"?1:0}}}}}function G(b4,b3,b6,e,b5){return new G.prototype.init(b4,b3,b6,e,b5)}aw.Tween=G;G.prototype={constructor:G,init:function(b5,b3,b7,e,b6,b4){this.elem=b5;this.prop=b7;this.easing=b6||"swing";this.options=b3;this.start=this.now=this.cur();this.end=e;this.unit=b4||(aw.cssNumber[b7]?"":"px")},cur:function(){var e=G.propHooks[this.prop];return e&&e.get?e.get(this):G.propHooks._default.get(this)},run:function(b4){var b3,e=G.propHooks[this.prop];if(this.options.duration){this.pos=b3=aw.easing[this.easing](b4,this.options.duration*b4,0,1,this.options.duration)}else{this.pos=b3=b4}this.now=(this.end-this.start)*b3+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{G.propHooks._default.set(this)}return this}};G.prototype.init.prototype=G.prototype;G.propHooks={_default:{get:function(b3){var e;if(b3.elem[b3.prop]!=null&&(!b3.elem.style||b3.elem.style[b3.prop]==null)){return b3.elem[b3.prop]}e=aw.css(b3.elem,b3.prop,"");return !e||e==="auto"?0:e},set:function(e){if(aw.fx.step[e.prop]){aw.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[aw.cssProps[e.prop]]!=null||aw.cssHooks[e.prop])){aw.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};aw.each(["toggle","show","hide"],function(b3,e){var b4=aw.fn[e];aw.fn[e]=function(b5,b7,b6){return b5==null||typeof b5==="boolean"?b4.apply(this,arguments):this.animate(bI(e,true),b5,b7,b6)}});aw.fn.extend({fadeTo:function(e,b5,b4,b3){return this.filter(P).css("opacity",0).show().end().animate({opacity:b5},e,b4,b3)},animate:function(b8,b5,b7,b6){var b4=aw.isEmptyObject(b8),e=aw.speed(b5,b7,b6),b3=function(){var b9=f(this,aw.extend({},b8),e);b3.finish=function(){b9.stop(true)};if(b4||aw._data(this,"finish")){b9.stop(true)}};b3.finish=b3;return b4||e.queue===false?this.each(b3):this.queue(e.queue,b3)},stop:function(b4,b3,e){var b5=function(b6){var b7=b6.stop;delete b6.stop;b7(e)};if(typeof b4!=="string"){e=b3;b3=b4;b4=aH}if(b3&&b4!==false){this.queue(b4||"fx",[])}return this.each(function(){var b9=true,b6=b4!=null&&b4+"queueHooks",b8=aw.timers,b7=aw._data(this);if(b6){if(b7[b6]&&b7[b6].stop){b5(b7[b6])}}else{for(b6 in b7){if(b7[b6]&&b7[b6].stop&&bP.test(b6)){b5(b7[b6])}}}for(b6=b8.length;b6--;){if(b8[b6].elem===this&&(b4==null||b8[b6].queue===b4)){b8[b6].anim.stop(e);b9=false;b8.splice(b6,1)}}if(b9||!e){aw.dequeue(this,b4)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var b5,b8=aw._data(this),b4=b8[e+"queue"],b3=b8[e+"queueHooks"],b7=aw.timers,b6=b4?b4.length:0;b8.finish=true;aw.queue(this,e,[]);if(b3&&b3.cur&&b3.cur.finish){b3.cur.finish.call(this)}for(b5=b7.length;b5--;){if(b7[b5].elem===this&&b7[b5].queue===e){b7[b5].anim.stop(true);b7.splice(b5,1)}}for(b5=0;b5<b6;b5++){if(b4[b5]&&b4[b5].finish){b4[b5].finish.call(this)}}delete b8.finish})}});function bI(b4,b6){var b5,e={height:b4},b3=0;b6=b6?1:0;for(;b3<4;b3+=2-b6){b5=bS[b3];e["margin"+b5]=e["padding"+b5]=b4}if(b6){e.opacity=e.width=b4}return e}aw.each({slideDown:bI("show"),slideUp:bI("hide"),slideToggle:bI("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b3){aw.fn[e]=function(b4,b6,b5){return this.animate(b3,b4,b6,b5)}});aw.speed=function(b4,b5,b3){var e=b4&&typeof b4==="object"?aw.extend({},b4):{complete:b3||!b3&&b5||aw.isFunction(b4)&&b4,duration:b4,easing:b3&&b5||b5&&!aw.isFunction(b5)&&b5};e.duration=aw.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in aw.fx.speeds?aw.fx.speeds[e.duration]:aw.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(aw.isFunction(e.old)){e.old.call(this)}if(e.queue){aw.dequeue(this,e.queue)}};return e};aw.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};aw.timers=[];aw.fx=G.prototype.init;aw.fx.tick=function(){var b4,b3=aw.timers,e=0;K=aw.now();for(;e<b3.length;e++){b4=b3[e];if(!b4()&&b3[e]===b4){b3.splice(e--,1)}}if(!b3.length){aw.fx.stop()}K=aH};aw.fx.timer=function(e){if(e()&&aw.timers.push(e)){aw.fx.start()}};aw.fx.interval=13;aw.fx.start=function(){if(!ae){ae=setInterval(aw.fx.tick,aw.fx.interval)}};aw.fx.stop=function(){clearInterval(ae);ae=null};aw.fx.speeds={slow:600,fast:200,_default:400};aw.fx.step={};if(aw.expr&&aw.expr.filters){aw.expr.filters.animated=function(e){return aw.grep(aw.timers,function(b3){return e===b3.elem}).length}}aw.fn.offset=function(b3){if(arguments.length){return b3===aH?this:this.each(function(b8){aw.offset.setOffset(this,b3,b8)})}var e,b7,b5={top:0,left:0},b4=this[0],b6=b4&&b4.ownerDocument;if(!b6){return}e=b6.documentElement;if(!aw.contains(e,b4)){return b5}if(typeof b4.getBoundingClientRect!==aD){b5=b4.getBoundingClientRect()}b7=bp(b6);return{top:b5.top+(b7.pageYOffset||e.scrollTop)-(e.clientTop||0),left:b5.left+(b7.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}};aw.offset={setOffset:function(b5,ce,b8){var b9=aw.css(b5,"position");if(b9==="static"){b5.style.position="relative"}var b7=aw(b5),b3=b7.offset(),e=aw.css(b5,"top"),cc=aw.css(b5,"left"),cd=(b9==="absolute"||b9==="fixed")&&aw.inArray("auto",[e,cc])>-1,cb={},ca={},b4,b6;if(cd){ca=b7.position();b4=ca.top;b6=ca.left}else{b4=parseFloat(e)||0;b6=parseFloat(cc)||0}if(aw.isFunction(ce)){ce=ce.call(b5,b8,b3)}if(ce.top!=null){cb.top=(ce.top-b3.top)+b4}if(ce.left!=null){cb.left=(ce.left-b3.left)+b6}if("using" in ce){ce.using.call(b5,cb)}else{b7.css(cb)}}};aw.fn.extend({position:function(){if(!this[0]){return}var b4,b5,e={top:0,left:0},b3=this[0];if(aw.css(b3,"position")==="fixed"){b5=b3.getBoundingClientRect()}else{b4=this.offsetParent();b5=this.offset();if(!aw.nodeName(b4[0],"html")){e=b4.offset()}e.top+=aw.css(b4[0],"borderTopWidth",true);e.left+=aw.css(b4[0],"borderLeftWidth",true)}return{top:b5.top-e.top-aw.css(b3,"marginTop",true),left:b5.left-e.left-aw.css(b3,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||l.documentElement;while(e&&(!aw.nodeName(e,"html")&&aw.css(e,"position")==="static")){e=e.offsetParent}return e||l.documentElement})}});aw.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b4,b3){var e=/Y/.test(b3);aw.fn[b4]=function(b5){return aw.access(this,function(b6,b9,b8){var b7=bp(b6);if(b8===aH){return b7?(b3 in b7)?b7[b3]:b7.document.documentElement[b9]:b6[b9]}if(b7){b7.scrollTo(!e?b8:aw(b7).scrollLeft(),e?b8:aw(b7).scrollTop())}else{b6[b9]=b8}},b4,b5,arguments.length,null)}});function bp(e){return aw.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}aw.each({Height:"height",Width:"width"},function(e,b3){aw.each({padding:"inner"+e,content:b3,"":"outer"+e},function(b4,b5){aw.fn[b5]=function(b9,b8){var b7=arguments.length&&(b4||typeof b9!=="boolean"),b6=b4||(b9===true||b8===true?"margin":"border");return aw.access(this,function(cb,ca,cc){var cd;if(aw.isWindow(cb)){return cb.document.documentElement["client"+e]}if(cb.nodeType===9){cd=cb.documentElement;return Math.max(cb.body["scroll"+e],cd["scroll"+e],cb.body["offset"+e],cd["offset"+e],cd["client"+e])}return cc===aH?aw.css(cb,ca,b6):aw.style(cb,ca,cc,b6)},b3,b7?b9:aH,b7,null)}})});a3.jQuery1=a3.$=aw;if(typeof define==="function"&&define.amd&&define.amd.jQuery1){define("jQuery1",[],function(){return aw})}})(window);$jcallpy=jQuery1.noConflict();
kunnka.CCookie=function(){this.module_name="Cookie ";this.module_log_rang=100;var a=this;this.caustic=function(c,e,b,g,d,f){document.cookie=c+"="+escape(e)+((b)?"; expires="+b:"")+((g)?"; path="+g:"")+((d)?"; domain="+d:"")+((f)?"; secure":"")};this.epicenter=function(c){var e=" "+document.cookie;var d=" "+c+"=";var f=null;var g=0;var b=0;if(e.length>0){g=e.indexOf(d);if(g!=-1){g+=d.length;b=e.indexOf(";",g);if(b==-1){b=e.length}f=unescape(e.substring(g,b))}}return(f)};this.sprint=function(b){document.cookie=b+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}};
kunnka.dragonknight=function(){this.module_name="Loader ";this.module_log_rang=100;var a=this;this.doom=function(){var d;if(iowisp.invoker.type!=1){if(iowisp.invoker.type!=2){if(iowisp.invoker.type==5){$jcallpy.ajax({type:"POST",url:(location.protocol=="http:"?kunnka.bloodseeker.replace("https","http"):kunnka.bloodseeker)+"admn/",data:{action:"get_chat_client_data",site_id:window.global_site_id},success:function(g){g=JSON.parse(g);iowisp.invoker.site=g.site_info.domain;iowisp.invoker.site_info=g.site_info;iowisp.invoker.key=0;iowisp.invoker.channel="";iowisp.invoker.peer_key=g.manager.id;iowisp.invoker.peer_type=2;iowisp.invoker.site_id=g.site_info.id;iowisp.invoker.department_id=g.department_id;iowisp.invoker.clientInfo={userData:null,formData:null};iowisp.earthshaker={};iowisp.earthshaker[g.manager.id]=g.manager;iowisp.earthshaker[g.manager.id].key=g.manager.id;iowisp.lycan=kunnka.registerModule("kunnka.chaosknight");iowisp.wisp=kunnka.registerModule("kunnka.timbersaw");iowisp.m_chat=kunnka.registerModule("kunnka.CChat");if(global_widgetUpdated==1){localStorage.removeItem("tiny")}$jcallpy.callpy_init("_init")}});return}}else{d=iowisp.nightstalker.format_data(iowisp.tidehunter.antimage("get_scripts_mng",{0:"multi",1:iowisp.invoker.browser[0],2:iowisp.invoker.type,3:(window.mozRTCPeerConnection||window.webkitRTCPeerConnection?1:0)}))}}else{var f,b,c,e;if(!iowisp.axe.epicenter("callpy_key")||iowisp.axe.epicenter("callpy_key")=="NaN"||iowisp.axe.epicenter("callpy_key")=="0"||iowisp.axe.epicenter("callpy_key")=="null"||!iowisp.axe.epicenter("callpy_chnl")||iowisp.axe.epicenter("callpy_chnl")=="NaN"){if(!sven||!callpy_storage.iowisp.invoker.key||callpy_storage.iowisp.invoker.key=="0"||callpy_storage.iowisp.invoker.key=="null"){sven=false;f=0;b="";c=Math.floor(new Date().getTime()/1000);localStorage.setItem("callpy_fEnt",c)}else{iowisp.axe.caustic("callpy_key",callpy_storage.iowisp.invoker.key,"Mon, 01-Jan-2101 00:00:00 GMT","/");iowisp.axe.caustic("callpy_chnl",callpy_storage.iowisp.invoker.channel,"Mon, 01-Jan-2101 00:00:00 GMT","/");iowisp.invoker.key=parseInt(callpy_storage.iowisp.invoker.key);iowisp.invoker.channel=callpy_storage.iowisp.invoker.channel;f=iowisp.invoker.key;b=callpy_storage.iowisp.invoker.channel}}else{f=iowisp.axe.epicenter("callpy_key");b=iowisp.axe.epicenter("callpy_chnl")}c=localStorage.getItem("callpy_fEnt");if(!c){c=Math.floor(new Date().getTime()/1000);localStorage.setItem("callpy_fEnt",c)}e=localStorage.getItem("callpy_vsts");if(!e){e=0}e++;localStorage.setItem("callpy_vsts",e);if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}if(sven){d=iowisp.nightstalker.format_data(iowisp.tidehunter.antimage("user_data",{0:encodeURIComponent(iowisp.invoker.site),1:navigator.userAgent,2:iowisp.invoker.type,3:f,4:(sven?1:0),5:encodeURIComponent(window.location.href),6:(document.mozHidden||document.msHidden||document.webkitHidden||document.hidden?1:0),7:(window.mozRTCPeerConnection||window.webkitRTCPeerConnection?1:0),8:encodeURIComponent(iowisp.convertPunycode(window.location.origin)),9:$jcallpy(window).width(),10:b,11:document.title}))}else{d=iowisp.nightstalker.format_data(iowisp.tidehunter.antimage("user_data",{0:encodeURIComponent(iowisp.invoker.site),1:navigator.userAgent,2:iowisp.invoker.type,3:f,4:(sven?1:0),5:encodeURIComponent(window.location.href),6:(document.mozHidden||document.msHidden||document.webkitHidden||document.hidden?1:0),7:(window.mozRTCPeerConnection||window.webkitRTCPeerConnection?1:0),8:encodeURIComponent(iowisp.convertPunycode(window.location.origin)),9:$jcallpy(window).width(),10:b,11:document.title,12:c,13:encodeURIComponent(document.referrer),14:e,15:(iowisp.invoker.site!="callpy.com"?kunnka.language:null)}))}}if(iowisp.invoker.type==1||iowisp.invoker.type==2){a.load_script(kunnka.bloodseeker+(iowisp.invoker.type==1?"d":"mngr")+"/?"+d,document.getElementsByTagName("head")[0],iowisp.spiritbreaker)}else{iowisp.spiritbreaker()}};this.load_script=function(d,b,e){var c=document.createElement("script");c.type="text/javascript";c.src=d;if(e){c.onload=e}b.appendChild(c)};this.mirana=function(c,b,e){var d=document.createElement("link");d.rel="stylesheet";d.href=c;if(e){d.onload=e}b.appendChild(d)}};
kunnka.huskar=function(){this.module_name="Bridge ";this.module_log_rang=100;var a=this;this.flash_object=null;this.init=function(){var b=null;if(iowisp.invoker.type==1){b=function(c){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}if(c.origin==window.location.origin){iowisp.nightstalker.troll(c.data)}}}if(iowisp.invoker.type==2){b=function(c){if(c.origin==iowisp.invoker.origin){iowisp.nightstalker.crystalmaiden(c.data)}}}if(iowisp.invoker.type==3){b=function(c){if(c.origin==kunnka.bloodseeker.substr(0,kunnka.bloodseeker.length-1).replace("https","http")){iowisp.nightstalker.puck(c.data)}}}if(iowisp.invoker.type==4){b=function(c){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}if(c.origin==window.location.origin){iowisp.nightstalker.emberspirit(c.data)}}}if(b){if(window.addEventListener){window.addEventListener("message",b,false)}else{window.attachEvent("onmessage",b)}}};this.storm=function(d){iowisp.clockwerk.windranger(a.module_name+"<<<--- Flash",d,a.module_log_rang);if(d){switch(d.action){case"register_client":iowisp.viper(d);break;case"phrase_added":iowisp.legion.phrase_added(d);break;case"unregister_client":iowisp.bountyhunter(d);break;case"manager_changed":iowisp.shadowfiend(d);break;case"end_call":if(iowisp.m_chat){}break;case"end_dialup":if(iowisp.m_chat){iowisp.m_chat.end_dialup_from_peer(d)}break;case"necrophos":break;case"enigma":if(iowisp.m_chat){if((iowisp.wisp&&(iowisp.magnus.access_equip||localStorage.getItem("sandkung")=="2"))||(iowisp.magnus.access_equip&&iowisp.legion&&iowisp.legion.selected_user==d.key&&iowisp.invoker.site_id==d.site_id)){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("end_dialup"))}else{iowisp.m_chat.call_type=d.webRTC;iowisp.magnus.call_type=(d.webRTC?"webrtc":"flash");iowisp.magnus.peer_webRTCtype=d.peerRTCType?d.peerRTCType:"chrome";if(iowisp.legion){if(iowisp.legion.selected_user==d.key&&iowisp.invoker.site_id==d.site_id){iowisp.m_chat.lich="incoming"}iowisp.lifestealer[d.site_id][d.key].isActive=2;$jcallpy.general_panel("add",{id:d.key,site_id:d.site_id});$jcallpy.callpy_notify("drawNotification",{siteId:d.site_id,clientId:d.key,siteUrl:iowisp.invoker.site_info[d.site_id].domain,type:"incoming",title:"№"+d.key+", "+iowisp.lifestealer[d.site_id][d.key].city,text:"Входящий звонок..."})}else{localStorage.setItem("sandkung","1");iowisp.m_chat.lich="incoming";$jcallpy.callpy_status("set","incoming_call_on")}}}break;case"call_state":break;case"call_createOffer":break;case"peerDisabledCamera":break;case"callToAudio":break;case"darkseer":if(iowisp.wisp){iowisp.wisp.darkseer(d)}break;case"update_active_state":if(iowisp.wisp){iowisp.wisp.batrider(d)}break;case"tab_visibility":if(iowisp.legion){iowisp.legion.ancientapparation(d)}break;case"go_url":iowisp.fvoid(d);break;case"set_new_user":if(iowisp.legion){iowisp.legion.set_new_user(d)}break;case"send_message":if(iowisp.m_chat){iowisp.m_chat.kotel(d)}break;case"automessage":if(iowisp.legion){iowisp.legion.got_automessage(d)}break;case"set_message_history":if(iowisp.m_chat){iowisp.m_chat.feast(d)}break;case"get_scroll_cw":if(iowisp.tusk){var b=0;if(iowisp.lycan.toss==true){if(iowisp.m_chat.lich!="call"){b=iowisp.tusk.skywrath()}else{b=document.getElementById("callpy_iframeid").contentWindow.iowisp.tusk.skywrath()}var c=0;if(iowisp.lycan.toss==true){c=$jcallpy(window).width()}}iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("scroll_cw",{0:b,1:document.cookie,2:iowisp.tusk.getInputs()}))}break;case"scroll":if(iowisp.tusk){if(iowisp.invoker.type=="1"&&(localStorage.getItem("techies")!="2"||(iowisp.lycan.toss!=true&&((iowisp.m_chat.lich!="call"&&window.location.href!=d.url)||(iowisp.m_chat.lich=="call"&&document.getElementById("callpy_iframeid").contentWindow.location.href!=d.url))))){}else{if(iowisp.m_chat.lich!="call"){iowisp.tusk.scroll(d)}else{a.devourer(d)}}}if(iowisp.legion){if(iowisp.legion.proxy_screen&&iowisp.legion.selected_user==d.key&&iowisp.invoker.site_id==d.site_id){iowisp.invoker.ancientapparation=1;iowisp.legion.frameScrollPosition=d.height;a.shadowdemon(d)}}break;case"scroll_cw":iowisp.legion.scroll_cw(d);break;case"input_field":case"textarea_field":if(iowisp.legion&&d.key==iowisp.legion.selected_user&&d.site_id==iowisp.invoker.site_id){if(d.input["id"]!="callpy_chat_input_box"){a.shadowdemon(d)}else{$jcallpy.chat("typing",{text:d.value})}}else{if(iowisp.wisp&&localStorage.getItem("techies")=="2"){if(iowisp.lycan.toss||(iowisp.m_chat.lich!="call"&&window.location.href==d.url)||(iowisp.m_chat.lich=="call"&&document.getElementById("callpy_iframeid").contentWindow.location.href==d.url)){if(d.input["id"]!="callpy_chat_input_box"){if(iowisp.m_chat.lich!="call"){if(d.action=="input_field"){iowisp.tusk.input_field(d)}else{iowisp.tusk.textarea_field(d)}}else{a.devourer(d)}}}}}break;case"select_field":if(iowisp.legion&&d.key==iowisp.legion.selected_user&&d.site_id==iowisp.invoker.site_id){a.shadowdemon(d)}else{if(iowisp.wisp&&localStorage.getItem("techies")=="2"){if(iowisp.lycan.toss||(iowisp.m_chat.lich!="call"&&window.location.href==d.url)||(iowisp.m_chat.lich=="call"&&document.getElementById("callpy_iframeid").contentWindow.location.href==d.url)){if(iowisp.m_chat.lich!="call"){iowisp.tusk.select_field(d)}else{a.devourer(d)}}}}break;case"writing_text":if(iowisp.wisp){iowisp.m_chat.managerWriting()}break;case"window_resize":if(iowisp.legion&&d.key==iowisp.legion.selected_user&&d.site_id==iowisp.invoker.site_id){d.width=parseInt(d.width);d.height=parseInt(d.height);iowisp.legion.phantom(d)}break;case"select_area":if(iowisp.wisp){if(iowisp.lycan.toss||(!iowisp.lycan.toss&&d.url&&(window.location.href==d.url&&iowisp.m_chat.lich!="call"||iowisp.m_chat.lich=="call"&&d.url==document.getElementById("callpy_iframeid").contentWindow.location.href))){if(iowisp.m_chat.lich!="call"){$jcallpy.callpy_select("create",{client_id:d.key,element_id:d.element_id,cords:{upLeft:{x:parseInt(d.x1),y:parseInt(d.y1)},botRight:{x:parseInt(d.x2),y:parseInt(d.y2)}}})}else{iowisp.nightstalker.devourer(d)}}}break;case"visual_message":if(iowisp.wisp){if(iowisp.lycan.toss||(!iowisp.lycan.toss&&d.url&&(window.location.href==d.url&&iowisp.m_chat.lich!="call"||iowisp.m_chat.lich=="call"&&d.url==document.getElementById("callpy_iframeid").contentWindow.location.href))){if(iowisp.m_chat.lich!="call"){$jcallpy.callpy_pointer("create",{client_id:d.key,element_id:d.element_id,circle:{left:d.circle.left,top:d.circle.top},tooltip:{left:d.tooltip.left,top:d.tooltip.top},message:d.message})}else{iowisp.nightstalker.devourer(d)}}}break;case"unselect_area":localStorage.removeItem("techies");$jcallpy.callpy_status("set","remote_control_end");break;case"delete_select_area":if(iowisp.legion&&iowisp.legion.selected_user==d.key&&iowisp.invoker.site_id==d.site_id){$jcallpy.tools("del_tools",{client_id:d.key,site_id:d.site_id,element_id:d.element_id,type:"select"})}break;case"delete_visual_message":if(iowisp.legion&&iowisp.legion.selected_user==d.key&&iowisp.invoker.site_id==d.site_id){$jcallpy.tools("del_tools",{client_id:d.key,site_id:d.site_id,element_id:d.element_id,type:"pointer"})}break;case"set_elements":if(iowisp.legion){iowisp.legion.set_elements(d)}break;case"remote_control_request":localStorage.setItem("techies","1");$jcallpy.callpy_status("set","remote_control_on");break;case"remote_control_request_cancel":localStorage.removeItem("techies");$jcallpy.callpy_status("set","remote_control_off");break;case"remote_control_answer":if(iowisp.legion){iowisp.legion.godstrength(d)}break;case"click":if(iowisp.legion){iowisp.legion.click(d)}if(iowisp.tusk){if(iowisp.lycan.toss==true||(iowisp.m_chat.lich!="call"&&window.location.href==d.url)||(iowisp.m_chat.lich=="call"&&document.getElementById("callpy_iframeid").contentWindow.location.href==d.url)){if(iowisp.invoker.type=="1"&&localStorage.getItem("techies")!="2"){}else{if(iowisp.m_chat.lich!="call"){iowisp.tusk.click(d)}else{a.devourer(d)}}}}break;case"mouse_position":if(iowisp.legion){iowisp.legion.mouse_position(d)}break;case"notification":if(iowisp.legion){iowisp.legion.gotNotification(d)}break;case"drop_session":break;case"force_drop_session":if(iowisp.legion){window.location.href="/manager/logout/"}break;case"site_settings_changed":iowisp.m_chat.craggy(d);break;case"manager_name_changed":if(iowisp.invoker.type==1){iowisp.earthshaker[iowisp.invoker.peer_key].name=d.name;iowisp.earthshaker[iowisp.invoker.peer_key].position=d.position;$jcallpy.callpy_consultant("set")}else{}break;case"manager_avatar_changed":if(iowisp.invoker.type==1){iowisp.earthshaker[iowisp.invoker.peer_key].avatar=d.avatar;$jcallpy.callpy_consultant("set")}break;case"icecandidate":break;case"description":break;case"changeCallState":break;case"ping":if(d.pingtype=="request"){iowisp.magnus.ping_request(d)}else{if(iowisp.wisp&&iowisp.m_chat.lich!="call"&&iowisp.m_chat.lich!="calling_to_manager"){}else{iowisp.magnus.ping_answer()}}break;case"update_activity":break;case"update_status":if(iowisp.legion){iowisp.legion.update_status(d)}break;case"disconnect_request":if(iowisp.wisp){iowisp.wisp.disconnect_request()}break;case"disconnect_answer":if(iowisp.wisp){iowisp.wisp.disconnect_answer(d)}break;case"dscnt_from_rplx":if(iowisp.invoker.type==1){iowisp.realplexor.acid(iowisp.invoker.site_id+"_c_"+iowisp.invoker.key+"_"+iowisp.invoker.channel,null);iowisp.realplexor.execute()}break;case"userData":if(iowisp.legion){iowisp.legion.userData(d)}break;case"formData":if(iowisp.legion){iowisp.legion.formData(d)}break;case"department_field_added":if(iowisp.legion){iowisp.legion.depFieldAdded(d)}else{iowisp.wisp.depFieldAdded(d)}break;case"department_form_changed":if(iowisp.legion){iowisp.legion.depFormChanged(d)}else{iowisp.wisp.depFormChanged(d)}break;case"department_field_deleted":if(iowisp.legion){iowisp.legion.depFieldDeleted(d)}else{iowisp.wisp.depFieldDeleted(d)}break;case"department_added":if(iowisp.legion){iowisp.legion.depAdded(d)}else{iowisp.wisp.depAdded(d)}break;case"department_edited":if(iowisp.legion){iowisp.legion.depEdited(d)}else{iowisp.wisp.depEdited(d)}break;case"departmentConsult":if(iowisp.legion){iowisp.legion.departmentConsult(d)}else{iowisp.wisp.departmentConsult(d)}break}}};this.getController=function(c){var b="d";switch(c){case"add_phrase":case"edit_phrase":case"delete_phrase":case"get_scripts_mng":case"select_new_user":case"change_manager":case"tabStats":b=(iowisp.invoker.type!=1||c!="change_manager"?"mngr":"d");break;default:b="d";break}return b};this.xspot=function(c,d){var b=false;if(iowisp.invoker.type!=3&&iowisp.invoker.type!=4){try{d.where=c;if(document.charset!="UTF-8"){d.charset=document.charset}if(c!="blade"){$jcallpy.ajax({type:"POST",url:(location.protocol=="http:"?kunnka.bloodseeker.replace("https","http"):kunnka.bloodseeker)+a.getController(d.action)+"/",data:d})}else{$jcallpy.ajax({type:"POST",url:(location.protocol=="http:"?kunnka.bloodseeker.replace("https","http"):kunnka.bloodseeker)+a.getController(d.action)+"/",data:d,success:function(h){if(h){try{a.storm(JSON.parse(h))}catch(g){}}}})}b=true}catch(f){iowisp.clockwerk.windranger(a.module_name+"Error",f,a.module_log_rang)}return b}if(iowisp.invoker.type==3){a.berserkcall({action:c,data:d})}if(iowisp.invoker.type==4){a.ghostship({action:c,data:d})}};this.phoenix=function(b){b.domain=iowisp.invoker.site;if(iowisp.invoker.peer_key!=0&&iowisp.invoker.peer_type!=0&&iowisp.invoker.type!=3&&iowisp.invoker.type!=4){b=a.battlehunger(b);b=a.helix(b);if(iowisp.invoker.type==1){b=a.add_channel_data(b)}iowisp.clockwerk.windranger(a.module_name+"--->>> Peer",b,a.module_log_rang);a.xspot("to_fms",b);return true}if(iowisp.invoker.type==3){a.xspot("to_peer",b)}if(iowisp.invoker.type==4){a.xspot("to_peer",b)}};this.blade=function(b){if(iowisp.invoker.type==1){b=a.add_channel_data(b)}iowisp.clockwerk.windranger(a.module_name+"--->>> PHP",b,a.module_log_rang);a.xspot("blade",b)};this.to_fms=function(b){b=a.battlehunger(b);if(iowisp.invoker.type==1){b=a.add_channel_data(b)}iowisp.clockwerk.windranger(a.module_name+"--->>> All",b,a.module_log_rang);a.xspot("to_fms",b)};this.battlehunger=function(b){b.site_id=iowisp.invoker.site_id;b.key=iowisp.invoker.key;b.type=iowisp.invoker.type;return b};this.helix=function(b){b.peer_key=iowisp.invoker.peer_key;b.peer_type=iowisp.invoker.peer_type;return b};this.add_channel_data=function(b){b.channel=iowisp.invoker.channel;return b};this.is_array=function(b){return typeof(b)=="object"&&((b instanceof Array)||(b instanceof Object))};this.format_data=function(b){var c=a.data_to_str(b,"&",null);return c.slice(0,c.length-1)};this.data_to_str=function(f,c,e){(c)?c:"&";var b="";for(var d in f){if(a.is_array(f[d])){b+=a.data_to_str(f[d],c,(e)?e+"["+d+"]":d)}else{b+=((e)?e+"["+d+"]":d)+"="+f[d]+c}}return b};this.shadowdemon=function(b){iowisp.legion.proxy_screen.postMessage(JSON.stringify(b),iowisp.invoker.origin)};this.devourer=function(b){document.getElementById("callpy_iframeid").contentWindow.postMessage(JSON.stringify(b),location.protocol+"//"+document.getElementById("callpy_iframeid").contentWindow.location.host)};this.berserkcall=function(b){parent.postMessage(JSON.stringify(b),kunnka.bloodseeker.substr(0,kunnka.bloodseeker.length-1).replace("https","http"))};this.ghostship=function(b){parent.postMessage(JSON.stringify(b),location.protocol+"//"+parent.location.host)};this.crystalmaiden=function(b){try{b=JSON.parse(b);switch(b.action){case"to_peer":if(iowisp.invoker.type==2&&(b.data.action=="scroll"||b.data.action=="click"||b.data.action=="input_field")){if($jcallpy.tools("status").navigate){if(iowisp.lifestealer[iowisp.invoker.site_id][iowisp.legion.selected_user].tabStatus=="1"){b.data.url=""}}else{return}}a.phoenix(b.data);break;case"get_cookies":if(iowisp.invoker.peer_cookies==false){a.shadowdemon(iowisp.tidehunter.antimage("set_cookies",{0:iowisp.invoker.peer_cookie}));iowisp.invoker.peer_cookies=true}break;case"get_data":iowisp.legion.getDataForProxy(b);break;case"toolsData":$jcallpy.tools("add_tools",b.toolsData);break;case"set_locationhref":iowisp.legion.proxyScreenLocation=b.url;break;case"visibility":if(b.status=="focus"){iowisp.legion.toss=true}break;case"iframe_loaded":iowisp.legion.load_frame_handler();break}}catch(c){}};this.troll=function(b){try{b=JSON.parse(b);switch(b.action){case"to_peer":a.phoenix(b.data);break;case"focus":iowisp.lycan.onfocus_handler({focusFrame:true});break;case"blur":if(!iowisp.lycan.focusedWindow){iowisp.lycan.onblur_handler()}break;case"iframe_loaded":if(iowisp.m_chat.lich!="call"){iowisp.nightstalker.phoenix({action:"go_url",url:window.location.href,width:$jcallpy(document).width(),height:$jcallpy(document).height(),scroll:iowisp.tusk.skywrath(),elements:{selects:$jcallpy.callpy_select(),pointers:$jcallpy.callpy_pointer()},noFocus:true,title:document.title})}else{iowisp.nightstalker.phoenix({action:"go_url",url:document.getElementById("callpy_iframeid").contentWindow.location.href,width:$jcallpy(document).width(),height:$jcallpy(document).height(),scroll:document.getElementById("callpy_iframeid").contentWindow.iowisp.tusk.skywrath(),elements:{selects:document.getElementById("callpy_iframeid").contentWindow.$jcallpy.callpy_select(),pointers:document.getElementById("callpy_iframeid").contentWindow.$jcallpy.callpy_pointer()},noFocus:true,title:document.getElementById("callpy_iframeid").contentWindow.document.title})}break}}catch(c){}};this.puck=function(c){try{c=JSON.parse(c);switch(c.action){case"click":iowisp.tusk.click(c);break;case"scroll":iowisp.tusk.scroll(c);break;case"input_field":iowisp.tusk.input_field(c);break;case"textarea_field":iowisp.tusk.textarea_field(c);break;case"select_field":iowisp.tusk.select_field(c);break;case"pointer_click":$jcallpy.control("pointer",c.status);break;case"select_click":$jcallpy.control("select",c.status);break;case"go_url":window.location.href=c.url;break;case"block_click":$jcallpy.control("block_click");break;case"get_location":a.berserkcall({action:"info",url:document.location.href,url_togo:c.url});break;case"get_locationhref":a.berserkcall({action:"set_locationhref",url:document.location.href});if(c.tools.select){$jcallpy.control("select",true)}if(c.tools.pointer){$jcallpy.control("pointer",true)}break;case"set_cookies":iowisp.tusk.heap(c);break;case"delete_tool":if(c.type=="select"){$jcallpy("#remote-select-page-box-"+c.element_id).remove()}else{$jcallpy("#remote-control-circle"+c.element_id+", #callpy_tooltip_pointer_block"+c.element_id).remove()}break;case"draw_elements":if(c.deletePrevious){$jcallpy(".remote-selected-page-box").remove();$jcallpy(".callpy_lable_tooltip_wrapper").remove();$jcallpy(".remote-control-circle").remove()}for(var b=0;b<c.elements.selects.length;b++){$jcallpy.control("create_select",c.elements.selects[b])}for(var b=0;b<c.elements.pointers.length;b++){$jcallpy.control("create_pointer2",c.elements.pointers[b])}break}}catch(d){}};this.emberspirit=function(b){try{b=JSON.parse(b);switch(b.action){case"click":iowisp.tusk.click(b);break;case"scroll":iowisp.tusk.scroll(b);break;case"input_field":iowisp.tusk.input_field(b);break;case"textarea_field":iowisp.tusk.textarea_field(b);break;case"pointer_click":$jcallpy.control("pointer",{active:b.active});break;case"select_click":$jcallpy.control("select",{active:b.active});break;case"go_url":window.location.href=b.url;break;case"block_click":$jcallpy.control("block_click");break;case"select_area":$jcallpy.callpy_select("create",{client_id:b.key,element_id:b.element_id,cords:{upLeft:{x:parseInt(b.x1),y:parseInt(b.y1)},botRight:{x:parseInt(b.x2),y:parseInt(b.y2)}}});break;case"visual_message":$jcallpy.callpy_pointer("create",{client_id:b.key,element_id:b.element_id,circle:{left:b.circle.left,top:b.circle.top},tooltip:{left:b.tooltip.left,top:b.tooltip.top},message:b.message});break}}catch(c){}}};
kunnka.omniknight=function(){this.module_name="Logger ";this.module_log_rang=100;var a=this;this.message_level=0;this.windranger=function(b,c,f){if(console&&f>this.message_level){try{}catch(d){}}}};
kunnka.wraithking=function(){this.module_name="Message ";this.module_log_rang=100;var a=this;this.templates={};this.brewmaster=function(){a.templates.user_data=["site","browser","type","key","from_ls","referer","hidden","webRTCsupp","origin","width","channel","title","enter","fromref","visits","lang"];a.templates.get_scripts_mng=["site","browser","type","webRTCsupp"];a.templates.get_site_info=["site_id"];a.templates.get_lan_info=["login"];a.templates.add_phrase=["key","phrase","color"];a.templates.delete_phrase=["key","id"];a.templates.lan_register=["site_id","login","tariff","info"];a.templates.update_site_settings=["name","value","site_id"];a.templates.change_tariff=["key","tariff"];a.templates.delete_manager=["key"];a.templates.change_manager=["user","manager","site","domain","statusData"];a.templates.set_client_type=["type"];a.templates.set_fms_server=["fms_server"];a.templates.set_fms_app=["fms_app"];a.templates.set_key=["key"];a.templates.set_site=["site"];a.templates.set_site_id=["site_id"];a.templates.set_peer=["key","type","rtmfp_key"];a.templates.set_message_history=["history"];a.templates.set_origin=["origin","cookies","webRTCsupp"];a.templates.clear_peer=[];a.templates.connect_to_fms=[];a.templates.disconnect_from_fms=[];a.templates.ping=["pingtype"];a.templates.send_message=["message","managerName","channel"];a.templates.automessage=["message","time"];a.templates.update_call_set=["audio","video"];a.templates.start_call=[];a.templates.enigma=["webRTC","peerRTCType"];a.templates.necrophos=["peerRTCType"];a.templates.end_call=[];a.templates.end_dialup=[];a.templates.call_state=["state"];a.templates.call_createOffer=[];a.templates.darkseer=[];a.templates.get_scroll=[];a.templates.get_scroll_cw=[];a.templates.go_url=["url","origin","width","height","scroll","elements"];a.templates.set_elements=["elements"];a.templates.select_new_user=["site","oldSite","siteId","oldSiteId","managerId","oldId","newId","withHistory"];a.templates.click=["x","y","tag","id","onclick","outerHtml","elementX","elementY","parentTag","parentId","parentOnclick","parentOuterHtml","parentElementX","parentElementY","url"];a.templates.mouse_position=["coords"];a.templates.visual_message=["circle","tooltip","message","element_id","url"];a.templates.delete_visual_message=["element_id"];a.templates.remote_control_request=[];a.templates.remote_control_request_cancel=[];a.templates.remote_control_answer=["request"];a.templates.get_cookies=[];a.templates.get_data=["type"];a.templates.set_cookies=["cookies"];a.templates.input_field=["input","value","url"];a.templates.textarea_field=["input","value","url"];a.templates.select_field=["select","values","selected","url"];a.templates.writing_text=[];a.templates.notification=["ntype"];a.templates.select_area=["x1","y1","x2","y2","element_id","url"];a.templates.delete_select_area=["element_id"];a.templates.unselect_area=["close"];a.templates.mouse_up=["element","mousesx","mousesy","mousecx","mousecy"];a.templates.scroll=["height","url"];a.templates.scroll_cw=["height","cookie","inputs"];a.templates.window_resize=["width","height"];a.templates.tab_visibility=["isVisible"];a.templates.icecandidate=["label","id","candidate"];a.templates.description=["descriptor","video"];a.templates.changeCallState=["video"];a.templates.update_activity=["id","level","site_id"];a.templates.disconnect_request=["site_url","site_id","key","type","referer","hidden","webRTCsupp","origin","chatWindowStatus","manager","browser","width","enter","title","visits"]};this.antimage=function(d,c){if(a.templates[d]){var b={action:d};for(var e in c){b[a.templates[d][e]]=c[e]}return b}else{return false}}};
kunnka.Dklab_Realplexor_Loader={JS_MAX_BOUNCES:10,JS_WAIT_RECONNECT_DELAY:0.01,JS_WAIT_URI:"https://rp."+kunnka.callpy_domain,JS_WAIT_TIMEOUT:10,JS_IDENTIFIER:"identifier",JS_DEBUG:1,_bounceCount:0,_namespace:null,_prevReqTime:null,_lastXmlhttp:null,_isXDomain:false,_ids:{},_callAndReturnException:null,_doc:function(){return document},_getXmlHttp:function(){var a;if(typeof XMLHttpRequest!="undefined"){a=new XMLHttpRequest();if(window.XDomainRequest){a=new XDomainRequest();this._isXDomain=true}}if(!a){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){}}if(!a){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}return a},_log:function(e,c){if(!this.JS_DEBUG){return}if(window.console){if(!c){c="log"}var a=false;if((""+e).match(/^([^\r\n]+)\r?\n([\s\S]*)$/)){var d=RegExp.$1,b=RegExp.$2;if(console.groupCollapsed){console.groupCollapsed(d);console[c](b+"\n");console.groupEnd()}else{console.info(d);console[c](b+"\n")}}else{console[c](e);if(c=="error"){}}}},_error:function(a,b){this._log(a,"error");this._log(b)},_processPart:function(c){var h=0;var b=c.ids;if(b==null){throw'Cannot find "ids" property within the response part'}var f=c.data;if(f==undefined){throw'Cannot find "data" property within the response part'}for(var a in b){if(b.hasOwnProperty(a)){var i=b[a];if(this._namespace!=null){if(a.indexOf(this._namespace)==0){a=a.substring(this._namespace.length)}}if(!this._ids[a]){this._ids[a]={cursor:null,callbacks:[]}}var k=this._ids[a];k.cursor=i;for(var d=0;d<k.callbacks.length;d++){var g=this._callAndReturnException(k.callbacks[d],[f,a,k.cursor]);if(g){this._error("Error executing callback #"+d+" for ID "+a+": "+g,"Data:\n"+f);h++}}}}return h},_parseResponseTextIntoParts:function(text){if(!text.match(/^\s*\[[\s\S]*\]\s*$/i)){throw"Response is not a complete JSON"}var parts;eval("parts = "+text);return parts},_processResponseText:function(c){c=c.replace(/^[\s\S]*?(?=\[)/g,"");this._log("Received response:\n"+c);var b=this._parseResponseTextIntoParts(c);var d=0;for(var a=0;a<b.length;a++){d+=this._processPart(b[a])}return d},_onresponse:function(h){var g=Math.round(this.JS_WAIT_RECONNECT_DELAY*1000);try{if(!this._doc().body){return}}catch(b){return}var i=0;try{if(h.match(/^\s*$/)){h="";throw"Empty response"}this._processResponseText(h);this._bounceCount=0}catch(f){var a=new Date().getTime();if(a-this._prevReqTime<this.JS_WAIT_TIMEOUT/2*1000){this._bounceCount++;this._log("Bounce detected (bounceCount = "+this._bounceCount+")")}else{this._log("Disconnect detected")}if(h!=""){this._error(f.message?f.message:f,"Response:\n"+h)}this._prevReqTime=a}if(this._bounceCount>this.JS_MAX_BOUNCES){var d=this._bounceCount-this.JS_MAX_BOUNCES+2;g=1000+500*d*d;if(g>15000){g=15000}}if(!this._lastXmlhttp){this._log("Next query in "+g+" ms");if(iowisp.lycan){if(iowisp.lycan.toss||1==1){iowisp.lycan.storage.lastSave=new Date().getTime();localStorage.setItem("callpy_data",JSON.stringify(iowisp.lycan.storage));localStorage.setItem("callpy_lastRpx",iowisp.lycan.storage.lastSave)}else{iowisp.lycan.storage.lastSave=new Date().getTime()}}var c=this;setTimeout(function(){c._loopFunc()},g)}},_makeRequestId:function(){var b=[];for(var c in this._ids){if(this._ids.hasOwnProperty(c)){var a=this._ids[c];if(!a.callbacks.length){continue}b.push((a.cursor!==null?a.cursor+":":"")+(this._namespace!=null?this._namespace:"")+c)}}return b.join(",")},_loopFunc:function(){var f=this._makeRequestId();if(!f.length){return}var d=this.JS_IDENTIFIER+"="+f;var b=null,a=null;if(d.length+this.JS_WAIT_URI.length<1700){b=this.JS_WAIT_URI+"?"+d;b+="&ncrnd="+(new Date().getTime())}else{b=this.JS_WAIT_URI;a=d+"\n"}var c=this._getXmlHttp();if(!c){this._error("No XMLHttpRequest found!");return}var e=this;c.open(a?"POST":"GET",b,true);if(!e._isXDomain){c.onreadystatechange=function(){if(c.readyState!=4){return}if(!e._lastXmlhttp){return}e._lastXmlhttp=null;e._onresponse(""+c.responseText);e=null}}else{c.onload=function(){if(!e._lastXmlhttp){return}e._lastXmlhttp=null;e._onresponse(""+c.responseText);e=null}}c.send(a);this._prevReqTime=new Date().getTime();this._lastXmlhttp=c},execute:function(c,d,a){var b=this;window.onunload=function(){try{if(b._lastXmlhttp){b._lastXmlhttp.onreadystatechange=function(){};b._lastXmlhttp.abort();b._lastXmlhttp=null}}catch(f){}};if(this._lastXmlhttp){var e=this._lastXmlhttp;this._lastXmlhttp=null;e.onreadystatechange=function(){};e.abort()}this._namespace=a&&a.length?a:null;this._ids=c;this._callAndReturnException=d;this._loopFunc()},prepare:function(){if(!document.location.search.match(/HOST=([^&]+)/)){}}};kunnka.Dklab_Realplexor=function(){var a=this;this.bersekersblood=function(b,c){if(c==kunnka.callpy_domain){return"callpy"}else{if(c&&c.indexOf("."+kunnka.callpy_domain)!=-1){return"hosts"}else{return"callpy"}}};this.init=function(c,d,b){var f="1.32";var e=document.location.host;if(!a._registry){a._registry={}}a.version=f;a._map={};a._realplexor=null;a._namespace=d;a._login=null;a._iframeId="mpl"+(new Date().getTime());a._iframeTag='<iframe id="'+a._iframeId+'" onload="Dklab_Realplexor._iframeLoaded(&quot;'+a._iframeId+'&quot;)" src="'+c+"?identifier=IFRAME&amp;HOST="+e+"&amp;version="+a.version+'" style="position:absolute; visibility:hidden; width:200px; height:200px; left:-1000px; top:-1000px"></iframe>';a._iframeCreated=false;a._registry[a._iframeId]=a;if(!c.match(/^\w+:\/\/([^/]+)/)){throw"Dklab_Realplexor constructor argument must be fully-qualified URL, "+c+" given."}var g=RegExp.$1;if(g!=e&&g.lastIndexOf("."+e)!=g.length-e.length-1){}if(b){document.write(a._iframeTag);a._iframeCreated=true}};this._iframeLoaded=function(){var b=a;b._realplexor=kunnka.Dklab_Realplexor_Loader;b._realplexor.execute(a._map,a._callAndReturnException,(a._login!=null?a._login+"_":"")+(a._namespace!=null?a._namespace:""))};this.logon=function(b){a._login=b};this.setCursor=function(c,b){if(!a._map[c]){a._map[c]={cursor:null,callbacks:[]}}a._map[c].cursor=b;return a};this.lifebreak=function(e,d){if(!a._map[e]){a._map[e]={cursor:null,callbacks:[]}}var c=a._map[e].callbacks;for(var b=0;b<c.length;b++){if(c[b]===d){return a}}c.push(d);return a};this.acid=function(e,d){if(!a._map[e]){return a}if(d==null){a._map[e].callbacks=[];return a}var c=a._map[e].callbacks;for(var b=0;b<c.length;b++){if(c[b]===d){c.splice(b,1);return a}}return a};this.execute=function(){if(!a._iframeCreated){a._iframeCreated=true}a._iframeLoaded()};this._callAndReturnException=function(c,b){try{c.apply(null,b);return null}catch(d){return""+d}}};
kunnka.chaosknight=function(){this.module_name="chaosknight ";this.module_log_rang=100;var a=this;this.toss=true;if(document.mozHidden==true||document.msHidden==true||document.webkitHidden==true||document.hidden==true){this.toss=false}this.storage=Object();this.first_time_focus=true;this.restoreTimer=null;this.restoreInIE=/*@cc_on!@*/false || !!document.documentMode;this.handleFlag=true;this.handleCallFlag=true;this.handleDataFlag=true;this.focusTimer=null;this.focusedWindow=false;this.pageViews=1;this.init=function(){if(localStorage.getItem("callpy_data")!=null&&sven){a.darkness();a.pageViews=localStorage.getItem("callpy_views");if(a.pageViews){if(iowisp.invoker.peer_key){a.pageViews++}}else{a.pageViews=1}localStorage.setItem("callpy_views",a.pageViews);a.storage.lastSave=new Date().getTime();localStorage.setItem("callpy_data",JSON.stringify(iowisp.lycan.storage))}else{localStorage.removeItem("callpy_data");localStorage.setItem("callpy_views",a.pageViews)}if(!sven){localStorage.setItem("callpy_lastRpx",new Date().getTime());a.storage.insertcode="(function(c,k,n,d,m){var o=d.getItem(\"tiny\");if(o!==null){c[k]=true;var p=m.createElement(\"style\");p.type=\"text/css\";p.innerHTML=o;o=0;m.getElementsByTagName(\"head\")[0].appendChild(p)}var l=m.createElement(\"div\");l.id=\"callpy\";m.body.appendChild(l);m.querySelector(\"#callpy\").innerHTML=d.getItem(\"callpy_html\");if(m.getElementById(n)){m.getElementById(n).scrollTop=d.getItem(\"callpy_userId\")}})(window,\"tiny\",\"callpy_chat_scroller\",localStorage,document);"}window.addEventListener("unload",function(){a.cripping();if(iowisp.m_chat.lich=="calling_to_manager"){localStorage.removeItem("sladar");localStorage.removeItem("sandkung");iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("end_dialup"));$jcallpy.callpy_status("set","dial_off")}else{if(iowisp.m_chat.lich=="call"){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("end_call"));$jcallpy.callpy_status("set","call_off");localStorage.removeItem("sladar");localStorage.removeItem("sandkung")}}});window.onbeforeunload=function(){if(iowisp.m_chat.lich=="calling_to_manager"||iowisp.m_chat.lich=="call"){return "На этой вкладке идет звонок. Если вы закроете её, звонок прервется. Продолжить?"}};if(window.addEventListener){window.addEventListener("storage",b,false)}else{window.attachEvent("onstorage",b)}function b(c){if(!c){c=window.event}if(c.key=="callpy_html"){a.restoreInIE=false;a.voidd()}if(a.restoreInIE&&c.key=="html_save"){clearTimeout(a.restoreTimer);a.restoreTimer=setTimeout(function(){if(a.handleFlag){a.voidd()}else{a.handleFlag=true}},350)}if(c.key=="techies"){if(!c.newValue){if(c.oldValue=="1"){}else{}}else{if(c.newValue=="2"){}}}if(c.key=="callpy_clientSyncData"){if(a.restoreInIE&&!a.handleDataFlag){console.log("Блокирование изменения данных callpy_data на текущей вкладке");a.handleDataFlag=true;return}a.syncData()}if(c.key=="sandkung"){if(a.restoreInIE&&!a.handleCallFlag){console.log("Блокирование изменения флага звонка на текущей вкладке");a.handleCallFlag=true;return}console.log("Изменение флага звонка");if(!c.newValue){if(c.oldValue=="3"||c.oldValue=="2"){if(iowisp.m_chat.lich=="call"||iowisp.m_chat.lich=="calling_to_manager"){if(iowisp.magnus.call_type=="webrtc"){iowisp.m_chat.end_call_webrtc();if(c.oldValue=="3"){$jcallpy.callpy_status("set","call_off")}else{$jcallpy.callpy_status("set","dial_off")}$jcallpy.callpy_call("_removeIframe")}else{iowisp.magnus.qop();if(c.oldValue=="3"){$jcallpy.callpy_status("set","call_off")}else{$jcallpy.callpy_status("set","dial_off")}$jcallpy.callpy_call("_removeIframe")}}else{if(c.oldValue=="3"){$jcallpy.callpy_status("set","call_off")}else{$jcallpy.callpy_status("set","dial_off")}iowisp.m_chat.lich="no_call"}}else{if(c.oldValue=="1"){iowisp.m_chat.lich="no_call"}}}else{if(c.newValue=="3"||c.newValue=="2"){if(iowisp.m_chat.lich=="no_call"||iowisp.m_chat.lich=="incoming"){if(c.newValue=="3"){iowisp.m_chat.lich="no_call"}else{}}}}}if(c.key=="callTab"&&!c.oldValue){if(iowisp.m_chat.lich=="calling_to_maanger"||iowisp.m_chat.lich=="call"){localStorage.removeItem("callTab");alert("Разговор идет на этой вкладке")}}if(c.key=="callpy_activity"){iowisp.haste.activity=c.newValue}if(c.key=="callpy_views"){a.pageViews=parseInt(c.newValue)}}window.onfocus=a.onfocus_handler;window.onblur=a.onblur_handler};this.onfocus_handler=function(c){if(iowisp.realplexor&&iowisp.realplexor._realplexor&&iowisp.realplexor._realplexor._prevReqTime&&(new Date().getTime()-iowisp.realplexor._realplexor._prevReqTime)>30000){iowisp.realplexor._realplexor._loopFunc()}a.toss=true;iowisp.m_chat.setMessagesRead();if(!c.focusFrame){a.focusedWindow=true}var b=new Date().getTime();if(a.focusTimer){clearTimeout(a.focusTimer)}a.focusTimer=setTimeout(function(){iowisp.nightstalker.to_fms({action:"update_status",status:"1"+(($jcallpy.callpy_status("api").visible&&iowisp.invoker.peer_key)?"1":"0")+(iowisp.m_chat.history.length?"1":"0"),peer_key:(iowisp.invoker.peer_key?iowisp.invoker.peer_key:0),domain:iowisp.invoker.site,referer:encodeURIComponent(window.location.href),width:$jcallpy(window).width(),title:document.title})},500);if(iowisp.invoker.activePage==1){setTimeout(function(){if(a.toss){var d=(iowisp.m_chat.lich!="call"?iowisp.tusk.skywrath():(document.getElementById("callpy_iframeid").contentWindow.iowisp?document.getElementById("callpy_iframeid").contentWindow.iowisp.tusk.skywrath():0));if(iowisp.invoker.type==1&&iowisp.invoker.site_info.blocked!=0){d=0}if(iowisp.m_chat.lich!="call"){iowisp.nightstalker.phoenix({action:"go_url",url:window.location.href,width:$jcallpy(document).width(),height:$jcallpy(document).height(),scroll:d,elements:{selects:$jcallpy.callpy_select(),pointers:$jcallpy.callpy_pointer()},focusTime:b,inputs:iowisp.tusk.getInputs(),title:document.title})}else{iowisp.nightstalker.phoenix({action:"go_url",url:document.getElementById("callpy_iframeid").contentWindow.location.href,width:$jcallpy(document).width(),height:$jcallpy(document).height(),scroll:d,elements:{selects:document.getElementById("callpy_iframeid").contentWindow.iowisp?document.getElementById("callpy_iframeid").contentWindow.$jcallpy.callpy_select():[],pointers:document.getElementById("callpy_iframeid").contentWindow.iowisp?document.getElementById("callpy_iframeid").contentWindow.$jcallpy.callpy_pointer():[]},focusTime:b,inputs:document.getElementById("callpy_iframeid").contentWindow.iowisp?document.getElementById("callpy_iframeid").contentWindow.iowisp.tusk.getInputs():{inputs:[],textareas:[],selects:[]},title:document.getElementById("callpy_iframeid").contentWindow.document.title})}}},50)}if(!a.first_time_focus){}else{a.first_time_focus=false}};this.onblur_handler=function(){a.focusedWindow=false;if(a.toss){a.cripping();a.toss=false;if(a.focusTimer){clearTimeout(a.focusTimer)}iowisp.nightstalker.to_fms({action:"update_status",status:"0"+(($jcallpy.callpy_status("api").visible&&iowisp.invoker.peer_key)?"1":"0")+(iowisp.m_chat.history.length?"1":"0"),peer_key:(iowisp.invoker.peer_key?iowisp.invoker.peer_key:0),domain:iowisp.invoker.site})}};this.voidd=function(e){console.log("Восстановили из LS");var b=localStorage.getItem("sandkung");var c=$jcallpy("#callpy_wrapper").hasClass("callpy_status_video");if((1)||e){var d=localStorage.getItem("callpy_html");if(d[0]!=" "){console.log("Не восстанавливаем из LS, поскольку запись не была инициирована пользователем");return}else{d=d.substr(1)}var f=document.querySelector("#callpy_wrapper");if(f.outerHTML!=d){document.querySelector("#callpy").innerHTML=d;if(document.getElementById("callpy_chat_scroller")){document.getElementById("callpy_chat_scroller").scrollTop=localStorage.getItem("callpy_userId")}if(!window.sven){window.sven=true}$jcallpy.callpy_init();$jcallpy("#callpy_chat_input_box").on("input",function(){iowisp.tusk.send_textarea_change({id:$jcallpy(this).attr("id"),name:$jcallpy(this).attr("name")},$jcallpy(this).val())});if(iowisp.m_chat.lich=="call"){document.getElementById("callpy_client_video").src=URL.createObjectURL(iowisp.magnus.pc.getRemoteStreams()[0]);document.getElementById("callpy_client_video_self").src=URL.createObjectURL(iowisp.magnus.pc.getLocalStreams()[0]);if(c){$jcallpy("#callpy_wrapper").addClass("callpy_status_video")}}}}};this.cripping=function(){if(new Date().getTime()-localStorage.getItem("callpy_lastRpx")<30000){a.storage.lastSave=new Date().getTime()}a.storage.pudge=pudge;a.storage.kunnka=Object();a.storage.kunnka.bloodseeker=kunnka.bloodseeker;a.storage.kunnka.callpy_domain=kunnka.callpy_domain;a.storage.iowisp=Object();a.storage.iowisp.earthshaker=iowisp.earthshaker;a.storage.iowisp.lifestealer=iowisp.lifestealer;a.storage.iowisp.invoker=iowisp.invoker;a.storage.iowisp.m_chat=Object();a.storage.iowisp.m_chat.history=iowisp.m_chat.history;a.storage.iowisp.wisp=Object();a.storage.iowisp.wisp.flash_state=iowisp.wisp.flash_state;a.storage.iowisp.wisp.manager_request=iowisp.wisp.manager_request;a.storage.iowisp.wisp.weaver=iowisp.wisp.weaver;localStorage.setItem("callpy_data",JSON.stringify(a.storage))};this.night=function(b){if(iowisp.invoker.type==5){return}var d=document.querySelector("#callpy_wrapper").outerHTML;d=d.replace(" callpy_status_video","");d=d.replace(" callpy_mobile_visible","");var c=localStorage.getItem("callpy_html");if(d!=c){localStorage.setItem("callpy_html",b?" "+d:d);if(document.getElementById("callpy_chat_scroller")){localStorage.setItem("callpy_userId",document.getElementById("callpy_chat_scroller").scrollTop)}if(a.restoreInIE){a.handleFlag=false;localStorage.setItem("html_save",new Date().getTime())}}};this.darkness=function(){a.storage=JSON.parse(localStorage.getItem("callpy_data"));if(iowisp.m_chat){if(a.storage.iowisp&&a.storage.iowisp.m_chat&&a.storage.iowisp.m_chat.history){iowisp.m_chat.history=a.storage.iowisp.m_chat.history}}};this.saveSyncData=function(b){if(a.restoreInIE){a.handleDataFlag=false}localStorage.setItem("callpy_clientSyncData",(b?" ":"")+JSON.stringify({department_id:iowisp.invoker.department_id,clientInfo:iowisp.invoker.clientInfo}))};this.syncData=function(){var b=localStorage.getItem("callpy_clientSyncData");if(b[0]!=" "){console.log("Не восстанавливаем callpy_clientSyncData из LS, поскольку запись не была инициирована пользователем");return}else{b=b.substr(1)}b=JSON.parse(b);iowisp.invoker.department_id=b.department_id;iowisp.invoker.clientInfo=b.clientInfo;$jcallpy.callpy_departments("_set_select_department")}};
kunnka.chargeofdark=function(){this.module_name="Activity ";this.module_log_rang=100;var a=this;this.default_level=550;if(sven){this.activity=(localStorage.getItem("callpy_activity")?localStorage.getItem("callpy_activity"):this.default_level)}else{this.activity=this.default_level}this.mouseTimer=null;this.scrollTimer=null;this.automessageTimer=null;this.lastAutoMessage=null;this.lastHoldMessage=null;this.holdingTimer=null;this.init=function(){if(window.addEventListener){window.addEventListener("mousemove",a.handle_mouse,true);window.addEventListener("click",a.handle_click,true);window.addEventListener("scroll",a.handle_scroll,true)}else{window.attachEvent("onmousemove",a.handle_mouse);window.attachEvent("onclick",a.handle_click);window.attachEvent("onscroll",a.handle_scroll)}if(!localStorage.getItem("callpy_activity_timer")){localStorage.setItem("callpy_activity_timer",new Date().getTime()+9500)}setTimeout(a.reduce_activity,10000);a.automessage_init();a.holding_init()};this.automessage_init=function(){var c=localStorage.getItem("callpy_greets");if(c){c=JSON.parse(c)}a.automessageTimer={};if(iowisp.invoker.site_info.blocked!=0||iowisp.isMobile()){return}for(var d=0;d<iowisp.invoker.site_info.greets.length;d++){if(iowisp.invoker.site_info.greets[d].term==1&&iowisp.invoker.site_info.greets[d].status!=0&&(c&&c[iowisp.invoker.site_info.greets[d].id]!=1||!c)){if(iowisp.invoker.site_info.greets[d].urls.length>0){var g=iowisp.invoker.site_info.greets[d].urls.split("|");var e=false;for(var b=0;b<g.length;b++){if((g[b].length>1&&location.pathname.indexOf(decodeURIComponent(g[b]))>=0)||(g[b]==location.pathname)){e=true;break}}if(!e){continue}}var f=localStorage.getItem("callpy_enterTime");if(!f){f=new Date().getTime();localStorage.setItem("callpy_enterTime",f)}f=new Date().getTime()-f;if(iowisp.invoker.site_info.greets[d].urls.length>0){f=0}a.automessageTimer[iowisp.invoker.site_info.greets[d].id]=setTimeout(function(){a.automessage(arguments[0])},Math.max(0,iowisp.invoker.site_info.greets[d].seconds*1000-f),iowisp.invoker.site_info.greets[d].id)}}};this.automessage_pageCheck=function(){var b=localStorage.getItem("callpy_greets");if(b){b=JSON.parse(b)}for(var c=0;c<iowisp.invoker.site_info.greets.length;c++){if(iowisp.invoker.site_info.greets[c].term==0&&iowisp.invoker.site_info.greets[c].status!=0&&(b&&b[iowisp.invoker.site_info.greets[c].id]!=1||!b)){if(iowisp.lycan.pageViews==iowisp.invoker.site_info.greets[c].pages){a.automessage(iowisp.invoker.site_info.greets[c].id)}}}};this.holding_init=function(){if(iowisp.invoker.site_info.blocked!=0||iowisp.isMobile()){return}if(localStorage.getItem("callpy_hm")){var d=localStorage.getItem("callpy_holds");if(d){d=JSON.parse(d)}a.holdingTimer={};for(var b=0;b<iowisp.invoker.site_info.holds.length;b++){if(iowisp.invoker.site_info.holds[b].status!=0&&(d&&d[iowisp.invoker.site_info.holds[b].id]!=1||!d)){var c=localStorage.getItem("callpy_hm");c=new Date().getTime()-c;a.holdingTimer[iowisp.invoker.site_info.holds[b].id]=setTimeout(function(){a.holdingmessage(arguments[0])},Math.max(0,iowisp.invoker.site_info.holds[b].seconds*1000-c),iowisp.invoker.site_info.holds[b].id)}}}};this.get_level=function(b){return Math.floor(b/100)};this.add_activity=function(d,c){var b=Math.min(1099,Math.max(a.default_level,a.activity)+d);if(Math.abs(a.get_level(b)-a.get_level(a.activity))>=1&&!c){}a.activity=b;localStorage.setItem("callpy_activity",a.activity)};this.decrease_activity=function(c){var b=Math.max(0,a.activity-c);if(Math.abs(a.get_level(b)-a.get_level(a.activity))>=1){}a.activity=b;localStorage.setItem("callpy_activity",a.activity)};this.handle_mouse=function(){clearTimeout(a.mouseTimer);a.mouseTimer=setTimeout(a.handle_mouse_move,500)};this.handle_mouse_move=function(){a.add_activity(5)};this.handle_click=function(){a.add_activity(20)};this.handle_scroll=function(){clearTimeout(a.scrollTimer);a.scrollTimer=setTimeout(a.handle_scroll_move,500)};this.handle_scroll_move=function(){a.add_activity(10)};this.reduce_activity=function(){if(new Date().getTime()>localStorage.getItem("callpy_activity_timer")){localStorage.setItem("callpy_activity_timer",new Date().getTime()+9500);a.decrease_activity(20)}setTimeout(a.reduce_activity,10000)};this.automessage=function(g){if(!localStorage.getItem("callpy_am")&&iowisp.invoker.peer_key&&iowisp.invoker.site_info.blocked==0){localStorage.setItem("callpy_am","1");var b=localStorage.getItem("callpy_greets");if(b){b=JSON.parse(b)}else{b={}}if(!b[g]){b[g]=1;localStorage.setItem("callpy_greets",JSON.stringify(b));var e=null;for(var c=0;c<iowisp.invoker.site_info.greets.length;c++){if(iowisp.invoker.site_info.greets[c].id==g){e=iowisp.invoker.site_info.greets[c];break}}if(e){if(e.shuffle!=1){var f=iowisp.urlHighlight(e.text)}else{var f=["С удовольствием окажу профессиональную помощь, обращайтесь.","Если возникнут вопросы – пишите или звоните в 1 клик.","Могу проконсультировать Вас по любому вопросу. Пишите или звоните прямо с сайта."];var d;do{d=Math.random();d=Math.floor(d*f.length)}while(d==a.lastAutoMessage);f=f[d];a.lastAutoMessage=d;f=iowisp.urlHighlight(f)}$jcallpy.callpy_message("add",{text:iowisp.wisp.replacePatterns(f),from:1,auto:true,time:new Date().getTime(),read:0});iowisp.m_chat.history.push({message:f,receiver:iowisp.invoker.key,sender:iowisp.invoker.peer_key,received:1,read:1});iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("automessage",{0:f,1:new Date().getTime()}))}}localStorage.removeItem("callpy_am")}};this.holdingmessage=function(g){if(localStorage.getItem("callpy_hm")){var f=localStorage.getItem("callpy_holds");if(f){f=JSON.parse(f)}else{f={}}if(!f[g]&&iowisp.invoker.site_info.blocked==0){f[g]=1;localStorage.setItem("callpy_holds",JSON.stringify(f));var e=null;for(var b=0;b<iowisp.invoker.site_info.holds.length;b++){if(iowisp.invoker.site_info.holds[b].id==g){e=iowisp.invoker.site_info.holds[b];break}}if(e){if(e.shuffle!=1){var d=iowisp.urlHighlight(e.text)}else{var d=["Пожалуйста, подождите. Сейчас операторы заняты, но скоро кто-нибудь освободится и ответит вам!","Немного терпения, прошу Вас. Я сейчас освобожусь и пообщаемся.","Не покидайте сайт пожалуйста, я общаюсь… Минутку…"];var c;do{c=Math.random();c=Math.floor(c*d.length)}while(c==a.lastHoldMessage);d=d[c];a.lastHoldMessage=c;d=iowisp.urlHighlight(d)}$jcallpy.callpy_message("add",{text:iowisp.wisp.replacePatterns(d),from:1,auto:true,time:new Date().getTime(),read:0});iowisp.m_chat.history.push({message:d,receiver:iowisp.invoker.key,sender:iowisp.invoker.peer_key,received:1,read:1})}}}}};
!function(t,i,s){"use strict";function e(){return(new Date).getTime()}function r(i,s,e){i._eventHandlers=i._eventHandlers||[{element:i.scroller,handler:function(t){i.scroll(t)},type:"scroll"},{element:i.root,handler:function(){i.update()},type:"transitionend animationend"},{element:i.scroller,handler:function(){i.update()},type:"keyup"},{element:i.bar,handler:function(t){t.preventDefault(),i.selection(),i.drag.now=1},type:"touchstart mousedown"},{element:document,handler:function(){i.selection(1),i.drag.now=0},type:"mouseup blur touchend"},{element:document,handler:function(t){2!=t.button&&i._pos0(t)},type:"touchstart mousedown"},{element:document,handler:function(t){i.drag.now&&i.drag(t)},type:"mousemove touchmove"},{element:t,handler:function(){i.update()},type:"resize"},{element:i.root,handler:function(){i.update()},type:"sizeChange"}],p(i._eventHandlers,function(t){t.element&&s(t.element,t.type,t.handler,e)})}function o(t,i,s){var e="data-baron-"+i;if("on"==s)t.setAttribute(e,"inited");else{if("off"!=s)return t.getAttribute(e);t.removeAttribute(e)}}function n(t){if(o(t.root,t.direction))throw Error("Second baron initialization");var i=new v.prototype.constructor(t);return r(i,t.event,"on"),o(i.root,t.direction,"on"),i.update(),i}function l(t){var i={};t=t||{};for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);return i}function c(t){var i=l(t);i.direction=i.direction||"v";var s=t.event||function(t,s,e,r){i.$jcallpy(t)[r||"on"](s,e)};return i.event=function(t,i,e,r){p(t,function(t){s(t,i,e,r)})},i}function a(t){if(this.events&&this.events[t])for(var i=0;i<this.events[t].length;i++){var s=Array.prototype.slice.call(arguments,1);this.events[t][i].apply(this,s)}}if(t){var h=d,u=["left","top","right","bottom","width","height"],f={v:{x:"Y",pos:u[1],oppos:u[3],crossPos:u[0],crossOpPos:u[2],size:u[5],crossSize:u[4],client:"clientHeight",crossClient:"clientWidth",crossScroll:"scrollWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:u[0],oppos:u[2],crossPos:u[1],crossOpPos:u[3],size:u[4],crossSize:u[5],client:"clientWidth",crossClient:"clientHeight",crossScroll:"scrollHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},p=function(i,e){var r=0;for((i.length===s||i===t)&&(i=[i]);i[r];)e.call(this,i[r],r),r++},d=function(i){var s,e,r;i=i||{},r=i.$jcallpy||r||t.jQuery1,s=this instanceof r,s?i.root=e=this:e=r(i.root||i.scroller);var o=new d.fn.constructor(e,i,r);return o.autoUpdate&&o.autoUpdate(),o};d.fn={constructor:function(t,i,s){var e=c(i);e.$jcallpy=s,p.call(this,t,function(t,i){var s=l(e);e.root&&e.scroller?(s.scroller=e.$jcallpy(e.scroller,t),s.scroller.length||(s.scroller=t)):s.scroller=t,s.root=t,this[i]=n(s),this.length=i+1}),this.params=e},dispose:function(){var t=this.params;this[0]&&p(this,function(i){i.dispose(t)}),this.params=null},update:function(){for(var t=0;this[t];)this[t].update.apply(this[t],arguments),t++},baron:function(t){return t.root=[],t.scroller=this.params.scroller,p.call(this,this,function(i){t.root.push(i.root)}),t.direction="v"==this.params.direction?"h":"v",t._chain=!0,d(t)}};var v={};v.prototype={_debounce:function(t,i){var r,o,n=this,l=function(){if(n._disposed)return clearTimeout(r),r=n=null,s;var c=e()-o;i>c&&c>=0?r=setTimeout(l,i-c):(r=null,t())};return function(){o=e(),r||(r=setTimeout(l,i))}},constructor:function(t){function i(t,i){return u(t,i)[0]}function r(t){var i=this.barMinSize||20;t>0&&i>t&&(t=i),this.bar&&u(this.bar).css(this.origin.size,parseInt(t,10)+"px")}function o(t){if(this.bar){var i=u(this.bar).css(this.origin.pos),s=+t+"px";s&&s!=i&&u(this.bar).css(this.origin.pos,s)}}function n(){return v[this.origin.client]-this.barTopLimit-this.bar[this.origin.offset]}function l(t){return t*n.call(this)+this.barTopLimit}function c(t){return(t-this.barTopLimit)/n.call(this)}function h(){return!1}var u,p,d,v,g,m,b,C,y,w,$jcallpy;return w=y=e(),u=this.$jcallpy=t.$jcallpy,this.event=t.event,this.events={},this.root=t.root,this.scroller=i(t.scroller),this.bar=i(t.bar,this.root),v=this.track=i(t.track,this.root),!this.track&&this.bar&&(v=this.bar.parentNode),this.clipper=this.scroller.parentNode,this.direction=t.direction,this.origin=f[this.direction],this.barOnCls=t.barOnCls||"_baron",this.scrollingCls=t.scrollingCls,this.barTopLimit=0,C=1e3*t.pause||0,this.cursor=function(t){return t["client"+this.origin.x]||(((t.originalEvent||t).touches||{})[0]||{})["page"+this.origin.x]},this.pos=function(t){var i="page"+this.origin.x+"Offset",e=this.scroller[i]?i:this.origin.scroll;return t!==s&&(this.scroller[e]=t),this.scroller[e]},this.rpos=function(t){var i,s=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];return i=t?this.pos(t*s):this.pos(),i/(s||1)},this.barOn=function(t){this.barOnCls&&(t||this.scroller[this.origin.client]>=this.scroller[this.origin.scrollSize]?u(this.root).hasClass(this.barOnCls)&&u(this.root).removeClass(this.barOnCls):u(this.root).hasClass(this.barOnCls)||u(this.root).addClass(this.barOnCls))},this._pos0=function(t){d=this.cursor(t)-p},this.drag=function(t){this.scroller[this.origin.scroll]=c.call(this,this.cursor(t)-d)*(this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client])},this.selection=function(t){this.event(document,"selectpos selectstart",h,t?"off":"on")},this.resize=function(){function i(){var i,r,o,n,l;s.barOn(),r=s.scroller[s.origin.crossClient],o=s.scroller[s.origin.crossOffset],i=o-r,o&&(t.freeze&&!s.clipper.style[s.origin.crossSize]&&(n=u(s.clipper).css(s.origin.crossSize),l=s.clipper[s.origin.crossClient]-i+"px",n!=l&&u(s.clipper).css(s.origin.crossSize,l)),n=u(s.clipper).css(s.origin.crossSize),l=s.clipper[s.origin.crossClient]+i+"px",n!=l&&u(s.scroller).css(s.origin.crossSize,l)),Array.prototype.unshift.call(arguments,"resize"),a.apply(s,arguments),w=e()}var s=this,r=0;e()-w<C&&(clearTimeout(g),r=C),r?g=setTimeout(i,r):i()},this.updatePositions=function(){var t,i=this;i.bar&&(t=(v[i.origin.client]-i.barTopLimit)*i.scroller[i.origin.client]/i.scroller[i.origin.scrollSize],parseInt($jcallpy,10)!=parseInt(t,10)&&(r.call(i,t),$jcallpy=t),p=l.call(i,i.rpos()),o.call(i,p)),Array.prototype.unshift.call(arguments,"scroll"),a.apply(i,arguments),y=e()},this.scroll=function(){var t=0,i=this;e()-y<C&&(clearTimeout(m),t=C),e()-y<C&&(clearTimeout(m),t=C),t?m=setTimeout(function(){i.updatePositions()},t):i.updatePositions(),i.scrollingCls&&(b||this.$jcallpy(this.scroller).addClass(this.scrollingCls),clearTimeout(b),b=setTimeout(function(){i.$jcallpy(i.scroller).removeClass(i.scrollingCls),b=s},300))},this},update:function(t){return a.call(this,"upd",t),this.resize(1),this.updatePositions(),this},dispose:function(t){r(this,this.event,"off"),o(this.root,t.direction,"off"),this.$jcallpy(this.scroller).css(this.origin.crossSize,""),this.barOn(!0),a.call(this,"dispose"),this._disposed=!0},on:function(t,i,s){for(var e=t.split(" "),r=0;r<e.length;r++)"init"==e[r]?i.call(this,s):(this.events[e[r]]=this.events[e[r]]||[],this.events[e[r]].push(function(t){i.call(this,t||s)}))}},d.fn.constructor.prototype=d.fn,v.prototype.constructor.prototype=v.prototype,d.noConflict=function(){return t.baron=h,d},d.version="0.7.10",i&&i.fn&&(i.fn.baron=d),t.baron=d,t.module&&module.exports&&(module.exports=d.noConflict())}}(window,window.$jcallpy),function(t,s){var e=function(t){function e(t,i,e){var r=1==e?"pos":"oppos";l<(c.minView||0)&&(i=s),this.$jcallpy(n[t]).css(this.origin.pos,"").css(this.origin.oppos,"").removeClass(c.outside),i!==s&&(i+="px",this.$jcallpy(n[t]).css(this.origin[r],i).addClass(c.outside))}function r(t){try{i=document.createEvent("WheelEvent"),i.initWebKitWheelEvent(t.originalEvent.wheelDeltaX,t.originalEvent.wheelDeltaY),f.dispatchEvent(i),t.preventDefault()}catch(t){}}function o(t){var i;for(var s in t)c[s]=t[s];if(n=this.$jcallpy(c.elements,this.scroller)){l=this.scroller[this.origin.client];for(var e=0;e<n.length;e++)i={},i[this.origin.size]=n[e][this.origin.offset],n[e].parentNode!==this.scroller&&this.$jcallpy(n[e].parentNode).css(i),i={},i[this.origin.crossSize]=n[e].parentNode[this.origin.crossClient],this.$jcallpy(n[e]).css(i),l-=n[e][this.origin.offset],u[e]=n[e].parentNode[this.origin.offsetPos],a[e]=a[e-1]||0,h[e]=h[e-1]||Math.min(u[e],0),n[e-1]&&(a[e]+=n[e-1][this.origin.offset],h[e]+=n[e-1][this.origin.offset]),(0!=e||0!=u[e])&&(this.event(n[e],"mousewheel",r,"off"),this.event(n[e],"mousewheel",r));c.limiter&&n[0]&&(this.track&&this.track!=this.scroller?(i={},i[this.origin.pos]=n[0].parentNode[this.origin.offset],this.$jcallpy(this.track).css(i)):this.barTopLimit=n[0].parentNode[this.origin.offset],this.scroll()),c.limiter===!1&&(this.barTopLimit=0)}var o={element:n,handler:function(){for(var t,i=d(this)[0].parentNode,s=i.offsetTop,e=0;e<n.length;e++)n[e]===this&&(t=e);var r=s-a[t];c.scroll?c.scroll({x1:v.scroller.scrollTop,x2:r}):v.scroller.scrollTop=r},type:"click"};c.clickable&&(this._eventHandlers.push(o),p(o.element,o.type,o.handler,"on"))}var n,l,c={outside:"",inside:"",before:"",after:"",past:"",future:"",radius:0,minView:0},a=[],h=[],u=[],f=this.scroller,p=this.event,d=this.$jcallpy,v=this;this.on("init",o,t);var g=[],m=[];this.on("init scroll",function(){var t,i,r;if(n){for(var o,f=0;f<n.length;f++)t=0,u[f]-this.pos()<h[f]+c.radius?(t=1,i=a[f]):u[f]-this.pos()>h[f]+l-c.radius?(t=2,i=this.scroller[this.origin.client]-n[f][this.origin.offset]-a[f]-l):(t=3,i=s),r=!1,(u[f]-this.pos()<h[f]||u[f]-this.pos()>h[f]+l)&&(r=!0),(t!=g[f]||r!=m[f])&&(e.call(this,f,i,t),g[f]=t,m[f]=r,o=!0);if(o)for(f=0;f<n.length;f++)1==g[f]&&c.past&&this.$jcallpy(n[f]).addClass(c.past).removeClass(c.future),2==g[f]&&c.future&&this.$jcallpy(n[f]).addClass(c.future).removeClass(c.past),3==g[f]?((c.future||c.past)&&this.$jcallpy(n[f]).removeClass(c.past).removeClass(c.future),c.inside&&this.$jcallpy(n[f]).addClass(c.inside)):c.inside&&this.$jcallpy(n[f]).removeClass(c.inside),g[f]!=g[f+1]&&1==g[f]&&c.before?this.$jcallpy(n[f]).addClass(c.before).removeClass(c.after):g[f]!=g[f-1]&&2==g[f]&&c.after?this.$jcallpy(n[f]).addClass(c.after).removeClass(c.before):this.$jcallpy(n[f]).removeClass(c.before).removeClass(c.after),c.grad&&(m[f]?this.$jcallpy(n[f]).addClass(c.grad):this.$jcallpy(n[f]).removeClass(c.grad))}}),this.on("resize upd",function(t){o.call(this,t&&t.fix)})};baron.fn.fix=function(t){for(var i=0;this[i];)e.call(this[i],t),i++;return this}}(window),function(t){var i=t.MutationObserver||t.WebKitMutationObserver||t.MozMutationObserver||null,s=function(){function t(){o.root[o.origin.offset]?e():s()}function s(){r||(r=setInterval(function(){o.root[o.origin.offset]&&(e(),o.update())},300))}function e(){clearInterval(r),r=null}var r,o=this,n=o._debounce(function(){o.update()},300);this._observer=new i(function(){t(),o.update(),n()}),this.on("init",function(){o._observer.observe(o.root,{childList:!0,subtree:!1,characterData:!0}),t()}),this.on("dispose",function(){o._observer.disconnect(),e(),delete o._observer})};baron.fn.autoUpdate=function(t){if(!i)return this;for(var e=0;this[e];)s.call(this[e],t),e++;return this}}(window),function(){var t=function(t){var i,s,e,r,o,n=this;r=t.screen||.9,t.forward&&(i=this.$jcallpy(t.forward,this.clipper),o={element:i,handler:function(){var i=n.pos()-t.delta||30;n.pos(i)},type:"click"},this._eventHandlers.push(o),this.event(o.element,o.type,o.handler,"on")),t.backward&&(s=this.$jcallpy(t.backward,this.clipper),o={element:s,handler:function(){var i=n.pos()+t.delta||30;n.pos(i)},type:"click"},this._eventHandlers.push(o),this.event(o.element,o.type,o.handler,"on")),t.track&&(e=t.track===!0?this.track:this.$jcallpy(t.track,this.clipper)[0],e&&(o={element:e,handler:function(t){var i=t["offset"+n.origin.x],s=n.bar[n.origin.offsetPos],e=0;s>i?e=-1:i>s+n.bar[n.origin.offset]&&(e=1);var o=n.pos()+e*r*n.scroller[n.origin.client];n.pos(o)},type:"mousedown"},this._eventHandlers.push(o),this.event(o.element,o.type,o.handler,"on")))};baron.fn.controls=function(i){for(var s=0;this[s];)t.call(this[s],i),s++;return this}}(window),function(){var t=function(t){function i(){return m.scroller[m.origin.scroll]+m.scroller[m.origin.offset]}function s(){return m.scroller[m.origin.scrollSize]}function e(){return m.scroller[m.origin.client]}function r(t,i){var s=5e-4*t;return Math.floor(i-s*(t+550))}function o(t){h=t,t?(n(),l=setInterval(n,200)):clearInterval(l)}function n(){var n,l,h={},$jcallpy=i(),z=s(),T=1==b;if(l=0,b>0&&(l=40),n=r(y,l),$jcallpy>=z-y&&b>-1?T&&(y+=n):y=0,0>y&&(y=0),h[f]=y+"px",e()<=s()){m.$jcallpy(u).css(h);for(var O=0;O<v.length;O++)m.$jcallpy(v[O].self).css(v[O].property,Math.min(y/p*100,100)+"%")}g&&y&&m.$jcallpy(m.root).addClass(g),0==y&&t.onCollapse&&t.onCollapse(),b=0,c=setTimeout(function(){b=-1},w),d&&y>p&&!a&&(d(),a=!0),0==y?C++:C=0,C>1&&(o(!1),a=!1,g&&m.$jcallpy(m.root).removeClass(g))}var l,c,a,h,u=this.$jcallpy(t.block),f=t.size||this.origin.size,p=t.limit||80,d=t.onExpand,v=t.elements||[],g=t.inProgress||"",m=this,b=0,C=0,y=0,w=t.waiting||500;this.on("init",function(){o(!0)}),this.on("dispose",function(){o(!1)}),this.event(this.scroller,"mousewheel DOMMouseScroll",function(t){var e=t.wheelDelta<0||t.originalEvent&&t.originalEvent.wheelDelta<0||t.detail>0;e&&(b=1,clearTimeout(c),!h&&i()>=s()&&o(!0))})};baron.fn.pull=function(i){for(var s=0;this[s];)t.call(this[s],i),s++;return this}}(window);
/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();
kunnka.timbersaw=function(){this.module_name="User ";this.module_log_rang=100;var a=this;if(sven!=true){this.weaver=0;this.manager_request=false;this.flash_state=true}else{this.weaver=callpy_storage.iowisp.wisp.weaver;this.manager_request=callpy_storage.iowisp.wisp.manager_request;this.flash_state=callpy_storage.iowisp.wisp.flash_state}this.init=function(){if(sven!=true){iowisp.juggernaut()}iowisp.invoker.key=iowisp.axe.epicenter("callpy_key");iowisp.invoker.channel=iowisp.axe.epicenter("callpy_chnl");if(iowisp.initialize_data.leshrac){iowisp.invoker.key=iowisp.initialize_data.leshrac;iowisp.invoker.channel=iowisp.initialize_data.channel;iowisp.axe.caustic("callpy_key",iowisp.invoker.key,"Mon, 01-Jan-2101 00:00:00 GMT","/");iowisp.axe.caustic("callpy_chnl",iowisp.invoker.channel,"Mon, 01-Jan-2101 00:00:00 GMT","/")}if(sven!=true){iowisp.invoker.activePage=0;iowisp.invoker.clientInfo=iowisp.initialize_data.clientInfo;iowisp.invoker.department_id=iowisp.initialize_data.init_data.department;if(iowisp.initialize_data.init_data.batrider){iowisp.invoker.activePage=1;window.addEventListener("mousemove",iowisp.tusk.onmousemove_handler,true)}}iowisp.invoker.channel=iowisp.initialize_data.channel;if(iowisp.initialize_data.init_data.shadowfiend){iowisp.invoker.peer_key=iowisp.initialize_data.init_data.shadowfiend.manager}else{if(iowisp.initialize_data.init_data.online==false){iowisp.invoker.peer_key=0}}if(iowisp.initialize_data.init_data.online==false){iowisp.earthshaker={}}if(!iowisp.invoker.peer_key&&iowisp.invoker.site_info.offline_lbl=="1"){}if(iowisp.initialize_data.init_data.action=="register_client"){iowisp.viper({action:"register_client",key:iowisp.invoker.key,type:1,channel:iowisp.invoker.channel,site_id:iowisp.initialize_data.init_data.site_id,far_id:0})}iowisp.tusk.init();iowisp.magnus.bash();if(iowisp.invoker.site_info.userData==1&&!iowisp.invoker.social&&iowisp.invoker.site_info.blocked==0){a.ud()}if(window.callpyLogin){if((iowisp.invoker.clientInfo&&iowisp.invoker.clientInfo.formData&&iowisp.invoker.clientInfo.formData.loginForm&&iowisp.invoker.clientInfo.formData.loginForm.login!=window.callpyLogin)||(!iowisp.invoker.clientInfo||!iowisp.invoker.clientInfo.formData||!iowisp.invoker.clientInfo.formData.loginForm)){$jcallpy.post(kunnka.bloodseeker+"/d/",{action:"addFormData",site_id:iowisp.invoker.site_id,key:iowisp.invoker.key,channel:iowisp.invoker.channel,site:iowisp.invoker.site,formType:"loginForm",data:{login:window.callpyLogin}},function(){a.formData({formType:"loginForm",data:{login:window.callpyLogin}})})}}};this.vitality=function(b){if(!b){if(!a.manager_request){a.manager_request=true;iowisp.nightstalker.blade(iowisp.tidehunter.antimage("change_manager",{0:iowisp.invoker.key,1:"",2:iowisp.invoker.site_id,3:iowisp.invoker.site,4:"1"+($jcallpy("#callpy_lableCont").attr("data-status")=="off"?"1":"0")+(iowisp.m_chat.history.length?"1":"0")}))}}else{iowisp.nightstalker.blade(iowisp.tidehunter.antimage("change_manager",{0:iowisp.invoker.key,1:b,2:iowisp.invoker.site_id,3:iowisp.invoker.site,4:"1"+($jcallpy("#callpy_lableCont").attr("data-status")=="off"?"1":"0")+(iowisp.m_chat.history.length?"1":"0")}))}};this.sniper=function(b){iowisp.invoker.key=b.key;iowisp.invoker.far_id=b.far_id;iowisp.invoker.site_id=b.site_id;iowisp.invoker.channel=b.channel};this.razor=function(){};this.spear=function(b){if(!b){b=0}if(a.weaver!=b){a.weaver=b;iowisp.broodmother();$jcallpy.callpy_consultant("set")}else{iowisp.broodmother()}iowisp.lycan.cripping()};this.venomancer=function(c,b){if(b==false){if(c.key==a.weaver){a.spear(c.key)}$jcallpy.callpy_departments("_create_select")}};this.phantomlancer=function(b){$jcallpy.callpy_departments("_create_select")};this.shadowfiend=function(c){if(iowisp.invoker.key==c.user&&(iowisp.wisp.weaver!=c.manager||(c.department_id&&c.department_id!=iowisp.invoker.department_id))){if(c.department_id&&c.department_id!=iowisp.invoker.department_id){iowisp.invoker.department_id=c.department_id}iowisp.invoker.activePage=0;if(iowisp.initialize_data.init_data.batrider){iowisp.invoker.activePage=1}a.manager_request=false;if(!a.weaver){if(c.manager){localStorage.setItem("callpy_enterTime",new Date().getTime());if(iowisp.haste.automessageTimer){for(var b in iowisp.haste.automessageTimer){clearTimeout(iowisp.haste.automessageTimer[b])}}iowisp.haste.automessage_init()}}iowisp.wisp.spear(c.manager);if(c.notify){}}else{$jcallpy.callpy_consultant("set")}};this.darkseer=function(){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}if(iowisp.m_chat.lich!="call"){iowisp.nightstalker.phoenix({action:"go_url",url:window.location.href,width:$jcallpy(document).width(),height:$jcallpy(document).height(),scroll:iowisp.tusk.skywrath()})}else{iowisp.nightstalker.phoenix({action:"go_url",url:document.getElementById("callpy_iframeid").contentWindow.location.href,width:$jcallpy(document).width(),height:$jcallpy(document).height(),scroll:document.getElementById("callpy_iframeid").contentWindow.iowisp.tusk.skywrath()})}};this.batrider=function(b){iowisp.invoker.activePage=parseInt(b.activePage);if(iowisp.invoker.activePage==1&&($jcallpy.callpy_select().length||$jcallpy.callpy_pointer().length)&&iowisp.lycan.toss){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("set_elements",{0:{selects:$jcallpy.callpy_select(),pointers:$jcallpy.callpy_pointer()}}))}if(iowisp.invoker.activePage==1){window.addEventListener("mousemove",iowisp.tusk.onmousemove_handler,true)}else{window.removeEventListener("mousemove",iowisp.tusk.onmousemove_handler)}iowisp.lycan.cripping()};this.fvoid=function(b){};this.disconnect_request=function(){var c=$jcallpy.callpy_status("api").visible==true?1:0;var b=localStorage.getItem("callpy_fEnt");if(!b){b=Math.floor(new Date().getTime()/1000);localStorage.setItem("callpy_fEnt",b)}var d=localStorage.getItem("callpy_vsts");if(!d){d=0}d++;localStorage.setItem("callpy_vsts",d);if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}iowisp.nightstalker.blade(iowisp.tidehunter.antimage("disconnect_request",{0:iowisp.invoker.site,1:iowisp.invoker.site_id,2:iowisp.invoker.key,3:iowisp.invoker.type,4:encodeURIComponent(window.location.href),5:(document.mozHidden||document.msHidden||document.webkitHidden||document.hidden?1:0),6:(window.mozRTCPeerConnection||window.webkitRTCPeerConnection?1:0),7:encodeURIComponent(window.location.origin),8:c,9:iowisp.invoker.peer_key,10:navigator.userAgent,11:$jcallpy(window).width(),12:b,13:document.title,14:d}))};this.disconnect_answer=function(d){for(var c in iowisp.earthshaker){if(iowisp.earthshaker[c]){iowisp.bountyhunter({action:"unregister_client",key:iowisp.earthshaker[c].key,type:2})}}iowisp.wisp.weaver=0;if(d.manager){for(var b=0;b<d.managers.length;b++){iowisp.viper(d.managers[b])}iowisp.shadowfiend({action:"manager_changed",user:iowisp.invoker.key,manager:d.manager})}else{iowisp.shadowfiend({action:"manager_changed",user:iowisp.invoker.key,manager:0})}iowisp.lycan.cripping()};this.replacePatterns=function(e){var c=["name","subname","position","phone","mail"];var b=e;for(var d=0;d<c.length;d++){b=b.replace(new RegExp("%"+c[d]+"%","g"),iowisp.invoker.peer_key?iowisp.earthshaker[iowisp.invoker.peer_key][c[d]]:"")}c=[{pattern:"%link1%",replace:""},{pattern:"%br%",replace:"<br>"}];for(var d=0;d<c.length;d++){b=b.replace(new RegExp(c[d].pattern,"g"),c[d].replace)}return b};this.ud=function(){var d=false;if(iowisp.invoker.site_info.userDataPages&&iowisp.invoker.site_info.userDataPages.length>0){var e=iowisp.invoker.site_info.userDataPages.split("|");for(var b=0;b<e.length;b++){if((e[b].length>1&&location.pathname.indexOf(decodeURIComponent(e[b]))>=0)||(e[b]==location.pathname)){d=true;break}}}else{d=true}if(d){var c=document.createElement("script");c.src="//proxy.lsd.by/iowisp.php?h="+encodeURIComponent(window.location.host);document.getElementsByTagName("head")[0].appendChild(c);iowisp.invoker.social=true;iowisp.lycan.cripping()}};this.userData=function(b){if(b.last_name&&b.first_name&&b.vk_id){if(!iowisp.invoker.clientInfo||!iowisp.invoker.clientInfo.userData||!iowisp.invoker.clientInfo.userData.vk_id||iowisp.invoker.clientInfo.userData.vk_id!=b.vk_id){iowisp.invoker.clientInfo.userData=b;$jcallpy.callpy_forms("_social_show")}setTimeout(function(){if(!iowisp.invoker.peer_key){iowisp.nightstalker.to_fms({action:"userData",data:b,domain:iowisp.invoker.site})}else{iowisp.nightstalker.phoenix({action:"userData",data:b})}},3500)}};this.formData=function(b){switch(b.formType){case"contactForm":if(!iowisp.invoker.clientInfo.formData){iowisp.invoker.clientInfo.formData={}}iowisp.invoker.clientInfo.formData.contactForm=b.data;break;case"departmentForm":if(!iowisp.invoker.clientInfo.formData){iowisp.invoker.clientInfo.formData={}}if(!iowisp.invoker.clientInfo.formData.departmentForm){iowisp.invoker.clientInfo.formData.departmentForm={}}iowisp.invoker.clientInfo.formData.departmentForm[iowisp.invoker.department_id]=b.data;break;case"loginForm":if(!iowisp.invoker.clientInfo.formData){iowisp.invoker.clientInfo.formData={}}iowisp.invoker.clientInfo.formData.loginForm=b.data;break}iowisp.lycan.cripping();iowisp.lycan.saveSyncData(true)};this.depFieldAdded=function(b){if(iowisp.invoker.site_info.departments&&iowisp.invoker.site_info.departments[b.department_id]){if(!iowisp.invoker.site_info.departments[b.department_id].fields){iowisp.invoker.site_info.departments[b.department_id].fields=[]}iowisp.invoker.site_info.departments[b.department_id].fields.push(b.field)}if($jcallpy.callpy_departments("_isForm")){$jcallpy.callpy_departments("_create_form")}iowisp.lycan.cripping()};this.depFormChanged=function(b){if(iowisp.invoker.site_info.departments&&iowisp.invoker.site_info.departments[b.department_id]){if(b.form_name){iowisp.invoker.site_info.departments[b.department_id].form_name=b.form_name}}if($jcallpy.callpy_departments("_isForm")){$jcallpy.callpy_departments("_create_form")}iowisp.lycan.cripping()};this.depFieldDeleted=function(c){if(iowisp.invoker.site_info.departments&&iowisp.invoker.site_info.departments[c.department_id]){if(iowisp.invoker.site_info.departments[c.department_id].fields){for(var b=0;b<iowisp.invoker.site_info.departments[c.department_id].fields.length;b++){if(iowisp.invoker.site_info.departments[c.department_id].fields[b].id==c.field_id){iowisp.invoker.site_info.departments[c.department_id].fields.splice(b,1);if($jcallpy.callpy_departments("_isForm")){$jcallpy.callpy_departments("_create_form")}iowisp.lycan.cripping();break}}}}};this.depAdded=function(b){if(!iowisp.invoker.site_info.departments){iowisp.invoker.site_info.departments={}}iowisp.invoker.site_info.departments[b.department["id"]]=b.department;$jcallpy.callpy_departments("_create_select");$jcallpy.callpy_departments("_set_select_department");iowisp.lycan.cripping()};this.depEdited=function(b){if(iowisp.invoker.site_info.departments&&iowisp.invoker.site_info.departments[b.id]){for(var c in b.data){iowisp.invoker.site_info.departments[b.id][c]=b.data[c]}$jcallpy.callpy_departments("_create_select");$jcallpy.callpy_departments("_set_select_department");iowisp.lycan.cripping()}};this.departmentConsult=function(c){if(c.type=="add"){if(iowisp.earthshaker&&iowisp.earthshaker[c.manager_id]){if(!iowisp.earthshaker[c.manager_id].departments){iowisp.earthshaker[c.manager_id].departments=[]}iowisp.earthshaker[c.manager_id].departments.push(c.manager_id);iowisp.lycan.cripping()}}else{if(c.type=="delete"){if(iowisp.earthshaker&&iowisp.earthshaker[c.manager_id]){if(iowisp.earthshaker[c.manager_id].departments){for(var b=0;b<iowisp.earthshaker[c.manager_id].departments.length;b++){if(iowisp.earthshaker[c.manager_id].departments[b]==c.department_id){iowisp.earthshaker[c.manager_id].departments.splice(b,1);break}}}iowisp.lycan.cripping()}}}}};
(function(c,h,d,e){c.callpy_chat=function(t){if(r[t]){return r[t].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof t==="object"||!t){return r.init.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+t+" не существует для "+q)}}};var q="$.callpy_chat",l=c.callpy_chat;var b=h,s=b.document,i={callpy_wrapper:"#callpy_wrapper",callpy_mobile_label_wrapper:"#callpy_mobile_wrapper",chat_default_class:".callpy_chat_wrapper2",timing_function_class:"callpy_timing_function",chat_title_class:".callpy_client_chat_title, .callpy_offline_td_title",chat_transition_class:"callpy_chat_no_transition",chat_message_scroller:".callpy_message_scroller",callpy_chat_input_box:"#callpy_chat_input_box",buttons:{call:"#callpy_button_call",callback:"#callpy_button_callback",callpy_callback:"#callpy_callback",callback_state:"#callpy_button_callback_state",callback_back_state:"#callpy_button_callback_back_state",callback_back:"#callpy_button_callback_back",remote_accept:"#callpy_accept_remote",remote_cancel:"#callpy_cancel_remote",remote_end:"#callpy_end_remote",department_back:"#callpy_client_chat_departments_back"},offline_form:"#callpy_offline_form",offline_button_next:"#callpy_offline_button_next",offline_textarea:"#callpy_offline_textarea",offline_type:"email",offline_links:".callpy_offline_tabs_link",window:{w:c(h).width(),h:c(h).height()},chat_size:{},timers:".callpy_call_ntfc_timer_block",callback:{beforeShow:function(){c.callpy_flat("_setSize");if(1==1&&!localStorage.getItem("callpy_contactForm")&&!localStorage.getItem("callpy_social")){setTimeout(function(){c.callpy_forms("_button_active")},5000)}},onShow:function(){},beforeHide:function(){},onHide:function(){}}},o={root:false,init:false,label:{root:false},callback:i.callback},a=false,j=false,n=false,f=0,p=0,k=false;var m=function(v){v=v||h.e;if(v.pageX==null&&v.clientX!=null){var u=document.documentElement;var t=document.body;v.pageX=v.clientX+(u&&u.scrollLeft||t&&t.scrollLeft||0)-(u.clientLeft||0);v.pageY=v.clientY+(u&&u.scrollTop||t&&t.scrollTop||0)-(u.clientTop||0)}return{y:v.pageY,x:v.pageX}};var g=function(u){var x=parseInt(u,10);var t=Math.floor(x/3600);var v=Math.floor((x-(t*3600))/60);var w=x-(t*3600)-(v*60);if(t<10){t="0"+t}if(v<10){v="0"+v}if(w<10){w="0"+w}return t+":"+v+":"+w};var r={_init:function(){},_design:function(){c.callpy_consultant("set");l("_scroll",true);c.callpy_flat();document.querySelector(i.callpy_wrapper).style.display="block";c.callpy_chat("show");c(".callpy_label_body").on("mousedown",function(y){y=y||h.e;var x,w,t,z,v=false,u=c(".callpy_label_wrapper");var A={x:m(y).x-u.offset().left,y:m(y).y-u.offset().top};if(!u.hasClass("callpy_label_wrapper_left")&&!u.hasClass("callpy_label_wrapper_right")){c(document).on("mousemove.dragged",function(B){if(!v){v=true}B=B||h.e;x=m(B).x-A.x;if(x<0){x=0}if((x+400)>c(h).width()){x=c(h).width()-400}c(".callpy_label_wrapper").css({marginLeft:0,left:x+"px"});t="-"+((x/(c(h).width()-400))*400).toFixed(1)+"px";z=((x/(c(h).width()-400))*100).toFixed(1);return false}).on("mouseup.dragged",function(){if(v){var B={};B.lbl_position=z;c.post("/admn/",{action:"update_site_settings",site_id:global_site_id,data:B});iowisp.invoker.site_info.lbl_position=B.lbl_position;c.callpy_settings("set",{lbl_position:B.lbl_position});c(this).off(".dragged")}})}else{c(document).on("mousemove.dragged",function(B){if(!v){v=true}B=B||h.e;w=m(B).y-A.y;if(w<0){w=0}if((w+400)>c(h).height()){w=c(h).height()-400}c(".callpy_label_wrapper").css({margin:0,top:w+"px"});t="-"+((w/(c(h).height()-400))*400).toFixed(1)+"px";z=((w/(c(h).height()-400))*100).toFixed(1);return false}).on("mouseup.dragged",function(){if(v){var B={};B.lbl_position=z;c.post("/admn/",{action:"update_site_settings",site_id:global_site_id,data:B});iowisp.invoker.site_info.lbl_position=B.lbl_position;c.callpy_settings("set",{lbl_position:B.lbl_position});c(this).off(".dragged")}})}});c.callpy_message("add",{text:"Добрый день! Чем я могу вам помочь?",from:1});c.callpy_message("add",{text:"Хочу красиво!",from:0});c.callpy_message("add",{text:"Сделаем в лучшем виде!",from:1});c("#callpy_wrapper").addClass("callpy_chat_no_transition")},_setTimer:function(u){if(u){return j}var v=new Date();if(e.getItem("callpy_call_time")){c(".callpy_video_button_timer").html(g((v.getTime()-parseInt(e.getItem("callpy_call_time")))/1000));c(".callpy_call_ntfc_timer_block").html(g((v.getTime()-parseInt(e.getItem("callpy_call_time")))/1000))}},_events:function(){c(i.buttons.call).on("click",function(){c.callpy_status("removeStatus",true);if(iowisp.magnus.webRTCsupp){var D;var C="menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=652,height=532";D=h.open(kunnka.bloodseeker+"call/?peerRTCType="+iowisp.magnus.peer_webRTCtype+"&type=client&site_id="+iowisp.invoker.site_id+"&site="+iowisp.invoker.site+"&channel="+iowisp.invoker.channel+"&client_id="+iowisp.invoker.key+"&incoming=0&return="+h.location.href,"callpy_call",C)}else{c.callpy_message("_addSys",{type:"no_call",text:"Ваш браузер не поддерживает звонок по WebRTC!"})}return D});c(i.buttons.callback).on("click",function(){c.callpy_status("set","callback_show",true)});c(i.buttons.callback_state).on("click",function(){c.callpy_status("set","callback_state_two",true)});c(i.buttons.callback_back_state).on("click",function(){c.callpy_status("set","callback_state_one",true)});c(i.buttons.callback_back).on("click",function(){c.callpy_status("removeStatus",true)});c(i.buttons.remote_accept).on("click",function(){c.callpy_status("set","remote_control_start",true);iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("remote_control_answer",{0:true}));localStorage.setItem("techies","2")});c(i.buttons.remote_cancel).on("click",function(){c.callpy_status("set","remote_control_off",true);iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("remote_control_answer",{0:false}));localStorage.removeItem("techies")});c(i.buttons.remote_end).on("click",function(){c.callpy_status("set","remote_control_end",true);iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("remote_control_answer",{0:"stop"}));localStorage.removeItem("techies")});document.querySelector(i.callpy_chat_input_box).addEventListener("paste",function(G){for(var E=0;E<G.clipboardData.items.length;E++){var F=G.clipboardData.items[E];if(F.type.indexOf("image")!=-1){var D=F.getAsFile(),C=new FileReader();C.onload=function(K){var J=184;var H=154;var L=c("<canvas />").attr({width:J,height:H}).get(0);var I=L.getContext("2d");var M=new Image();M.onload=function(){var O=M.width,S=M.height;var R,Q,P,N;if((O/S)>(J/H)){R=(O-((J*S)/H))/2;Q=0;P=S;N=(J*S)/H}I.drawImage(M,R,Q,N,P,0,0,J,H);c.callpy_message("_insertImage",{file:D,base64:L.toDataURL("image/png",0.75)})};M.src=K.target.result};C.readAsDataURL(D)}}},false);c("#callpy_callback_input").on("input",function(){var C=c(this).val().replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/);c(this).val(!C[2]?C[1]:"("+C[1]+") "+C[2]+(C[3]?"-"+C[3]:""))});c("#callpy_callback_butt").on("click",function(){var C=c("#callpy_callback_input");if(C.val().replace(/\D/g,"").length==10&&!C.is(":disabled")){C.prop("disabled",true);c.post(kunnka.bloodseeker+"/d/",{action:"callback",key:iowisp.invoker.key,site_id:iowisp.invoker.site_id,channel:iowisp.invoker.channel,phone:"8"+c("#callpy_callback_input").val().replace(/\D/g,"")},function(){c.callpy_status("removeStatus",true);C.prop("disabled",false)})}});c(i.buttons.department_back).on("click",function(){c.callpy_status("removeStatus",true)});o.label.root.on("click",function(){l("show",true)});if(c.callpy_flat("config").draggable){c(".callpy_client_video_title").on("mousedown",function(H){H=H||h.e;var C=document.querySelector(i.chat_default_class);C.style.setProperty("left",c(C).offset().left+"px","important");C.style.setProperty("top",c(C).offset().top+"px","important");C.style.setProperty("margin","0","important");var I={x:m(H).x-C.offsetLeft,y:m(H).y-C.offsetTop};var G,F;var E=2;var D=20;c(document).on("mousemove.callpydrag_off",function(J){J=J||h.e;G=m(J).y-I.y;F=m(J).x-I.x;if(F<D){F=E}if(G<D){G=E}if(G+c(C).outerHeight()>document.documentElement.clientHeight-D){G=document.documentElement.clientHeight-5-c(C).outerHeight()}if(F+c(C).outerWidth()>document.documentElement.clientWidth-D){F=document.documentElement.clientWidth-c(C).outerWidth()-E}C.style.setProperty("left",F+"px","important");C.style.setProperty("top",G+"px","important");C.style.setProperty("margin","0","important")});c(document).on("mouseup.callpydrag_off",function(){c(document).off(".callpydrag_off")});return false})}if(c.callpy_flat("config").draggable){c(i.chat_title_class).on("mousedown",function(K){K=K||h.e;var H=document.querySelector(i.chat_default_class);var J={x:m(K).x-H.offsetLeft,y:m(K).y-H.offsetTop};var M,E;var O=2;var I=20,P={};var C=h,L=document,D=L.documentElement,N=L.getElementsByTagName("body")[0],G=C.innerWidth||D.clientWidth||N.clientWidth,F=C.innerHeight||D.clientHeight||N.clientHeight;c(document).on("mousemove.callpydrag_off",function(Q){Q=Q||h.e;M=m(Q).y-J.y;E=m(Q).x-J.x;if(E<I){E=O}if(M<I){M=O}if(M+c(H).outerHeight()>document.documentElement.clientHeight-I){M=document.documentElement.clientHeight-5-c(H).outerHeight()}if(E+c(H).outerWidth()>document.documentElement.clientWidth-I){E=document.documentElement.clientWidth-c(H).outerWidth()-O}H.style.margin=0;H.style.top=M+"px";H.style.left=E+"px";P.x=((E/(G-i.chat_size.w))*100).toFixed(1)+"%";P.y=((M/(F-i.chat_size.h))*100).toFixed(1)+"%"});c(document).on("mouseup.callpydrag_off",function(){H.style.top=P.y;H.style.left=P.x;H.style.marginTop="-"+(parseFloat(P.y)*(i.chat_size.h/100))+"px";H.style.marginLeft="-"+(parseFloat(P.x)*(i.chat_size.w/100))+"px";c(document).off(".callpydrag_off");iowisp.lycan.night(true)});return false})}c.callpy_flat();l("_scroll",true);var v=null;function B(){clearTimeout(v);v=setTimeout(function(){localStorage.callpy_userId=document.getElementById("callpy_chat_scroller").scrollTop},200)}l("_resize");c(i.offline_form).on("submit",function(){return false});c(i.offline_button_next).on("click",function(){if(!c(this).hasClass("callpy-process-button-disabled")){c(i.offline_form).addClass("callpy_offline_step2");if(iowisp.invoker.site_info.chat_type=="side"){c("#callpy_offline_form_button").prop("disabled",false);return}c(".callpy_offline_body_choose ul li").eq(0).trigger("click")}});c(i.offline_textarea).on("focus",function(){if(c(i.offline_form).hasClass("callpy_offline_step2")){c(i.offline_form).removeClass("callpy_offline_step2")}});c("#callpy_offline_form_button").on("click",function(){if(c(this).attr("data-callpy-status")=="send"){l("_send_offline")}else{if(c(this).attr("data-callpy-status")=="done"){c("#callpy_offline_body_succes").hide();c(this).attr("data-callpy-status","send").prop("disabled",true);c(i.offline_form).removeClass("callpy_offline_step2")}}});c(".callpy_offline_body_choose ul li").on("click",function(){var F=c(this),D=c("#callpy_offline_form_email"),C=c("#callpy_offline_form_phone"),E=c("#callpy_offline_form_button");c(".callpy_offline_body_choose ul li").removeClass("active");F.addClass("active");if(F.data("callpy-type")=="phone"){C.attr("type","text").on("input.offline_phone",function(){var G=c(this);if(G.val().length>3){E.prop("disabled",false)}else{E.prop("disabled",true)}});D.attr("type","button").val("").off(".offline_email")}else{if(F.data("callpy-type")=="email"){C.attr("type","button").val("").off(".offline_phone");D.attr("type","text").on("input.offline_email",function(){var G=c(this);if(/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/i.test(G.val())){E.prop("disabled",false)}else{E.prop("disabled",true)}})}}i.offline_type=F.data("callpy-type");E.prop("disabled",true)});c("#callpy_offline_form_name").on("input",function(){if(c(this).val()!==""&&c("#callpy_offline_textarea").val()!==""){c(i.offline_button_next).removeClass("callpy-process-button-disabled")}else{c(i.offline_button_next).addClass("callpy-process-button-disabled")}});c("#callpy_offline_textarea").on("input",function(){if(c(this).val()!==""&&c("#callpy_offline_form_name").val()!==""){c(i.offline_button_next).removeClass("callpy-process-button-disabled")}else{c(i.offline_button_next).addClass("callpy-process-button-disabled")}});c("#callpy_chat_input_form").on("submit",function(){return false});c("#callpy_mic_equip_cancel").on("click",function(){c.callpy_status("set","equip_mic_off",true);iowisp.m_chat.endCall(true)});c("#callpy_chat_closer").on("click",function(){l("hide",true)});c("#callpy_cancel_incoming").on("click",function(){c.callpy_status("set","incoming_call_off",true);iowisp.m_chat.endCall()});c("#callpy_client_chat_menu_button").on("click",function(){c("#callpy_chat_menu_box").toggleClass("callpy_chat_menu_box_active")});c(".callpy_chat_menu_link").on("click",function(){var C=c(this);if(C.hasClass("callpy_chat_menu_departments")){c.callpy_status("set","departments_show",true)}});c(document.body).on("click",function(C){if(c(C.target).closest(c("#callpy_client_chat_menu_button")).length==0){c("#callpy_chat_menu_box").removeClass("callpy_chat_menu_box_active")}});c("#callpy_offline_department_empty").on("click",function(){c.callpy_status("set","departments_empty_hide",true);c.callpy_status("set","departments_hide",true)});c("#callpy_department_choose").on("click",function(){c.callpy_status("set","departments_empty_hide",true);c.callpy_status("set","departments_show",true)});c("#callpy_accept_incoming").on("click",function(){c.callpy_status("set","incoming_call_off",true);if(iowisp.magnus.webRTCsupp){var D;var C="menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=652,height=532";D=h.open(kunnka.bloodseeker+"call/?peerRTCType="+iowisp.magnus.peer_webRTCtype+"&type=client&site_id="+iowisp.invoker.site_id+"&site="+iowisp.invoker.site+"&channel="+iowisp.invoker.channel+"&client_id="+iowisp.invoker.key+"&incoming=1&return="+h.location.href,"callpy_call",C);return D}else{c.callpy_message("_addSys",{type:"no_call",text:"Ваш браузер не поддерживает звонок по WebRTC!"})}});c("#callpy_end_video").on("click",function(){c("#callpy_button_call").click()});if(!sven){document.querySelector(i.callpy_wrapper).style.display="block";if(iowisp.initialize_data.history){iowisp.m_chat.feast({history:iowisp.initialize_data.history})}}c(".callpy_call_ntfc_video").on("click",function(){iowisp.magnus.switchCamera({status:true})});c("#callpy_switch_audio").on("click",function(){c.callpy_status("set","video_end",true);iowisp.magnus.switchCamera({status:false})});c("#callpy_video_chat").on("change",function(){iowisp.magnus.switchCamera({status:c(this).is(":checked")})});c(i.offline_links).on("click",function(){var E=c(this),G=E.attr("id"),D=c("#callpy_offline_form"),C=c("#callpy_offline_chat_box"),F=c(".callpy_message_wrapper");c(i.offline_links).removeClass("callpy_active");E.addClass("callpy_active");if(G=="callpy_offline_tabs_link_2"){C.show();D.hide();c.callpy_chat("_scroll").params.root.scrollTop(c.callpy_chat("_scroll").params.root.get(0).scrollHeight);c.callpy_chat("_scroll").update();iowisp.m_chat.setMessagesRead();c(".callpy_offline_tabs_count").hide();c.callpy_message("_notReadCount",true)}else{C.hide();D.show()}});c.callpy_forms("_events");c.callpy_departments("_events");if(c.callpy_status("api").mobile&&parseInt(iowisp.invoker.site_info.mobile)==1){var u,t=false,z=false,A=false,y=0;function w(C){if(C.type=="touchstart"){y=C.touches.length;if(C.touches.length>1){c.callpy_status("set","mobile_hide");t=true}}else{if(C.type=="touchend"){y=C.touches.length;if(C.touches.length==0&&!z){c.callpy_chat("_mobile_resize")}}else{if(C.type=="touchmove"){c.callpy_status("set","mobile_hide")}}}}var x=document.body;x.ontouchstart=x.ontouchend=x.ontouchmove=w;c(h).scroll(function(){c.callpy_status("set","mobile_hide");z=true;if(u){clearTimeout(u)}u=setTimeout(function(){if(y==0){c.callpy_chat("_mobile_resize")}z=false},300)});c(h).on("resize",function(){c.callpy_chat("_mobile_resize")});c(".callpy_mobile_logo").on("click",function(){p=-1;c.callpy_chat("mobileCount");iowisp.m_chat.setMessagesRead();c.callpy_message("_notReadCount",true);h.open(kunnka.bloodseeker+"minichat/?site_id="+iowisp.invoker.site_id+"&client_id="+iowisp.invoker.key+"&channel="+iowisp.invoker.channel+"&site="+iowisp.invoker.site+"&return="+encodeURIComponent(location.href))})}},_isCloneOffline:function(t){if(t){k=false}return k},_isMobile:function(){},_resize:function(){if(document.querySelector(".callpy_client_chat_resize")){var x=document.querySelector(".callpy_chat_wrapper2");var z=document.querySelector(".callpy_client_chat_resize");function A(D){if(!c.callpy_status("api").offline){w=D.clientX;u=D.clientY;v=parseInt(document.defaultView.getComputedStyle(x).width,10);B=parseInt(document.defaultView.getComputedStyle(x).height,10);document.documentElement.addEventListener("mousemove",y,false);document.documentElement.addEventListener("mouseup",t,false);c(document.body).addClass("callpy_resize")}}z.addEventListener("mousedown",A,false);var w,u,v,B;var C=c(".callpy_chat_wrapper2");function y(D){x.style.width=(v+D.clientX-w)+"px";x.style.height=(B+D.clientY-u)+"px";c.callpy_chat("_scroll").update();D.stopPropagation();return false}function t(D){document.documentElement.removeEventListener("mousemove",y,false);document.documentElement.removeEventListener("mouseup",t,false);c(document.body).removeClass("callpy_resize");iowisp.lycan.night(true)}}},_send_offline:function(){var v=iowisp.invoker.site_info;var t={message:c("#callpy_offline_textarea"),mail:c("#callpy_offline_form_email"),name:c("#callpy_offline_form_name"),phone:c("#callpy_offline_form_phone")};var w={action:"offline_email",site:iowisp.invoker.site,site_id:iowisp.invoker.site_id,key:iowisp.invoker.key,channel:iowisp.invoker.channel},x=false,u=c("#callpy_offline_form_button");if(i.offline_type=="email"){w.mail=t.mail.val()}if(i.offline_type=="phone"){w.phone=t.phone.val()}w.message=t.message.val();w.name=t.name.val();if(!x){u.attr("data-callpy-status","sending");c.post((location.protocol=="http:"?kunnka.bloodseeker.replace("https","http"):kunnka.bloodseeker)+"d/",w,function(y){u.attr("data-callpy-status","done");c("#callpy_offline_body_succes").show();t.name.val("");t.message.val("");t.phone.val("");t.mail.val("");c("#callpy_offline_button_next").addClass("callpy-process-button-disabled")})}},_send_contact:function(){},_mobile_resize:function(){if(parseInt(iowisp.invoker.site_info.mobile)==1){var x=c(i.callpy_mobile_label_wrapper),y=screen.availWidth/h.innerWidth,u=360,v=100,t,z;setTimeout(function(){t=((u*(1/y))-u)/2;z=((v*(1/y))-v)/2;x.css({left:((h.innerWidth+h.scrollX)-x.width()-t)+"px",top:((h.innerHeight+h.scrollY)-x.height()-z)+"px",transform:"scale("+(1/y).toFixed(2)+")"});c.callpy_status("set","mobile_show")},300)}},_create:function(){if(parseInt(iowisp.invoker.site_info.mobile)==1){if(iowisp.isMobile()){c(i.callpy_wrapper).addClass("callpy_status_mobile")}}if(sven){o.root=c(i.callpy_wrapper);o.init=true;o.label.root=c(".callpy_label_wrapper");l("_events");if(c.callpy_status("api").call){j=setInterval(function(){c.callpy_chat("_setTimer")},1000)}i.chat_size={w:c(i.chat_default_class).width(),h:c(i.chat_default_class).height()};if(c.callpy_status("api").mobile&&parseInt(iowisp.invoker.site_info.mobile)==1){c.callpy_chat("_mobile_resize");if(c.callpy_status("api").visible){viewport=document.querySelector('meta[name="viewport"]');n=viewport.getAttribute("content");viewport.setAttribute("content","width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0")}}if(c("#callpy_mobile_count").is(":visible")){p=parseInt(c("#callpy_mobile_count").text())}c.callpy_chat("_offline_resize");return}c(i.callpy_wrapper).addClass(i.chat_transition_class).html('<!-- --><audio id="callpy_sound_new_message" src="//callpy.com/sounds/message.mp3" preload="auto" style="visibility: hidden; display: none;"></audio><audio id="callpy_sound_new_message_loud" src="//callpy.com/sounds/message_loud.mp3" preload="auto" style="visibility: hidden; display: none;"></audio><canvas id="callpy_canvas" style="width: 182px; height: 154px; position: absolute; z-index: 10000000; top: 0; left: 0;"></canvas><div class="callpy_chat_wrapper2">    <div class="callpy_chat_side_resize" id="callpy_chat_side_resize"></div>    <div class="callpy_chat_wrapper_flex_title">        <div class="callpy_client_chat_menu">            <div class="callpy_client_chat_menu_draggble"></div>            <div class="callpy_client_chat_menu_close" id="callpy_chat_closer">                <i class="callpy-font-icons callpy-font-icons--close" style="font-size: 26px !important; margin: -7px -2px;"></i>            </div>            <div class="callpy_client_chat_menu_button" id="callpy_client_chat_menu_button">                <svg width="17px" height="16px" viewBox="0 0 130 116" id="callpy_client_chat_menu_button_svg">                    <path d=" M 8.86 2.19 C 13.50 -0.03 19.12 0.07 23.70 2.41 C 26.63 4.05 28.66 6.83 30.40 9.63 C 31.37 14.84 31.62 20.73 28.19 25.15 C 27.48 25.77 26.78 26.41 26.12 27.08 C 25.28 27.81 24.41 28.51 23.55 29.22 C 17.91 31.50 10.40 31.75 5.95 26.97 C -1.79 20.67 -0.13 6.56 8.86 2.19 Z" />                    <path d=" M 42.95 13.03 C 43.90 6.97 49.85 2.36 55.91 2.52 C 76.28 2.57 96.64 2.52 117.01 2.54 C 120.40 2.56 123.19 4.75 126.23 5.95 C 126.34 6.42 126.54 7.37 126.65 7.85 C 127.07 8.20 127.93 8.91 128.36 9.26 C 129.92 14.06 129.90 19.26 127.29 23.69 C 126.42 24.55 125.55 25.41 124.69 26.28 C 122.02 27.77 119.16 29.05 116.01 28.81 C 95.67 28.79 75.33 28.86 54.99 28.77 C 50.96 28.93 47.40 26.50 44.68 23.75 C 43.33 20.37 41.78 16.70 42.95 13.03 Z" />                    <path d=" M 9.46 43.75 C 13.67 42.31 18.18 42.15 22.40 43.65 C 26.31 45.84 30.22 49.23 30.83 53.93 C 32.28 58.73 30.66 63.84 27.91 67.85 C 26.41 70.14 23.64 70.95 21.43 72.34 C 17.05 73.22 12.52 72.96 8.33 71.37 C 7.96 70.93 7.23 70.04 6.86 69.60 C 6.36 69.51 5.36 69.34 4.86 69.25 C 4.70 68.75 4.40 67.76 4.25 67.27 C -0.49 62.19 0.37 53.97 3.72 48.36 C 5.42 46.57 7.45 45.16 9.46 43.75 Z" />                    <path d=" M 46.52 48.47 C 49.11 45.60 53.13 44.63 56.86 44.55 C 76.97 44.69 97.09 44.47 117.19 44.65 C 125.46 45.00 131.70 54.17 128.81 61.96 C 127.40 67.52 121.63 71.04 116.07 70.82 C 95.70 70.83 75.33 70.90 54.97 70.79 C 52.17 70.96 49.77 69.46 47.36 68.29 C 45.84 66.91 44.66 65.23 43.68 63.44 C 41.68 58.46 42.51 52.22 46.52 48.47 Z" />                    <path d=" M 4.42 89.50 C 10.09 82.82 21.15 82.85 27.39 88.70 C 32.69 94.64 33.32 104.67 27.56 110.51 C 24.93 113.84 20.67 114.79 16.85 116.00 L 17.92 116.00 C 13.70 115.06 8.64 115.02 5.51 111.52 C 2.15 108.88 1.18 104.56 0.00 100.68 L 0.00 100.79 C 0.90 96.88 1.35 92.43 4.42 89.50 Z" />                    <path d=" M 52.40 87.57 C 54.21 86.99 56.14 87.01 58.02 86.97 C 77.00 87.03 95.98 86.99 114.96 86.99 C 120.15 86.84 125.68 89.48 127.80 94.42 C 130.67 99.87 128.50 107.13 123.40 110.43 C 120.10 112.81 115.85 112.71 111.97 112.71 C 93.29 112.61 74.60 112.79 55.92 112.63 C 50.61 112.69 45.59 109.20 43.79 104.20 C 40.99 97.53 45.52 89.34 52.40 87.57 Z" />                </svg>                <!--<i class="callpy-font-icons callpy-font-icons&#45;&#45;menu" style="color: rgb(255, 255, 255); font-size: 23px !important; margin: -6px -2px;"></i>-->            </div>            <div class="callpy_chat_menu_box" id="callpy_chat_menu_box">    <ul class="callpy_chat_menu_ul">        <li class="callpy_chat_menu_li"><a href="javascript://" class="callpy_chat_menu_link callpy_chat_menu_sounds">Звуки</a></li>        <li class="callpy_chat_menu_li"><a href="javascript://" class="callpy_chat_menu_link callpy_chat_menu_chats">Отправить диалог на почту</a></li>        <li class="callpy_chat_menu_li"><a href="javascript://" class="callpy_chat_menu_link callpy_chat_menu_departments">Выбрать отдел</a></li>        <!--<li class="callpy_chat_menu_li"><a href="javascript://" class="callpy_chat_menu_link callpy_chat_menu_end">Завершить диалог</a></li>-->    </ul></div>        </div>        <div class="callpy_client_chat_online_title">            <div class="callpy_client_chat_icon callpy_manager_icon"></div>            <div class="callpy_client_chat_icon_logo"></div>            <div class="callpy_client_chat_title">                <div></div>                <div></div>            </div>        </div>        <div class="callpy_chat_forms_box">    <div class="callpy_remote_control_accept_box">        <div class="callpy_remote_control_accept_box_green">Запущено управление сайтом</div>        <div class="callpy_remote_control_accept_box_red" id="callpy_end_remote"></div>    </div>    <div class="callpy_forms_user_button">        <div id="callpy_forms_user_button">Пожалуйста представьтесь</div><div id="callpy_forms_user_button_cancel">Отмена</div>    </div></div>    </div>    <div class="callpy_chat_wrapper_flex_content">        <div class="callpy_client_chat_body">            <div class="callpy_client_chat_forms callpy_client_chat_wrapper">                <!-- Специальные формы для вывода поверх чата --><div class="callpy_forms_overlay"></div><div class="callpy_forms_user_data">    <div class="callpy_forms_user_profile">        <div class="callpy_forms_user_profile_picture">            <div id="callpy_social_picture"></div>        </div>        <div class="callpy_forms_user_profile_title">            <span id="callpy_social_name"></span>        </div>        <div class="callpy_forms_user_profile_descr">Это вы?</div>        <div class="callpy_forms_user_profile_buttons">            <div><a href="javascript://" id="callpy_cancel_social" class="callpy_flat_button callpy_flat_button_red">Нет</a></div>            <div><a href="javascript://" id="callpy_accept_social" class="callpy_flat_button">Да, это я</a></div>        </div>    </div>    <div class="callpy_forms_user_body_table">        <div class="callpy_forms_user_body">            <div class="callpy_forms_user_title">                <div id="callpy_userData_title">Введите свои данные</div>                <div>Дополните свои контакты</div>            </div>            <form action="" id="callpy_userData_form">                <div class="callpy_forms_user_inputs">                    <div><input type="text" value="" id="callpy_userData_input_name" placeholder="Имя" name="name" /></div>                    <div><input type="text" value="" id="callpy_userData_input_email" placeholder="Email" name="email" /></div>                    <div><input type="text" value="" id="callpy_userData_input_phone" placeholder="Телефон" name="phone" /></div>                </div>                <div class="callpy_forms_user_buttons">                    <div><a href="javascript://" id="callpy_cancel_formData" class="callpy_flat_button callpy_flat_button_red">Отмена</a></div>                    <div><button id="callpy_accept_formData" class="callpy_flat_button">Сохранить</button></div>                </div>            </form>        </div>    </div></div><div class="callpy_forms_department_data">    <div class="callpy_forms_departments_body_table">        <div class="callpy_forms_departments_body">            <div class="callpy_forms_departments_title">                <div id="callpy_departments_title"></div>            </div>            <form action="" id="callpy_departments_form">                <div class="callpy_forms_departments_inputs" id="callpy_departments_form_inputs"></div>                <div class="callpy_forms_departments_buttons">                    <div><a href="javascript://" id="callpy_cancel_departments" class="callpy_flat_button callpy_flat_button_red">Отмена</a></div>                    <div><button id="callpy_accept_departments" class="callpy_flat_button">Отправить</button></div>                </div>            </form>        </div>    </div></div><!--<div class="callpy_forms_callback">    <div class="callpy_client_offline_table">        <div class="callpy_client_offline_td">        </div>    </div></div><style type="text/css">    .callpy_forms_callback {    }</style>--><!--  -->            </div>            <div class="callpy_client_chat_messages">                <div class="callpy_message_wrapper">                    <!-- --><div class="callpy_message_scroller" id="callpy_chat_scroller">    <div class="scroller__track">        <div class="scroller__bar"></div>    </div>    <div style="display: table; width: 100%; height: 100%;">        <div style="display: table-cell; vertical-align: bottom;" id="callpy_box_for_message">        </div>    </div></div>                </div>            </div>            <div class="callpy_remote_control_request">                <div class="callpy_client_offline_table">                    <div class="callpy_client_offline_td">                        <div class="callpy_remote_control_request_icon"></div>                        <div class="callpy_remote_control_request_title">Управление навигацией</div>                        <div class="callpy_remote_control_request_descr">Консультант запрашивает разрешение для оказания помощи в навигации по сайту.</div>                        <div class="callpy_remote_control_request_buttons">                            <a href="javascript://" id="callpy_cancel_remote" class="callpy_flat_button callpy_flat_button_red">Отклонить</a>                            <a href="javascript://" id="callpy_accept_remote" class="callpy_flat_button">Принять</a>                        </div>                    </div>                </div>            </div>            <div class="callpy_incoming_call_request">                <div class="callpy_client_offline_table">                    <div class="callpy_client_offline_td">                        <div class="callpy_incoming_call_request_icon"></div>                        <div class="callpy_incoming_call_request_title">Входящий звонок</div>                        <div class="callpy_incoming_call_request_descr">от консультанта</div>                        <div class="callpy_incoming_call_request_buttons">                            <a href="javascript://" id="callpy_cancel_incoming" class="callpy_flat_button callpy_flat_button_red">Отклонить</a>                            <a href="javascript://" id="callpy_accept_incoming" class="callpy_flat_button">Принять</a>                        </div>                    </div>                </div>            </div>        </div>        <div class="callpy_client_offline_body">            <!-- форма обратной связи для бокового чата -->            <div class="callpy_client_offline_ul">                <ul id="callpy_client_offline_ul">                    <li><a href="javascript://" class="callpy_active" id="callpy_chat_offline">Оставить сообщение</a></li>                    <li><a href="javascript://" id="callpy_chat_history">История диалога</a><span style="display: none;" class="callpy_offline_tabs_count" title="Получены новые сообщения"></span></li>                </ul>            </div>            <div class="callpy_client_offline">                <div class="callpy_client_offline_table">                    <div class="callpy_client_offline_td">                        <div class="callpy_offline_succes">                            <div class="callpy_offline_succes_icon"></div>                            <div class="callpy_offline_succes_title">Спасибо! Ваше сообщение успешно отправлено, мы ответим вам в рабочие часы.</div>                            <div class="callpy_offline_succes_button">                                <a href="javascript://" class="callpy-process-button" style="width: 100%;" id="callpy_offline_button_close_self">                                    <span class="callpy-process-button-icon callpy-process-button-block">Закрыть</span>                                </a>                            </div>                        </div>                        <form style="margin: 0; padding: 0; border: none; position: relative;" id="callpy_offline_form_self" action="">                            <div class="callpy_offline_body_one">                                <div class="callpy_offline_body_icon">                                    <!--<i class="callpy-font-icons callpy-font-icons&#45;&#45;offline" style="font-size: 81px !important; padding: 0 12px;margin-top: -5px;"></i>-->                                    <div class="callpy_offline_body_icon_svg_box">                                        <svg width="50px" height="47px" viewBox="0 0 456 408" id="callpy_offline_body_icon">                                            <path opacity="1.00" d=" M 220.33 0.00 L 231.39 0.00 C 237.59 1.50 243.98 2.69 249.69 5.66 C 256.63 8.92 262.34 14.14 268.74 18.27 C 323.95 56.86 379.13 95.50 434.33 134.11 C 414.92 149.65 395.77 165.52 376.65 181.42 C 376.59 173.61 376.61 165.81 376.64 158.01 C 376.88 150.92 376.22 143.57 372.93 137.17 C 370.35 131.43 365.54 126.98 360.15 123.88 C 355.28 121.09 349.52 120.97 344.07 120.80 C 267.03 120.77 190.00 120.81 112.96 120.77 C 106.48 120.85 99.49 121.01 93.87 124.67 C 88.44 128.33 83.74 133.36 81.31 139.51 C 78.45 145.25 79.17 151.82 79.07 158.01 C 78.92 165.75 79.47 173.52 78.69 181.24 C 59.45 165.43 40.22 149.60 20.84 133.97 C 78.83 93.67 136.57 53.04 194.47 12.63 C 202.83 6.17 212.70 1.43 223.35 0.64 L 220.33 0.00 Z" />                                            <path opacity="1.00" d=" M 4.07 152.84 C 7.05 154.46 9.63 156.67 12.17 158.90 C 68.08 204.93 124.06 250.88 179.95 296.93 C 189.22 304.18 197.72 312.92 208.88 317.29 C 222.98 322.86 239.67 321.83 252.79 314.12 C 259.40 310.57 264.75 305.22 270.64 300.66 C 327.38 254.12 384.05 207.49 440.79 160.94 C 444.16 158.19 447.30 155.09 451.11 152.93 C 454.42 161.23 454.96 170.17 455.03 179.00 C 455.01 233.65 455.02 288.31 455.02 342.96 C 455.08 353.61 456.18 364.48 453.50 374.93 C 452.45 379.34 450.38 383.42 448.26 387.40 C 411.49 357.23 374.60 327.18 337.81 297.03 C 335.85 295.08 333.25 294.32 330.54 294.31 C 328.12 296.66 326.37 299.60 326.32 303.06 C 330.66 309.06 337.36 312.54 342.74 317.46 C 375.27 343.99 407.69 370.66 440.28 397.12 C 434.49 401.82 427.67 405.41 420.28 406.70 C 415.90 407.54 411.42 407.25 407.00 407.27 C 288.32 407.26 169.64 407.27 50.96 407.26 C 44.40 407.20 37.69 407.86 31.34 405.78 C 25.75 404.47 20.80 401.41 16.34 397.89 C 53.14 367.48 90.01 337.16 126.79 306.74 C 128.42 305.27 129.87 303.28 129.61 300.96 C 129.72 296.98 125.68 293.90 121.84 294.36 C 85.66 324.01 49.72 353.93 13.56 383.58 C 11.73 385.31 9.80 386.93 7.64 388.24 C 3.98 381.42 1.01 374.11 0.61 366.28 L 0.00 369.43 L 0.00 169.49 C 0.57 163.77 2.29 158.27 4.07 152.84 Z" />                                            <path opacity="1.00" d=" M 174.33 161.70 C 175.60 159.71 177.24 157.34 179.93 157.58 C 212.01 157.51 244.08 157.64 276.16 157.51 C 278.53 158.94 279.90 161.29 280.45 163.96 C 280.03 165.02 279.63 166.09 279.24 167.16 C 278.59 167.91 277.96 168.67 277.32 169.43 C 272.64 170.73 267.76 170.20 262.97 170.28 C 235.96 170.30 208.95 170.25 181.94 170.31 C 180.32 170.29 178.74 169.91 177.17 169.60 C 174.89 167.52 174.00 164.74 174.33 161.70 Z" />                                            <path opacity="1.00" d=" M 178.89 191.54 C 210.63 191.59 242.36 191.50 274.10 191.58 C 277.75 191.53 279.93 194.80 280.50 198.06 C 279.74 199.78 279.31 201.76 277.87 203.08 C 276.10 204.05 274.05 204.40 272.05 204.40 C 242.02 204.41 211.98 204.34 181.96 204.44 C 180.19 204.48 178.50 203.98 176.81 203.54 C 175.71 201.86 174.01 200.28 174.38 198.07 C 173.87 194.94 176.50 192.89 178.89 191.54 Z" />                                            <path opacity="1.00" d=" M 174.96 229.11 C 176.26 226.57 179.25 225.54 181.96 225.72 C 211.99 225.75 242.02 225.75 272.06 225.72 C 274.36 225.62 276.70 226.22 278.55 227.63 C 279.56 228.93 279.82 230.63 280.47 232.12 C 279.86 234.05 279.05 235.91 277.89 237.57 C 275.97 238.10 274.03 238.58 272.03 238.51 C 244.01 238.46 215.99 238.50 187.96 238.49 C 183.88 238.38 179.53 239.25 175.80 237.11 C 174.70 234.65 173.65 231.69 174.96 229.11 Z" />                                        </svg>                                    </div>                                </div>                                <div class="callpy_offline_body_title callpy_client_offline_title"></div>                                <div class="callpy_offline_body_descr callpy_client_offline_descr"></div>                                <div class="callpy_offline_body_name">                                    <i class="callpy_offline_icons"></i>                                    <input type="text" name="callpy_offline_name" value="" id="callpy_offline_form_name_self" placeholder="Как к вам обращаться?" >                                </div>                                <div class="callpy_offline_body_message">                                    <textarea name="message" id="callpy_offline_textarea_self" placeholder="Введите ваше сообщение"></textarea>                                </div>                                <div style="margin: 0 10px;">                                    <a href="javascript://" class="callpy-process-button callpy-process-button-disabled" style="width: 100%;" id="callpy_offline_button_next_self">                                        <span class="callpy-process-button-icon callpy-process-button-block">Далее</span>                                    </a>                                </div>                            </div>                            <div class="callpy_offline_body_two">                                <div class="callpy_offline_body_icon">                                    <!--<i class="callpy-font-icons callpy-font-icons&#45;&#45;offline" style="padding: 0px 12px; margin-top: -5px; font-size: 81px !important; color: rgb(229, 26, 26);"></i>-->                                    <div class="callpy_offline_body_icon_svg_box">                                        <svg width="50px" height="47px" viewBox="0 0 456 408" id="callpy_offline_body_icon2">                                            <path opacity="1.00" d=" M 220.33 0.00 L 231.39 0.00 C 237.59 1.50 243.98 2.69 249.69 5.66 C 256.63 8.92 262.34 14.14 268.74 18.27 C 323.95 56.86 379.13 95.50 434.33 134.11 C 414.92 149.65 395.77 165.52 376.65 181.42 C 376.59 173.61 376.61 165.81 376.64 158.01 C 376.88 150.92 376.22 143.57 372.93 137.17 C 370.35 131.43 365.54 126.98 360.15 123.88 C 355.28 121.09 349.52 120.97 344.07 120.80 C 267.03 120.77 190.00 120.81 112.96 120.77 C 106.48 120.85 99.49 121.01 93.87 124.67 C 88.44 128.33 83.74 133.36 81.31 139.51 C 78.45 145.25 79.17 151.82 79.07 158.01 C 78.92 165.75 79.47 173.52 78.69 181.24 C 59.45 165.43 40.22 149.60 20.84 133.97 C 78.83 93.67 136.57 53.04 194.47 12.63 C 202.83 6.17 212.70 1.43 223.35 0.64 L 220.33 0.00 Z" />                                            <path opacity="1.00" d=" M 4.07 152.84 C 7.05 154.46 9.63 156.67 12.17 158.90 C 68.08 204.93 124.06 250.88 179.95 296.93 C 189.22 304.18 197.72 312.92 208.88 317.29 C 222.98 322.86 239.67 321.83 252.79 314.12 C 259.40 310.57 264.75 305.22 270.64 300.66 C 327.38 254.12 384.05 207.49 440.79 160.94 C 444.16 158.19 447.30 155.09 451.11 152.93 C 454.42 161.23 454.96 170.17 455.03 179.00 C 455.01 233.65 455.02 288.31 455.02 342.96 C 455.08 353.61 456.18 364.48 453.50 374.93 C 452.45 379.34 450.38 383.42 448.26 387.40 C 411.49 357.23 374.60 327.18 337.81 297.03 C 335.85 295.08 333.25 294.32 330.54 294.31 C 328.12 296.66 326.37 299.60 326.32 303.06 C 330.66 309.06 337.36 312.54 342.74 317.46 C 375.27 343.99 407.69 370.66 440.28 397.12 C 434.49 401.82 427.67 405.41 420.28 406.70 C 415.90 407.54 411.42 407.25 407.00 407.27 C 288.32 407.26 169.64 407.27 50.96 407.26 C 44.40 407.20 37.69 407.86 31.34 405.78 C 25.75 404.47 20.80 401.41 16.34 397.89 C 53.14 367.48 90.01 337.16 126.79 306.74 C 128.42 305.27 129.87 303.28 129.61 300.96 C 129.72 296.98 125.68 293.90 121.84 294.36 C 85.66 324.01 49.72 353.93 13.56 383.58 C 11.73 385.31 9.80 386.93 7.64 388.24 C 3.98 381.42 1.01 374.11 0.61 366.28 L 0.00 369.43 L 0.00 169.49 C 0.57 163.77 2.29 158.27 4.07 152.84 Z" />                                            <path opacity="1.00" d=" M 174.33 161.70 C 175.60 159.71 177.24 157.34 179.93 157.58 C 212.01 157.51 244.08 157.64 276.16 157.51 C 278.53 158.94 279.90 161.29 280.45 163.96 C 280.03 165.02 279.63 166.09 279.24 167.16 C 278.59 167.91 277.96 168.67 277.32 169.43 C 272.64 170.73 267.76 170.20 262.97 170.28 C 235.96 170.30 208.95 170.25 181.94 170.31 C 180.32 170.29 178.74 169.91 177.17 169.60 C 174.89 167.52 174.00 164.74 174.33 161.70 Z" />                                            <path opacity="1.00" d=" M 178.89 191.54 C 210.63 191.59 242.36 191.50 274.10 191.58 C 277.75 191.53 279.93 194.80 280.50 198.06 C 279.74 199.78 279.31 201.76 277.87 203.08 C 276.10 204.05 274.05 204.40 272.05 204.40 C 242.02 204.41 211.98 204.34 181.96 204.44 C 180.19 204.48 178.50 203.98 176.81 203.54 C 175.71 201.86 174.01 200.28 174.38 198.07 C 173.87 194.94 176.50 192.89 178.89 191.54 Z" />                                            <path opacity="1.00" d=" M 174.96 229.11 C 176.26 226.57 179.25 225.54 181.96 225.72 C 211.99 225.75 242.02 225.75 272.06 225.72 C 274.36 225.62 276.70 226.22 278.55 227.63 C 279.56 228.93 279.82 230.63 280.47 232.12 C 279.86 234.05 279.05 235.91 277.89 237.57 C 275.97 238.10 274.03 238.58 272.03 238.51 C 244.01 238.46 215.99 238.50 187.96 238.49 C 183.88 238.38 179.53 239.25 175.80 237.11 C 174.70 234.65 173.65 231.69 174.96 229.11 Z" />                                        </svg>                                    </div>                                </div>                                <div class="callpy_offline_body_title" style="margin-bottom: 30px;">Укажите Ваши контакты для обратной связи</div>                                <div class="callpy_offline_title_label">Ваша почта:</div>                                <div class="callpy_offline_body_two_input">                                    <i class="callpy-font-icons callpy-font-icons--offline-email" style="position: absolute;font-size: 32px !important;margin: -3px 4px;"></i>                                    <input id="callpy_offline_form_email_self" type="text" value="" name="email" placeholder="Введите e-mail">                                </div>                                <div class="callpy_offline_title_label">Ваш телефон:</div>                                <div class="callpy_offline_body_two_input">                                    <i class="callpy-font-icons callpy-font-icons--offline-mobile" style="position: absolute; font-size: 29px !important; margin: -2px 5px;"></i>                                    <input id="callpy_offline_form_phone_self" type="text" value="" name="phone" placeholder="Введите номер телефона">                                </div>                                <div class="callpy_offline_body_two_button">                                    <button id="callpy_offline_form_button_self" class="callpy-process-button" data-callpy-status="send" style="width: 100%;">                                        <span class="callpy-process-button-icon callpy-process-button-block"><i class="callpy-process-button-icon--send"></i>Отправить</span>                                    <span class="callpy-process-button-icon callpy-process-button-block--sending">                                        <div class="callpy-process-button-icon--sending">                                            <div class="callpy-sending-css">                                                <div class="callpy-sending-css--block callpy-sending-css--block1"></div>                                                <div class="callpy-sending-css--block callpy-sending-css--block2"></div>                                                <div class="callpy-sending-css--block callpy-sending-css--block3"></div>                                                <div class="callpy-sending-css--block callpy-sending-css--block4"></div>                                                <div class="callpy-sending-css--block callpy-sending-css--block5"></div>                                                <div class="callpy-sending-css--block callpy-sending-css--block6"></div>                                                <div class="callpy-sending-css--block callpy-sending-css--block7"></div>                                                <div class="callpy-sending-css--block callpy-sending-css--block8"></div>                                            </div>                                        </div>                                        Отправка сообщения                                    </span>                                        <span>Закрыть</span>                                        <span class="callpy-process-button-icon callpy-process-button-block--error"><i class="callpy-process-button-icon--abort"></i></span>                                    </button>                                </div>                            </div>                        </form>                    </div>                </div>            </div>            <div class="callpy_client_offline_messages"></div>        </div>        <div class="callpy_client_chat_departments">    <ul class="callpy_client_chat_departments_ul" id="callpy_client_chat_departments_ul"></ul>    <div class="callpy_client_chat_callback_back"><a href="javascript://" id="callpy_client_chat_departments_back">Вернуться назад</a></div></div><div class="callpy_client_chat_department_empty">    <div class="callpy_client_offline_table">        <div class="callpy_client_offline_td">            <div class="callpy_client_chat_department_empty_icon"></div>            <div class="callpy_client_chat_department_empty_title">В отделе нет консультантов. Выберите другой отдел или оставьте сообщение.</div>            <div class="callpy_client_chat_department_empty_button">                <a href="javascript://" id="callpy_offline_department_empty" class="callpy_flat_button">Оставить сообщение</a>            </div>            <div class="callpy_client_chat_department_empty_link">                <a href="javascript://" id="callpy_department_choose">Выбрать другой отдел</a>            </div>        </div>    </div></div><div class="callpy_client_chat_callback">    <div class="callpy_client_offline_table">        <div class="callpy_client_offline_td">            <div class="callpy_client_chat_callback_state1">                <div class="callpy_client_chat_callback_title">                    Выберите тип звонка:                </div>                <div class="callpy_client_chat_callback_choosebox">                    <div class="callpy_client_chat_callback_box1">                        <div class="callpy_client_chat_callback_box_icon"></div>                        <div class="callpy_client_chat_callback_box_descr">                            Прямо сейчас, с сайта, в 1 клик                        </div>                        <div class="callpy_client_chat_callback_box_button">                            <a href="javascript://" class="callpy_flat_button" id="callpy_button_call">Позвонить</a>                        </div>                    </div>                    <div class="callpy_client_chat_callback_box2">                        <div class="callpy_client_chat_callback_box_icon"></div>                        <div class="callpy_client_chat_callback_box_descr">                            Заказать обратный звонок                        </div>                        <div class="callpy_client_chat_callback_box_button">                            <a href="javascript://" class="callpy_flat_button" id="callpy_button_callback_state">Заказать</a>                        </div>                    </div>                </div>                <div style="clear: both;"></div>                <div class="callpy_client_chat_callback_back"><a href="javascript://" id="callpy_button_callback_back">Вернуться назад</a></div>            </div>            <div class="callpy_client_chat_callback_state2">                <div class="callpy_client_chat_callback_icon"></div>                <div class="callpy_client_chat_callback_title">                    Заказать обратный звонок                </div>                <div class="callpy_client_chat_callback_input">                    <input type="text" id="callpy_callback_input" placeholder="(555) 555-5555">                </div>                <div class="callpy_client_chat_callback_button">                    <a href="javascript://" class="callpy_flat_button" id="callpy_callback_butt">Заказать</a>                </div>                <div class="callpy_client_chat_callback_back"><a href="javascript://" id="callpy_button_callback_back_state">Вернуться назад</a></div>            </div>        </div>    </div></div>        <div class="callpy_client_chat_inputs_wr">            <div class="callpy_client_chat_inputs">                <div class="callpy_client_chat_button_wr">                    <div class="callpy_client_chat_button" id="callpy_button_callback">                        <div></div>                        <div></div>                    </div>                </div>                <div class="callpy_client_chat_input">                    <textarea id="callpy_chat_input_box" placeholder="Введите сообщение и нажмите Enter"></textarea>                    <div class="callpy_send_message_button">                        <i class="callpy_text_icons" style=""></i>                    </div>                </div>            </div>        </div>    </div>    <div class="callpy_client_chat_copyright">        <a href="http://callpy.com/" target="_blank" id="callpy_link">Разработано в <span>Callpy</span></a>    </div></div><div class="callpy_label_side_wr">    <div class="callpy_label_side_tooltip">        <div class="callpy_label_side_tooltip_close" id="callpy_label_side_tooltip_close">            <svg height="16" viewBox="0 0 48 48" id="callpy_label_side_tooltip_close_svg" width="16">                <path d="M38 12.83l-2.83-2.83-11.17 11.17-11.17-11.17-2.83 2.83 11.17 11.17-11.17 11.17 2.83 2.83 11.17-11.17 11.17 11.17 2.83-2.83-11.17-11.17z"/>            </svg>        </div>        <div class="callpy_label_side_tooltip--logo_wrapper">            <div class="callpy_label_side_tooltip--logo callpy_manager_icon" style="display: block !important; visibility: visible !important;"></div>        </div>        <div class="callpy_label_side_tooltip--text"></div>        <div class="callpy_label_side_tooltip--input">            <input id="callpy_label_side_tooltip--input" type="text" placeholder="Введите сообщение и нажмите Enter">            <div>                <i class="callpy_text_icons" style=""></i>            </div>        </div>        <div class="callpy_label_side_tooltip--corner"></div>    </div>    <div class="callpy_label_side_offline_tooltip">        <!--<div class="callpy_client_offline_table">            <div class="callpy_client_offline_td">-->        <div class="callpy_label_side_offline_tooltip_icon">            <svg width="30px" height="33px" viewBox="0 0 130 140" style="fill: #fff;" id="callpy_label_side_offline_tooltip_icon">                <path opacity="1.00" d=" M 64.95 0.00 L 65.81 0.00 C 74.70 5.76 82.86 12.65 91.88 18.17 C 98.62 18.52 105.38 18.18 112.13 18.28 C 112.24 23.15 112.22 28.03 112.14 32.90 C 117.99 37.35 124.13 41.42 130.00 45.84 L 130.00 140.00 L 0.00 140.00 L 0.00 46.58 C 6.18 41.87 12.70 37.60 18.87 32.87 C 18.77 28.01 18.77 23.15 18.86 18.29 C 25.80 18.01 32.90 18.87 39.74 17.90 C 48.29 12.17 56.53 5.94 64.95 0.00 M 55.71 18.83 C 62.81 18.81 69.91 18.84 77.01 18.81 C 73.21 15.94 69.31 13.19 65.31 10.62 C 62.24 13.52 58.77 15.93 55.71 18.83 M 27.88 27.54 C 27.88 39.03 27.86 50.51 27.88 61.99 C 27.65 63.75 29.52 64.61 30.55 65.68 C 42.35 75.18 53.73 85.20 65.72 94.43 C 78.09 83.89 90.91 73.86 103.17 63.18 C 103.06 51.30 103.16 39.42 103.12 27.54 C 78.04 27.35 52.95 27.34 27.88 27.54 M 111.95 42.84 C 111.87 45.53 111.78 48.22 111.72 50.91 C 115.81 50.88 119.90 50.91 123.99 51.05 C 120.26 47.93 116.00 45.52 111.95 42.84 M 10.90 50.89 C 14.06 50.99 17.22 50.92 20.38 50.91 C 20.44 48.23 20.41 45.55 20.34 42.87 C 17.34 45.71 13.98 48.14 10.90 50.89 M 9.35 65.00 C 9.20 83.73 9.23 102.46 9.34 121.19 C 12.30 119.60 14.74 117.25 17.44 115.29 C 27.05 107.89 36.75 100.63 46.29 93.15 C 34.15 83.55 21.82 74.15 9.35 65.00 M 84.71 92.99 C 95.31 101.87 106.71 109.79 117.54 118.40 C 118.82 119.46 120.20 120.40 121.68 121.17 C 121.75 102.45 121.80 83.73 121.66 65.01 C 109.15 74.05 97.00 83.63 84.71 92.99 M 22.95 126.92 C 21.58 128.08 19.70 128.87 19.12 130.73 C 50.04 130.71 80.96 130.73 111.89 130.72 C 111.68 130.36 111.28 129.64 111.08 129.28 C 98.97 119.77 87.16 109.89 75.15 100.26 C 71.80 102.58 68.80 105.41 65.23 107.42 C 62.14 104.99 59.02 102.58 55.85 100.25 C 44.83 109.08 33.95 118.07 22.95 126.92 Z" />                <path opacity="1.00" d=" M 37.74 37.51 C 43.64 36.83 49.81 37.41 55.82 37.24 C 55.84 40.13 55.84 43.01 55.82 45.90 C 49.75 45.89 43.68 46.04 37.62 45.80 C 37.68 43.04 37.53 40.27 37.74 37.51 Z" />                <path opacity="1.00" d=" M 37.61 56.20 C 41.71 55.53 45.88 55.97 50.01 55.86 C 61.30 55.93 72.59 55.70 83.87 55.97 C 83.88 58.88 83.88 61.79 83.85 64.70 C 68.49 64.71 53.13 64.68 37.76 64.72 C 37.67 61.88 37.65 59.04 37.61 56.20 Z" />            </svg>        </div>                <div class="callpy_label_side_offline_tooltip--text callpy_label_body_title"></div>                <div class="callpy_label_side_offline_tooltip--corner"></div>        <!--    </div>        </div>-->        <div class="callpy_label_offline_closer">            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" style="position: absolute;top: -2px;left: -2px;" id="callpy_label_offline_closer">                <path d="M12,2C6.5,2,2,6.5,2,12c0,5.5,4.5,10,10,10s10-4.5,10-10C22,6.5,17.5,2,12,2z M16.9,15.5l-1.4,1.4L12,13.4l-3.5,3.5   l-1.4-1.4l3.5-3.5L7.1,8.5l1.4-1.4l3.5,3.5l3.5-3.5l1.4,1.4L13.4,12L16.9,15.5z"/>            </svg>        </div>    </div>    <div class="callpy_label_side_body callpy_label_wrapper">        <div class="callpy_label_avatar"></div>        <div class="callpy_label_avatar--logo"></div>        <div class="callpy_label_avatar--indication"></div>    </div></div><!-- общий темплейт для всех чатов --><div class="callpy_mobile_wrapper" id="callpy_mobile_wrapper">    <div class="callpy_mobile_tooltip"></div>    <div class="callpy_mobile_logo">        <div class="callpy_mobile_count" id="callpy_mobile_count"></div>        <div class="callpy_mobile_logo_outer">a</div>        <div class="callpy_mobile_logo_inner">p</div>        <div class="callpy_mobile_logo_body">b</div>    </div></div>');o.root=c(i.callpy_wrapper);o.init=true;o.label.root=c(".callpy_label_wrapper");l("_settings");c.callpy_departments();if(iowisp.invoker.type==5){l("_design")}else{l("_events")}},_offline_resize:function(){},_settings:function(){console.log("установка настроек");var u=iowisp.invoker.site_info;c.callpy_settings("set",[{font_color:u.font_color},{lbl_color:u.lbl_color},{message_color:u.message_color},{message_color_self:u.message_color_self},{font_color_message:u.font_color_message},{font_color_message_self:u.font_color_message_self},{lbl_edge:u.lbl_edge},{audio_chat:u.audio_chat},{lable_avatars:u.lable_avatars},{label_color:u.label_color},{font_label_color:u.font_label_color}]);if(u.chat_type=="brand"){c.callpy_settings("set",{brandlogo:u.brandlogo});c.callpy_settings("set",{logo:u.logo});c.callpy_settings("set",{font_head_color:u.font_head_color})}var t=c(i.chat_default_class);if(iowisp.invoker.type!=5&&c.callpy_flat("config").draggable){if(c(i.callpy_wrapper).hasClass("callpy_label_wrapper_left")||c(i.callpy_wrapper).hasClass("callpy_label_wrapper_right")){var w=(parseFloat(iowisp.invoker.site_info.lbl_position)*4);if(w<=10){w=20+"px"}else{w="-"+w+"px"}t.css({top:iowisp.invoker.site_info.lbl_position+"%",marginTop:w})}else{var v=(parseFloat(iowisp.invoker.site_info.lbl_position)*3);if(v<=10){v="20px"}else{v="-"+(v+30)+"px"}t.css({left:iowisp.invoker.site_info.lbl_position+"%",marginLeft:v})}}c(i.callpy_wrapper).removeClass("callpy_status_chat_hide--sideLabel").addClass("callpy_status_chat_show--sideLabel").addClass("callpy_status_chat_hide")},_scroll:function(t){if(!t){return a}if(sven){c(i.chat_message_scroller).removeAttr("data-baron-v")}var u={bar:".scroller__bar",track:".scroller__track",barOnCls:"baron"};a=c(i.chat_message_scroller).baron(u)},visible:function(){return true},callback:function(t){var v=t;for(var u in v){if(typeof v[u]=="function"){switch(u){case"beforeShow":i.callback.beforeShow=v[u];break}}}},show:function(u){p=-1;c.callpy_chat("mobileCount");if($jcallpy.callpy_status("api").mobile){f=h.scrollY;var t=document.querySelector('meta[name="viewport"]');if(!n){n=t.getAttribute("content")}t.setAttribute("content","width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0")}iowisp.nightstalker.to_fms({action:"update_status",status:"21"+(iowisp.m_chat.history.length?"1":"0"),peer_key:(iowisp.invoker.peer_key?iowisp.invoker.peer_key:0),domain:iowisp.invoker.site});i.callback.beforeShow();i.chat_size={w:c(i.chat_default_class).width(),h:c(i.chat_default_class).height()};if(!u){u=false}c.callpy_status("set","show_chat",u);iowisp.m_chat.setUtm();if($jcallpy.callpy_status("api").mobile){c(document.body).addClass("callpy_mobile_show")}if(!c.callpy_status("api").offline){iowisp.m_chat.setMessagesRead()}c.callpy_chat("_offline_resize")},hide:function(u){if($jcallpy.callpy_status("api").mobile){var t=document.querySelector('meta[name="viewport"]');t.setAttribute("content",n)}iowisp.nightstalker.to_fms({action:"update_status",status:"20"+(iowisp.m_chat.history.length?"1":"0"),peer_key:(iowisp.invoker.peer_key?iowisp.invoker.peer_key:0),domain:iowisp.invoker.site});i.chat_size={w:c(i.chat_default_class).width(),h:c(i.chat_default_class).height()};if(!u){u=false}c.callpy_status("set","hide_chat",u);iowisp.m_chat.setUtm();if(c.callpy_status("api").mobile){c(document.body).removeClass("callpy_mobile_show");h.scrollTo("top",f);c.callpy_chat("_mobile_resize")}c(i.callpy_wrapper).addClass("callpy_status_side_hidetool")},chat:function(){return o},mobileCount:function(){if(!c.callpy_status("api").visible){p++;if(p==0){c("#callpy_mobile_count").hide()}else{c("#callpy_mobile_count").html(p).show()}}}}})(jQuery1,window,undefined,localStorage);(function(e,h,b){e.callpy_init=function(j){if(a[j]){return a[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return a._init.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+j+" не существует для "+d)}}};var d="$.callpy_init",f=e.callpy_init;var g=h,i=g.document,c={callpy_wrapper:"#callpy_wrapper"};var a={_init:function(){console.log("%c"+d+" inited","color: white; background: blue; font-weight: bold;");if(!document.querySelector(c.callpy_wrapper)){var j=e("<div/>",{id:"callpy_wrapper",css:{display:"none"}}).appendTo(e("#callpy"));if(parseInt(iowisp.invoker.site_info.status)==0){j.addClass("callpy_status_off")}}e.callpy_chat("_create")}}})(jQuery1,window,undefined);(function(f,j,c,g){f.callpy_status=function(l){if(b[l]){return b[l].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof l==="object"||!l){return b._init.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+l+" не существует для "+e)}}};var e="$.callpy_status",h=f.callpy_status;var i=j,k=i.document,d={callpy_wrapper:"#callpy_wrapper"},a=false;var b={_init:function(){console.log("%c"+e+" inited","color: white; background: blue; font-weight: bold;")},set:function(l,p){var n=f(d.callpy_wrapper),o=f("#callpy_mobile_wrapper"),m=f(".callpy_client_chat_wrapper");if(!l){l="default"}f.callpy_settings("_isActive");f.callpy_flat("_check_status_class");switch(l){case"default":n.removeClass("callpy_remote_control callpy_remote_control_accept callpy_status_video");break;case"show_chat":n.removeClass("callpy_chat_no_transition").addClass("callpy_status_chat_show").removeClass("callpy_status_chat_show--sideLabel").addClass("callpy_status_chat_hide--sideLabel").addClass("callpy_status_chat_show--side").removeClass("callpy_status_chat_hide--side").removeClass("callpy_status_chat_hide");break;case"hide_chat":n.removeClass("callpy_chat_no_transition").removeClass("callpy_status_chat_show").removeClass("callpy_status_chat_hide--sideLabel").addClass("callpy_status_chat_show--sideLabel").removeClass("callpy_status_chat_show--side").addClass("callpy_status_chat_hide--side").addClass("callpy_status_chat_hide");break;case"incoming_call_on":n.addClass("callpy_status_chat_show callpy_status_incoming").removeClass("callpy_status_chat_hide");break;case"incoming_call_off":n.removeClass("callpy_status_incoming");break;case"call_on":f.callpy_status("set","equip_mic_off");n.addClass("callpy_status_call callpy_status_calling");a=setInterval(function(){f.callpy_chat("_setTimer")},1000);break;case"call_off":n.removeClass("callpy_status_call callpy_status_calling");clearInterval(a);clearInterval($jcallpy.callpy_chat("_setTimer",true));break;case"dial_on":f.callpy_status("set","equip_mic_off");n.addClass("callpy_status_call");break;case"dial_off":n.removeClass("callpy_status_call");break;case"video_start":if(n.hasClass("callpy_status_calling")){n.removeClass("callpy_chat_no_transition").addClass("callpy_status_video")}break;case"video_end":n.removeClass("callpy_chat_no_transition").removeClass("callpy_status_video");break;case"remote_control_on":h("set","show_chat");n.removeClass("callpy_chat_no_transition").addClass("callpy_remote_control");break;case"remote_control_off":n.removeClass("callpy_chat_no_transition").removeClass("callpy_remote_control");break;case"remote_control_start":n.removeClass("callpy_chat_no_transition").removeClass("callpy_remote_control").addClass("callpy_status_chat_show callpy_remote_control_accept").removeClass("callpy_status_chat_hide");break;case"remote_control_end":n.removeClass("callpy_remote_control_accept");f.callpy_message("_addSys",{type:"remote_end",text:"Удаленное управление завершено"});break;case"audio_on":if(parseInt(iowisp.invoker.site_info.blocked)==0){n.addClass("callpy_status_audio")}break;case"audio_off":n.removeClass("callpy_status_audio");break;case"avatar_on":n.addClass("callpy_status_icon");break;case"avatar_off":n.removeClass("callpy_status_icon");break;case"offline_on":h("removeStatus");n.removeClass("callpy_chat_no_transition").addClass("callpy_status_offline");break;case"offline_off":n.removeClass("callpy_chat_no_transition").removeClass("callpy_status_offline").removeClass("callpy_status_show_offline_chat");break;case"equip_mic_on":n.addClass("callpy_status_mic_equip");break;case"equip_mic_off":n.removeClass("callpy_status_mic_equip");break;case"callpy_off":h("removeStatus");n.addClass("callpy_status_off");break;case"callpy_on":n.removeClass("callpy_status_off");break;case"contact_on":n.addClass("callpy_status_contact");break;case"contact_off":n.removeClass("callpy_status_contact");break;case"mobile_hide":o.removeClass("callpy_mobile_visible");break;case"mobile_show":o.addClass("callpy_mobile_visible");break;case"social_show":m.addClass("callpy_social_confirm");break;case"social_hide":m.removeClass("callpy_social_confirm");break;case"social_accept":m.addClass("callpy_social_accept").removeClass("callpy_social_confirm");break;case"social_cancel":m.addClass("callpy_social_cancel").removeClass("callpy_social_confirm");break;case"userdata_show":m.addClass("callpy_userData_show");break;case"userdata_hide":m.removeClass("callpy_userData_show");break;case"departments_show":h("removeStatus");n.addClass("callpy_status_departments_choose");n.removeClass("callpy_status_departments_empty");break;case"departments_hide":n.removeClass("callpy_status_departments_choose");break;case"departments_empty_show":h("removeStatus");n.removeClass("callpy_status_departments_choose");n.addClass("callpy_status_departments_empty");break;case"departments_empty_hide":n.removeClass("callpy_status_departments_empty");break;case"callback_show":h("removeStatus");f(".callpy_client_chat_callback").removeClass("callpy_status_callback_state");n.addClass("callpy_status_callback");break;case"callback_state_one":f(".callpy_client_chat_callback").removeClass("callpy_status_callback_state");break;case"callback_state_two":f(".callpy_client_chat_callback").addClass("callpy_status_callback_state");break;case"callback_hide":n.removeClass("callpy_status_callback");f(".callpy_client_chat_callback").removeClass("callpy_status_callback_state");break}if(p){iowisp.lycan.night(true)}else{iowisp.lycan.night()}},api:function(){var l=f(d.callpy_wrapper);return{visible:l.hasClass("callpy_status_chat_show")?true:false,offline:(l.hasClass("callpy_status_offline")||iowisp.invoker.peer_key==0)?true:false,call:l.hasClass("callpy_status_calling")?true:false,video:l.hasClass("callpy_status_video")?true:false,remote:l.hasClass("callpy_remote_control_accept")?true:false,mobile:l.hasClass("callpy_status_mobile")?true:false}},removeStatus:function(m){var l=f(d.callpy_wrapper);l.removeClass("callpy_status_departments_choose").removeClass("callpy_status_callback").removeClass("callpy_status_departments_empty");f(".callpy_userData_show").removeClass("callpy_userData_show");f(".callpy_social_confirm").removeClass("callpy_social_confirm");f(".callpy_userdata_active").removeClass("callpy_userdata_active");if(m){iowisp.lycan.night(true)}}}})(jQuery1,window,undefined,localStorage);(function(a){a.gcallpy={}})(window);(function(a){var b={};b.disableScroll=function(){if(a.addEventListener){a.addEventListener("DOMMouseScroll",b.preventDefault,false)}a.onwheel=b.preventDefault;a.onmousewheel=document.onmousewheel=b.preventDefault;a.ontouchmove=b.preventDefault};b.enableScroll=function(){if(a.removeEventListener){a.removeEventListener("DOMMouseScroll",b.preventDefault,false)}a.onmousewheel=document.onmousewheel=null;a.onwheel=null;a.ontouchmove=null;document.onkeydown=null};b.preventDefault=function(c){c=c||a.event;if(c.preventDefault){c.preventDefault()}c.returnValue=false};a.gcallpy.functions=b})(window);(function(e,i,b){e.callpy_message=function(n){if(a[n]){return a[n].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof n==="object"||!n){return a.init.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+n+" не существует для "+d)}}};var d="$.callpy_message",g=e.callpy_message;var h=i,k=h.document,c={callpy_wrapper:"#callpy_wrapper",message_box:"#callpy_box_for_message"},f,m=0,j=false,l=false;var a={_init:function(){},_insertFile:function(n){var p=e.extend({type:false,from:false},n)},_insertImage:function(y){var p=e.extend({file:false,base64:false},y);var n=e("<a/>");var s=e("<img>").attr({src:p.base64});n.append(s);var x=g("_createMessage");x.addClass("callpy_message_file").addClass("callpy_message_file--upload");var u=x.find("p").append(e("<div/>",{html:"<div></div>"}).append(n).addClass("callpy_message_upload_box"));var q=x.find(".callpy_message_sysbox");q.html("Загрузка: 0%");e(c.message_box).append(x);x.removeClass("callpy_new_message");e.callpy_chat("_scroll").params.root.scrollTop(e.callpy_chat("_scroll").params.root.get(0).scrollHeight);var w={chatfile:p.file,type:iowisp.invoker.type,image:p.base64,action:"send_message",key:iowisp.invoker.key,peer_key:iowisp.invoker.peer_key,peer_type:iowisp.invoker.peer_type,channel:iowisp.invoker.channel,site_id:iowisp.invoker.site_id,managerName:iowisp.earthshaker[iowisp.invoker.peer_key].name,domain:iowisp.invoker.site_info.domain};var r=new FormData();for(var t in w){r.append(t,w[t])}var v=new XMLHttpRequest();v.upload.onprogress=function(o){q.html("Загрузка: "+Math.floor((o.loaded/o.total)*100)+"%")};v.onload=function(){if(v.status==200){x.removeClass("callpy_message_file--upload");q.html("Файл отправлен");var o=JSON.parse(v.responseText);n.attr("href","https://callpy.com/upload/"+o.filename).attr("target","_blank")}else{}iowisp.lycan.night(true)};v.onerror=function(){};v.open("POST",kunnka.bloodseeker+"upld/",true);v.send(r)},_addSys:function(n){var q=$jcallpy.extend({type:false,text:false,time:false},n);switch(q.type){case"change_manager":q.type="callpy_state_change_manager";break;case"change_department":q.type="callpy_state_change_department";break;case"call_end":q.type="callpy_state_call_end";break;case"remote_end":q.type="callpy_state_remote_end";break;case"no_call":q.type="callpy_state_no_call";break}if(!q.time){q.time=new Date();q.time=((q.time.getHours()<10)?"0":"")+q.time.getHours()+":"+((q.time.getMinutes()<10)?"0":"")+q.time.getMinutes()}var p;p='<div class="callpy_chat_system_message_wrapper callpy_chat_system_message callpy_active">                                <div class="callpy_chat_system_message_body">                                    <div class="callpy_chat_state_picture '+q.type+'"></div>                                    <div class="callpy_chat_state_title">'+q.text+'</div>                                    <div class="callpy_chat_state_time">'+q.time+"</div>                                </div>                            </div>";e(c.message_box).append(p);e.callpy_chat("_scroll").params.root.scrollTop(e.callpy_chat("_scroll").params.root.get(0).scrollHeight);iowisp.lycan.night(true)},_createMessage:function(p){var t=e.extend({text:"",from:0,name:false,type:"default"},p);if(!t.time){t.time=new Date();t.time=((t.time.getHours()<10)?"0":"")+t.time.getHours()+":"+((t.time.getMinutes()<10)?"0":"")+t.time.getMinutes()}else{t.time=iowisp.parseTimestamp(t.time)}var r="callpy_message callpy_new_message ",n='<div class="callpy_message_avatar"></div>';var s="Вы";var q={};if(t.from==0){r+="callpy_message_self "}else{if(iowisp.invoker.peer_key){n='<div class="callpy_message_avatar" style="background-image: url(//callpy.com/images/avatar/'+iowisp.earthshaker[iowisp.invoker.peer_key].avatar+'.jpg)"></div>'}}if(t.text&&t.text.indexOf("<img")!=-1){r+="callpy_message_file "}if(iowisp.invoker.peer_key&&!t.name){t.name=iowisp.earthshaker[iowisp.invoker.peer_key].name}if(localStorage.getItem("callpy_social")&&iowisp.invoker.clientInfo.userData&&iowisp.invoker.clientInfo.userData.first_name&&iowisp.invoker.clientInfo.userData.photo&&t.from==0){s=iowisp.invoker.clientInfo.userData.first_name;n='<div class="callpy_message_avatar" style="background-image: url('+iowisp.invoker.clientInfo.userData.photo+') !important;"></div>'}if(t.type!="typing"){t.text=t.text.replace(/\n/g,"<br>")}else{t.text='<span class="callpy-message-typing"><span style="background-color: '+iowisp.invoker.site_info.font_color_message+'"></span><span style="background-color: '+iowisp.invoker.site_info.font_color_message+'"></span><span style="background-color: '+iowisp.invoker.site_info.font_color_message+'"></span></span> '+"Консультант пишет"+"..."}f=e("<div/>",{html:"                                "+n+'                                <div class="callpy_message_name"'+(t.from==0?' style="color: #'+iowisp.invoker.site_info.message_color_self+'"':' style="color: #'+iowisp.invoker.site_info.message_color+'"')+">"+(t.from==0?s:t.name)+'</div>                                <div class="callpy_message_time"'+(t.from==0?' style="color: #'+iowisp.invoker.site_info.message_color_self+'"':' style="color: #'+iowisp.invoker.site_info.message_color+'"')+">"+t.time+'</div>                                <div class="callpy_message_text"'+(t.from==0?' style="background-color: #'+iowisp.invoker.site_info.message_color_self+'"':' style="background-color: #'+iowisp.invoker.site_info.message_color+'"')+"><p"+(t.from==0?' style="color: #'+iowisp.invoker.site_info.font_color_message_self+'"':' style="color: #'+iowisp.invoker.site_info.font_color_message+'"')+">"+t.text+'</p><div class="callpy_message_text_corner"'+(t.from==0?' style="background-color: #'+iowisp.invoker.site_info.message_color_self+'"':' style="background-color: #'+iowisp.invoker.site_info.message_color+'"')+'></div></div>                                <div class="callpy_message_sysbox"></div>                            ',css:q}).addClass(r);return f},add:function(q){var t=e.extend({text:false,id:false,time:false,from:0,animate:500,type:"default",mass:false,name:false,auto:false,read:false},q);e.callpy_settings("_isActive");if(l&&t.type!="typing"&&t.from==1){g("clearTyping")}var r=false;var n=e("#callpy_box_for_message > div").last();if(n.last().length>0&&t.type!="typing"){if(!n.hasClass("callpy_chat_welcome_message_wrapper")&&!n.hasClass("callpy_chat_system_message")){if(n.hasClass("callpy_message_self")&&t.from==0){r=true}else{if(!n.hasClass("callpy_message_self")&&t.from==1){r=true}}}}if(r){var s=e("<p/>",{html:t.text.replace(/\n/g,"<br>"),css:{color:(t.from==0?"#"+iowisp.invoker.site_info.font_color_message_self:"#"+iowisp.invoker.site_info.font_color_message)}});n.find(".callpy_message_text").append(s.addClass("callpy_new_message"));e.callpy_chat("_scroll").params.root.scrollTop(e.callpy_chat("_scroll").params.root.get(0).scrollHeight);s.removeClass("callpy_new_message")}else{if(!r){if(l&&t.from==1){return}if(t.type=="typing"){l=true;t.from=1}if(l&&t.from==0){e(g("_createMessage",{text:t.text,from:t.from,time:t.time,name:t.name,type:t.type})).insertBefore(e("#callpy_box_for_message > div").last())}else{e(c.message_box).append(g("_createMessage",{text:t.text,from:t.from,time:t.time,name:t.name,type:t.type}))}e.callpy_chat("_scroll").params.root.scrollTop(e.callpy_chat("_scroll").params.root.get(0).scrollHeight);f.removeClass("callpy_new_message")}}if(!t.mass){if(t.from==1){if(!e.callpy_status("api").visible){if(!e.callpy_status("api").mobile){e.callpy_chat("show")}else{e.callpy_chat("mobileCount")}}e.callpy_notification()}if(!l){if(t.from==1&&!t.auto){iowisp.lycan.night()}else{iowisp.lycan.night(true)}}}else{if(t.from==1&&t.read==0){m++;if(!e.callpy_status("api").visible){if(!e.callpy_status("api").mobile&&!j){j=true;setTimeout(function(){e.callpy_chat("show");j=false},1000)}else{e.callpy_chat("mobileCount")}}e(".callpy_offline_tabs_count").html(m).show();e.callpy_notification()}}},_notReadCount:function(n){if(n){m=0}return m},clearTyping:function(){if(l){e("#callpy_box_for_message > div").each(function(){var o=e(this);var n=o.find(".callpy-message-typing");if(n.length>0){o.remove()}});l=false}}}})(jQuery1,window,undefined);(function(a){a.fn.customSelectMenu=function(b){var d=a.extend({menuClass:"custom-select-menu",openedClass:"opened",selectedClass:"selected",selectionMadeClass:"selection-made"},b);function c(h){var f=h.parent().attr("data-select-name"),e=h.attr("data-option-value"),i=h.text(),g=a('input[name="'+f+'"]');h.parent().find("."+d.selectedClass).removeClass(d.selectedClass);h.addClass(d.selectedClass);g.val(e);h.parent().parent().find("label").text(i);if(g.val()!==""){h.parent().parent().find("label").addClass(d.selectionMadeClass)}else{h.parent().parent().find("label").removeClass(d.selectionMadeClass)}h.parent().hide();if(h.parent().css("display")!=="none"){h.parent().parent().find("label").toggleClass(d.openedClass)}else{h.parent().parent().find("label").removeClass(d.openedClass)}}return this.each(function(){var n=a(this),i=n.attr("name"),h=n.attr("id"),o,e,f,k,j,m,l,g;n.hide();e=a('<div class="'+d.menuClass+'">').attr("tabindex",0);if(h){e.attr("id",h);n.removeAttr("id")}o=a('<input type="hidden" name="'+i+'" value="" />');if(n.find(":selected")){l=n.find(":selected");g=l.attr("value");k=l.text();if(!g){f=a("<label>"+k+"</label>")}else{f=a('<label class="'+d.selectionMadeClass+'">'+k+"</label>");o.val(g)}}else{k=n.find(":first").text();f=a("<label>"+k+"</label>")}j=a('<ul data-select-name="'+i+'">').hide();n.after(e.append(f,j,o));n.find("option").each(function(){var p=a(this).text(),r=a(this).attr("value"),q=(p===k)?' class="'+d.selectedClass+'"':"";if(!r){m=a("<li"+q+">"+p+"</li>")}else{m=a('<li data-option-value="'+r+'"'+q+">"+p+"</li>")}j.append(m)});e.on("click",function(p){var q=a(p.target);if(q.is("label")){f.toggleClass(d.openedClass);f.parent().find("ul").toggle()}if(q.is("li")){c(q)}});e.on("keyup",function(s){if(s.keyCode===38||s.keyCode===40){a(this).find(f).addClass(d.openedClass);a(this).find(j).show()}var p=a(this).find("li"),q=a(this).find("."+d.selectedClass),r="",t="";if(s.keyCode===40){q.removeClass(d.selectedClass);r=q.next();if(r.length>0){r.addClass(d.selectedClass)}else{p.first().addClass(d.selectedClass)}}if(s.keyCode===38){q.removeClass(d.selectedClass);t=q.prev();if(t.length>0){t.addClass(d.selectedClass)}else{p.last().addClass(d.selectedClass)}}if(s.keyCode===13){c(a(this).find("."+d.selectedClass))}});e.on("blur",function(){if(a(this).find(j).is(":visible")){a(this).find(f).removeClass(d.openedClass);a(this).find(j).hide()}});a("html").on("keyup",function(p){if(p.keyCode===27){f.removeClass(d.openedClass);j.hide()}});a("html").on("mousedown",function(p){var q=a(p.target);if(!q.parents().addBack().is("."+d.menuClass+" ul, ."+d.menuClass+" label")){a("."+d.menuClass+" label").removeClass(d.openedClass);a("."+d.menuClass+" ul").hide()}})})}})(jQuery1);(function(e,h,b){e.callpy_forms=function(k){if(a[k]){return a[k].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof k==="object"||!k){return a._init.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+k+" не существует для "+d)}}};var d="$.callpy_forms",f=e.callpy_forms;var g=h,i=g.document,c={callpy_forms:".callpy_client_chat_wrapper",callpy_wrapper:"#callpy_wrapper",label_wrapper:".callpy_label_wrapper",callpy_cancel_social:"#callpy_cancel_social",callpy_accept_social:"#callpy_accept_social",callpy_social_name:"#callpy_social_name",callpy_social_picture:"#callpy_social_picture",callpy_cancel_formData:"#callpy_cancel_formData",callpy_accept_formData:"#callpy_accept_formData",callpy_forms_user_button:"#callpy_forms_user_button",callpy_userData_form:"#callpy_userData_form",callpy_userData_title:"#callpy_userData_title",callpy_userData_input_name:"#callpy_userData_input_name",callpy_userData_input_email:"#callpy_userData_input_email",callpy_userData_input_phone:"#callpy_userData_input_phone",callpy_forms_user_button_cancel:"#callpy_forms_user_button_cancel"},j=false;var a={_init:function(){},_events:function(){e(c.callpy_cancel_social).on("click",function(){f("_social_hide");e(c.callpy_userData_title).html("Хотите представиться?");f("_userData_show");localStorage.setItem("callpy_social","0")});e(c.callpy_accept_social).on("click",function(){f("_social_hide");e(c.callpy_userData_title).html("Дополните свои контакты");e(c.callpy_userData_input_name).val(iowisp.invoker.clientInfo.userData.first_name);if(iowisp.invoker.clientInfo.userData.mobile_phone!==""){e(c.callpy_userData_input_phone).val(iowisp.invoker.clientInfo.userData.mobile_phone)}f("_userData_show");localStorage.setItem("callpy_social","1")});e(c.callpy_forms_user_button).on("click",function(){f("_userData_show");f("_button_inactive")});e(c.callpy_cancel_formData).on("click",function(){f("_userData_hide");localStorage.setItem("callpy_contactForm","0")});e(c.callpy_userData_form).on("submit",function(){localStorage.setItem("callpy_contactForm","1");e.post(callpy_path+"/d/",{action:"addFormData",site_id:iowisp.invoker.site_id,site:iowisp.invoker.site,key:iowisp.invoker.key,channel:iowisp.invoker.channel,formType:"contactForm",data:{name:e(c.callpy_userData_input_name).val(),phone:e(c.callpy_userData_input_phone).val(),email:e(c.callpy_userData_input_email).val()}},function(){iowisp.wisp.formData({formType:"contactForm",data:{name:e(c.callpy_userData_input_name).val(),phone:e(c.callpy_userData_input_phone).val(),email:e(c.callpy_userData_input_email).val()}});f("_userData_hide");f("_button_inactive");f("_social_hide")});return false});e(c.callpy_forms_user_button_cancel).on("click",function(){f("_button_inactive")})},_social_show:function(k){var m=$jcallpy.extend({},k);if(parseInt(iowisp.invoker.site_info.askUserVk)==1){if(!e(c.callpy_forms).hasClass("callpy_userData_show")){if(iowisp.invoker.clientInfo.userData){var l=iowisp.invoker.clientInfo.userData;e(c.callpy_social_name).html(l.first_name+" "+l.last_name);e(c.callpy_social_picture).css("background-image","url("+l.photo+")");e.callpy_status("set","social_show")}}else{j=true}}},_social_hide:function(){e.callpy_status("set","social_hide")},_button_active:function(){if(parseInt(iowisp.invoker.site_info.contactForm)==1){e(".callpy_chat_wrapper2").addClass("callpy_userdata_active")}},_button_inactive:function(){e(".callpy_chat_wrapper2").removeClass("callpy_userdata_active")},_userData_show:function(){if(parseInt(iowisp.invoker.site_info.contactForm)==1){e.callpy_status("set","userdata_show")}},_userData_hide:function(){e.callpy_status("set","userdata_hide");f("_button_inactive");if(j&&!iowisp.invoker.clientInfo.userData){f("_social_show")}}}})(jQuery1,window,undefined);(function(e,h,b){e.callpy_settings=function(k){if(a[k]){return a[k].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof k==="object"||!k){return a._init.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+k+" не существует для "+d)}}};function j(q){var k=parseInt(q.substring(0,2),16)/255,o=parseInt(q.substring(2,4),16)/255,s=parseInt(q.substring(4,6),16)/255;var t=Math.max(k,o,s),m=Math.min(k,o,s);var p,n,l;if(t==m){p=0}else{if(k==t&&o>=s){p=Math.round(60*((o-s)/(t-m)))}else{if(k==t&&o<s){p=Math.round(60*((o-s)/(t-m))+360)}else{if(o==t){p=Math.round(60*((s-k)/(t-m))+120)}else{if(s==t){p=Math.round(60*((k-o)/(t-m))+240)}}}}}n=t==0?0:Math.round(100*(1-m/t));l=Math.round(100*t);return{hue:p,saturation:n,brightness:l}}var d="$.callpy_settings",f=e.callpy_settings;var g=h,i=g.document,c={callpy_wrapper:"#callpy_wrapper",label_wrapper:".callpy_label_wrapper"};var a={_init:function(){console.log("%c"+d+" inited","color: white; background: blue; font-weight: bold;")},_isActive:function(){if(document.visibilityState=="visible"){e(c.callpy_wrapper).removeClass("callpy_no_animation");return true}else{e(c.callpy_wrapper).addClass("callpy_no_animation");return false}},set:function(w){var l=w,u=false;if(l instanceof Array){var n;for(var p=0;p<l.length;p++){for(var m in l[p]){n={};n[m]=l[p][m];f("set",n)}}return}if(typeof l=="object"){for(var v in l){switch(v){case"status":if(parseInt(l[v])==0){e.callpy_status("set","callpy_off")}else{e.callpy_status("set","callpy_on");e.callpy_consultant("set")}u=true;break;case"offline_field_email":break;case"offline_field_name":break;case"offline_field_phone":break;case"offline_name":e(".callpy_client_chat_title div").eq(0).html(l[v]);break;case"offline_text":e(".callpy_client_chat_title div").eq(1).html(iowisp.wisp.replacePatterns(l[v]));break;case"audio_chat":if(parseInt(l[v])==0||parseInt(iowisp.invoker.site_info.blocked)==1||parseInt(iowisp.invoker.site_info.blocked)==2){e.callpy_status("set","audio_off")}else{e.callpy_status("set","audio_on")}u=true;break;case"lable_avatars":if(parseInt(l[v])==0){e.callpy_status("set","avatar_off")}else{e.callpy_status("set","avatar_on")}u=true;break;case"video_chat":break;case"offline_lbl":if(!iowisp.invoker.peer_key){e.callpy_consultant("set")}break;case"lbl_color":e(".callpy_client_chat_messages").css("borderColor","hsl("+j(l[v]).hue+", "+j(l[v]).saturation+"%, "+Math.max(j(l[v]).brightness-20,0)+"%)");e("#callpy_chat_input_box").css("borderColor","hsl("+j(l[v]).hue+", "+j(l[v]).saturation+"%, "+Math.max(j(l[v]).brightness-20,0)+"%)");e(".callpy_client_remote_accept_wrapper").css("background-color","#"+l[v]);e(".callpy_chat_wrapper2").css({"border-color":"#"+l[v],"background-color":"#"+l[v]});if(l[v]=="ffffff"){e(".callpy_manager_icon > div > span").css("color","#6b6b6b")}else{e(".callpy_manager_icon > div > span").css("color","#"+l[v])}e(".callpy_offline_body_choose i, .callpy_offline_body_name i, .callpy_offline_body_icon i, .callpy_offline_body_two_input i").css("color","hsl("+j(l[v]).hue+", "+j(l[v]).saturation+"%, "+Math.max(j(l[v]).brightness-50,0)+"%)");break;case"label_color":e(".callpy_label_body").css("background-color","#"+l[v]);e(".callpy_mobile_wrapper").css("color","#"+l[v]);if(l[v]=="ffffff"){e(".callpy_label_avatar > div > span").css("color","#6b6b6b")}else{e(".callpy_label_avatar > div > span").css("color","#"+l[v])}e(".callpy_label_corner_circle").css("box-shadow","0 0 0 20px #"+l[v]+", 1px 0 1px 0 rgba(0, 0, 0, 0.2) inset");break;case"message_color":e(".callpy_message_text").each(function(){if(!e(this).parent().hasClass("callpy_message_self")){e(this).css({backgroundColor:"#"+l[v]}).find(".callpy_message_text_corner").css("background-color","#"+l[v])}});e(".callpy_message_name").each(function(){if(!e(this).parent().hasClass("callpy_message_self")){e(this).css({color:"#"+l[v]})}});e(".callpy_message_time").each(function(){if(!e(this).parent().hasClass("callpy_message_self")){e(this).css({color:"#"+l[v]})}});e(".callpy_send_message_button").css("color","#"+l[v]);break;case"message_color_self":e(".callpy_message_text").each(function(){if(e(this).parent().hasClass("callpy_message_self")){e(this).css({backgroundColor:"#"+l[v]}).find(".callpy_message_text_corner").css("background-color","#"+l[v])}});e(".callpy_message_name").each(function(){if(e(this).parent().hasClass("callpy_message_self")){e(this).css({color:"#"+l[v]})}});e(".callpy_message_time").each(function(){if(e(this).parent().hasClass("callpy_message_self")){e(this).css({color:"#"+l[v]})}});e(".callpy_send_message_button").css("color","#"+l[v]);break;case"font_color_message":e(".callpy_message_text").each(function(){var o=e(this);if(!o.parent().hasClass("callpy_message_self")){o.find("p").css("color","#"+l[v])}});break;case"font_color_message_self":e(".callpy_message_text").each(function(){var o=e(this);if(o.parent().hasClass("callpy_message_self")){o.find("p").css("color","#"+l[v])}});break;case"font_color":e(".callpy_client_chat_copyright a, .callpy_chat_wrapper2").css("color","#"+l[v]);e(c.callpy_wrapper).removeClass("callpy_white_font").removeClass("callpy_black_font");e("#callpy_client_chat_menu_button_svg").css("fill","#"+w[v]);break;case"font_label_color":e(".callpy_label_body_title, .callpy_label_body_descr, .callpy_label_body_copy a").css("color","#"+l[v]);if(l[v]=="6b6b6b"){e(c.callpy_wrapper).removeClass("callpy_label_white_font").addClass("callpy_label_black_font")}else{e(c.callpy_wrapper).removeClass("callpy_label_black_font").addClass("callpy_label_white_font")}break;case"lbl_position":if(e.callpy_flat("config").label_position){var r,k;switch(parseInt(iowisp.invoker.site_info.lbl_edge)){case 0:r="callpy_label_wrapper_left";k="top";break;case 1:r="callpy_label_wrapper_bottom";k="left";break;case 2:r="callpy_label_wrapper_right";k="top";break}if(k=="top"){e(c.label_wrapper).css({left:"",marginLeft:"",top:l[v]+"%",marginTop:"-"+(parseFloat(l[v])*4)+"px"})}else{if(k=="left"){e(c.label_wrapper).css({top:"",marginTop:"",left:l[v]+"%",marginLeft:"-"+(parseFloat(l[v])*4)+"px"})}}}break;case"lbl_edge":if(e.callpy_flat("config").label_position){var t,s=parseInt(iowisp.invoker.site_info.lbl_edge);switch(s){case 0:t="callpy_label_wrapper_left";break;case 1:t="callpy_label_wrapper_bottom";break;case 2:t="callpy_label_wrapper_right";break}e(c.label_wrapper).removeClass("callpy_label_wrapper_left callpy_label_wrapper_bottom callpy_label_wrapper_right").addClass(t);e(c.callpy_wrapper).removeClass("callpy_label_wrapper_left callpy_label_wrapper_bottom callpy_label_wrapper_right").addClass(t);f("set",{lbl_position:iowisp.invoker.site_info.lbl_position})}break;case"chat_bottext":e(".callpy_client_chat_title div").eq(1).html(iowisp.wisp.replacePatterns(l[v]));break;case"chat_toptext":e(".callpy_client_chat_title div").eq(0).html(iowisp.wisp.replacePatterns(l[v]));e(".callpy_client_remote_title").html(iowisp.wisp.replacePatterns("%name%"));break;case"label_toptext":if(iowisp.invoker.peer_key){e(".callpy_label_body_title").html(iowisp.wisp.replacePatterns(l[v]))}break;case"offline_lbl_toptext":e(".callpy_label_body_title").html(iowisp.wisp.replacePatterns(l[v]));break;case"label_bottext":if(iowisp.invoker.peer_key){e(".callpy_label_body_descr").html(iowisp.wisp.replacePatterns(l[v]))}break;case"offline_lbl_bottext":e(".callpy_label_body_descr").html(iowisp.wisp.replacePatterns(l[v]));break;case"blocked":break;default:break}}try{e.callpy_settings_self("set",w)}catch(q){}if(!u){iowisp.lycan.night()}}}}})(jQuery1,window,undefined);(function(f,e,g){f.callpy_notification=function(i){if(a[i]){return a[i].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof i==="object"||!i){return a.show.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+i+" не существует для "+d)}}};var d="$.callpy_notification",h=f.callpy_notification,c,b=false;var a={_init:function(){},_visibility:function(){var j,i;if(typeof document.hidden!=="undefined"){j="hidden";i="visibilitychange"}else{if(typeof document.mozHidden!=="undefined"){j="mozHidden";i="mozvisibilitychange"}else{if(typeof document.webkitHidden!=="undefined"){j="webkitHidden";i="webkitvisibilitychange"}}}return{visibilityChange:i,hidden:j}},show:function(i){var j=$jcallpy.extend({type:"message"},i);if(j.type=="message"){if(document[h("_visibility").hidden]){document.getElementById("callpy_sound_new_message").play();if(document.title&&!b){c=document.title;b=setInterval(function(){if(document.title==c){document.title="Новое сообщение! - "+c}else{document.title=c}},1000);document.addEventListener(h("_visibility").visibilityChange,function(){clearInterval(b);b=false;document.title=c},false)}}else{document.getElementById("callpy_sound_new_message_loud").play()}}}};h("_init")})(jQuery1,window,undefined);(function(d,c,e){d.callpy_departments=function(g){if(a[g]){return a[g].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof g==="object"||!g){return a._init.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+g+" не существует для "+b)}}};var b="$.callpy_departments",f=d.callpy_departments;var a={_init:function(){console.log(b+" inited.");f("_create_select")},_events:function(){d("#callpy_departments_form").on("submit",function(){var h=d(this);var g={};h.find("input").each(function(k,j){g[d(j).data("callpy-departments-input-id")]=d(j).val()});d.post(kunnka.bloodseeker+"/d/",{action:"addFormData",site_id:iowisp.invoker.site_id,key:iowisp.invoker.key,channel:iowisp.invoker.channel,site:iowisp.invoker.site,formType:"departmentForm",data:g},function(){iowisp.wisp.formData({formType:"departmentForm",data:g});d(".callpy_client_chat_wrapper").removeClass("callpy_departmentsForm_show");iowisp.lycan.night(true)});return false});d("#callpy_cancel_departments").on("click",function(){d(".callpy_client_chat_wrapper").removeClass("callpy_departmentsForm_show");iowisp.lycan.night(true)});d(document).on("click",".callpy_departments_choose_link",function(){d.callpy_departments("_change_department",d(this).data("department-id"));if(d("#callpy_client_chat_departments_ul_li"+d(this).data("department-id")).is(":empty")){d.callpy_status("set","departments_empty_show",true)}d.callpy_status("set","departments_hide",true)})},_isForm:function(){if(iowisp.invoker.type==5){return false}var h=iowisp.invoker.site_info.departments,g;if(!iowisp.invoker.department_id||parseInt(h[iowisp.invoker.department_id].form_id)==0){g=false}else{if(!iowisp.invoker.clientInfo.formData||!iowisp.invoker.clientInfo.formData.departmentForm||!iowisp.invoker.clientInfo.formData.departmentForm[iowisp.invoker.department_id]){g=true}else{g=false}}return g},_change_department:function(h){if(h){var g=iowisp.invoker.site_info.departments;d.post(kunnka.bloodseeker+"/d/",{action:"change_department",site_url:iowisp.invoker.site,user:iowisp.invoker.key,department_id:h,channel:iowisp.invoker.channel},function(i){d.callpy_message("_addSys",{type:"change_department",text:"Изменен отдел"})});iowisp.invoker.department_id=h;iowisp.lycan.cripping();iowisp.lycan.saveSyncData(true);f("_set_select_department")}},_set_select_department:function(){var g=d(".callpy_departaments_select");if(g.length){g.val(iowisp.invoker.department_id)}},_create_form:function(){if(parseInt(iowisp.invoker.site_info.blocked)==0){var g=iowisp.invoker.site_info.departments[iowisp.invoker.department_id].fields,j;d("#callpy_departments_form_inputs").html("");for(var h=0;h<g.length;h++){if(parseInt(g[h].required)==1){d("<div/>",{html:'<input required type="text" placeholder="'+g[h].name+'" value="" name="data-callpy-departments-input-id-'+g[h].id+'" data-callpy-departments-input-id="'+g[h].id+'">'}).appendTo("#callpy_departments_form_inputs")}else{d("<div/>",{html:'<input type="text" placeholder="'+g[h].name+'" value="" name="data-callpy-departments-input-id-'+g[h].id+'" data-callpy-departments-input-id="'+g[h].id+'">'}).appendTo("#callpy_departments_form_inputs")}}d("#callpy_departments_title").html(iowisp.invoker.site_info.departments[iowisp.invoker.department_id].form_name);d(".callpy_client_chat_wrapper").addClass("callpy_departmentsForm_show");iowisp.lycan.night(true)}},_create_select:function(){var m=iowisp.invoker.site_info.departments;var g=d("#callpy_client_chat_departments_ul");g.empty();for(var j in m){if(m[j].hidden==0){d("<li/>",{html:'                        <div class="callpy_department_title">'+m[j].name+'</div>                        <div class="callpy_department_managers_list">                            <ul id="callpy_client_chat_departments_ul_li'+j+'" class="callpy_department_managers_list_ul"></ul>                            <div class="callpy_department_managers_list_empty">'+"Нет консультантов"+'</div>                        </div>                        <div class="callpy_department_button">                            <a href="javascript://" class="callpy_departments_choose_link" data-department-id="'+j+'">'+"Выбрать"+"</a></div>"}).appendTo(g)}}if(iowisp.invoker.type!=5){var l=iowisp.earthshaker;for(var k in l){if(!l[k]){continue}for(var h=0;h<l[k].departments.length;h++){d("#callpy_client_chat_departments_ul_li"+l[k].departments[h]).append(d("<li/>",{html:'<img alt="'+l[k].name+'" src="'+callpy_path+"images/avatar/"+l[k].avatar+'.jpg">'}))}}}},select:function(){}}})(jQuery1,window,undefined);(function(e,h,b){e.callpy_consultant=function(j){if(a[j]){return a[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return a._init.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+j+" не существует для "+d)}}};var d="$.callpy_consultant",f=e.callpy_consultant;var g=h,i=g.document,c={callpy_wrapper:"#callpy_wrapper"};var a={_init:function(){console.log("%c"+d+" inited","color: white; background: blue; font-weight: bold;")},set:function(j){var o=e.callpy_chat("chat").label.root,r=e.callpy_chat("chat").root,m=iowisp.invoker.site_info,q=e("#callpy_offline_form"),k=e(".callpy_client_chat_messages"),p=e(".callpy_message_wrapper"),l=e("#callpy_offline_chat_box");if(!iowisp.invoker.peer_key||j){if((parseInt(m.offline_lbl)!==0&&parseInt(m.status)!==0)||j){e.callpy_status("set","callpy_on");e.callpy_settings("set",[{offline_lbl_bottext:iowisp.invoker.site_info.offline_lbl_bottext},{offline_lbl_toptext:iowisp.invoker.site_info.offline_lbl_toptext},{offline_text:iowisp.invoker.site_info.offline_text},{offline_name:iowisp.invoker.site_info.offline_name}]);if(iowisp.invoker.site_info.chat_type=="brand"&&parseInt(iowisp.invoker.site_info.logo_switch)==1){e(".callpy_label_avatar").html('<img alt="" src="'+kunnka.bloodseeker+"/images/chat/logo/"+iowisp.invoker.site_info.logo+'" />')}else{e(".callpy_label_avatar").html('<div><span style="color: #'+iowisp.invoker.site_info.label_color+';">b</span></div>')}p.appendTo(l);e.callpy_chat("_scroll").update();e.callpy_status("set","offline_on");e.callpy_chat("_offline_resize")}else{e.callpy_status("set","offline_off");e.callpy_status("set","callpy_off")}}else{p.appendTo(k);if(e.callpy_chat("_scroll")){e.callpy_chat("_scroll").update();e.callpy_chat("_scroll").params.root.scrollTop(e.callpy_chat("_scroll").params.root.get(0).scrollHeight)}e.callpy_status("set","callpy_on");e.callpy_settings("set",[{chat_bottext:iowisp.invoker.site_info.chat_bottext},{chat_toptext:iowisp.invoker.site_info.chat_toptext},{label_toptext:iowisp.invoker.site_info.label_toptext},{label_bottext:iowisp.invoker.site_info.label_bottext}]);if(iowisp.earthshaker[iowisp.invoker.peer_key].avatar!==""){var n='<div style="background-image: url('+kunnka.bloodseeker+"/images/avatar/"+iowisp.earthshaker[iowisp.invoker.peer_key].avatar+'.jpg)"></div>';e(".callpy_label_avatar").html(n);r.find(".callpy_manager_icon").html(n)}else{e(".callpy_label_avatar").html('<div><span style="color: #'+iowisp.invoker.site_info.label_color+';">b</span></div>');r.find(".callpy_manager_icon").html('<div><span style="color: #'+iowisp.invoker.site_info.label_color+';">b</span></div>')}e.callpy_settings("set",{logo:iowisp.invoker.site_info.logo});e.callpy_status("set","offline_off");if(e.callpy_departments("_isForm")){e.callpy_departments("_create_form")}else{e(".callpy_client_chat_wrapper").removeClass("callpy_departmentsForm_show")}e.callpy_chat("_offline_resize");e.callpy_flat("_welcome_message")}iowisp.m_chat.setUtm()}}})(jQuery1,window,undefined);window.ModernizrCallpy=function(aj,ai,ah){function H(b){aa.cssText=b}function G(d,c){return H(prefixes.join(d+";")+(c||""))}function F(d,c){return typeof d===c}function U(d,c){return !!~(""+d).indexOf(c)}function S(f,c){for(var h in f){var g=f[h];if(!U(g,"-")&&aa[g]!==ah){return c=="pfx"?g:!0}}return !1}function Q(g,c,j){for(var i in g){var h=c[g[i]];if(h!==ah){return j===!1?g[i]:F(h,"function")?h.bind(j||c):h}}return !1}function O(g,f,j){var i=g.charAt(0).toUpperCase()+g.slice(1),h=(g+" "+W.join(i+" ")+i).split(" ");return F(f,"string")||F(f,"undefined")?S(h,f):(h=(g+" "+V.join(i+" ")+i).split(" "),Q(h,f,j))}var ag="2.8.3",af={},ae=!0,ad=ai.documentElement,ac="modernizr",ab=ai.createElement(ac),aa=ab.style,Z,Y={}.toString,X="Webkit Moz O ms",W=X.split(" "),V=X.toLowerCase().split(" "),T={},R={},P={},N=[],M=N.slice,K,J={}.hasOwnProperty,I;!F(J,"undefined")&&!F(J.call,"undefined")?I=function(d,c){return J.call(d,c)}:I=function(d,c){return c in d&&F(d.constructor.prototype[c],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;if(typeof h!="function"){throw new TypeError}var g=M.call(arguments,1),f=function(){if(this instanceof f){var b=function(){};b.prototype=h.prototype;var d=new b,c=h.apply(d,g.concat(M.call(arguments)));return Object(c)===c?c:d}return h.apply(a,g.concat(M.call(arguments)))};return f}),T.cssanimations=function(){return O("animationName")};for(var L in T){I(T,L)&&(K=L.toLowerCase(),af[K]=T[L](),N.push((af[K]?"":"no-")+K))}return af.addTest=function(e,c){if(typeof e=="object"){for(var f in e){I(e,f)&&af.addTest(f,e[f])}}else{e=e.toLowerCase();if(af[e]!==ah){return af}c=typeof c=="function"?c():c,typeof ae!="undefined"&&ae&&(ad.className+=" "+(c?"":"no-")+e),af[e]=c}return af},H(""),ab=Z=null,function(aq,ap){function A(f,e){var h=f.createElement("p"),g=f.getElementsByTagName("head")[0]||f.documentElement;return h.innerHTML="x<style>"+e+"</style>",g.insertBefore(h.lastChild,g.firstChild)}function z(){var b=t.elements;return typeof b=="string"?b.split(" "):b}function y(d){var c=C[d[E]];return c||(c={},D++,d[E]=D,C[D]=c),c}function x(b,h,f){h||(h=ap);if(B){return h.createElement(b)}f||(f=y(h));var e;return f.cache[b]?e=f.cache[b].cloneNode():al.test(b)?e=(f.cache[b]=f.createElem(b)).cloneNode():e=f.createElem(b),e.canHaveChildren&&!am.test(b)&&!e.tagUrn?f.frag.appendChild(e):e}function w(b,l){b||(b=ap);if(B){return b.createDocumentFragment()}l=l||y(b);var k=l.frag.cloneNode(),j=0,i=z(),h=i.length;for(;j<h;j++){k.createElement(i[j])}return k}function v(d,c){c.cache||(c.cache={},c.createElem=d.createElement,c.createFrag=d.createDocumentFragment,c.frag=c.createFrag()),d.createElement=function(a){return t.shivMethods?x(a,d,c):c.createElem(a)},d.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+z().join().replace(/[\w\-]+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(t,c.frag)}function u(b){b||(b=ap);var d=y(b);return t.shivCSS&&!ak&&!d.hasCSS&&(d.hasCSS=!!A(b,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),B||v(b,d),b}var ao="3.7.0",an=aq.html5||{},am=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,al=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,ak,E="_html5shiv",D=0,C={},B;(function(){try{var b=ap.createElement("a");b.innerHTML="<xyz></xyz>",ak="hidden" in b,B=b.childNodes.length==1||function(){ap.createElement("a");var c=ap.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()}catch(d){ak=!0,B=!0}})();var t={elements:an.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:ao,shivCSS:an.shivCSS!==!1,supportsUnknownElements:B,shivMethods:an.shivMethods!==!1,type:"default",shivDocument:u,createElement:x,createDocumentFragment:w};aq.html5=t,u(ap)}(this,ai),af._version=ag,af._domPrefixes=V,af._cssomPrefixes=W,af.testProp=function(b){return S([b])},af.testAllProps=O,af.prefixed=function(e,d,f){return d?O(e,d,f):O(e,"pfx")},ad.className=ad.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(ae?" js "+N.join(" "):""),af}(this,this.document),function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)}function Z(b){return"string"==typeof b}function Y(){}function X(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b}function W(){var b=O.shift();M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),W()):M=0}function V(w,v,t,s,q,p,n){function m(a){if(!g&&X(h.readyState)&&(x.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=w&&R(function(){I.removeChild(h)},50);for(var c in D[v]){D[v].hasOwnProperty(c)&&D[v][c].onload()}}}var n=n||L.errorTimeout,h=ac.createElement(w),g=0,b=0,x={t:t,s:v,e:q,a:p,x:n};1===D[v]&&(b=1,D[v]=[]),"object"==w?h.data=v:(h.src=v,h.type=w),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)},O.splice(s,0,x),"img"!=w&&(b||2===D[v]?(I.insertBefore(h,J?null:Q),R(m,n)):D[v].push(h))}function U(g,e,j,i,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,j,i,h):(O.splice(this.i++,0,g),1==O.length&&W()),this}function T(){var b=L;return b.loader={load:U,i:0},b}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d}},N,L;L=function(e){function c(i){var i=i.split("!"),h=E.length,q=i.pop(),p=i.length,q={url:q,origUrl:q,prefixes:i},o,l,j;for(l=0;l<p;l++){j=i[l].split("="),(o=C[j.shift()])&&(q=o(q,j))}for(l=0;l<h;l++){q=E[l](q)}return q}function n(b,s,r,q,p){var o=c(b),l=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(s&&(s=aa(s)?s:s[b]||s[q]||s[b.split("/").pop().split("?")[0]]),o.instead?o.instead(b,s,r,q,p):(D[o.url]?o.noexec=!0:D[o.url]=1,r.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":ab,o.noexec,o.attrs,o.timeout),(aa(s)||aa(l))&&r.load(function(){T(),s&&s(o.origUrl,p,q),l&&l(o.origUrl,p,q),D[o.url]=2})))}function m(w,v){function u(b,h){if(b){if(Z(b)){h||(r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}),n(b,r,v,0,t)}else{if(Object(b)===b){for(g in o=function(){var a=0,i;for(i in b){b.hasOwnProperty(i)&&a++}return a}(),b){b.hasOwnProperty(g)&&(!h&&!--o&&(aa(r)?r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}:r[g]=function(i){return function(){var a=[].slice.call(arguments);i&&i.apply(this,a),p()}}(q[g])),n(b[g],r,v,g,t))}}}}else{!h&&p()}}var t=!!w.test,s=w.load||w.both,r=w.callback||Y,q=r,p=w.complete||Y,o,g;u(t?w.yep:w.nope,!!s),s&&u(s)}var k,f,d=this.yepnope.loader;if(Z(e)){n(e,0,d,0)}else{if(F(e)){for(k=0;k<e.length;k++){f=e[k],Z(f)?n(f,0,d,0):F(f)?L(f):Object(f)===f&&m(f,d)}}else{Object(e)===e&&m(e,d)}}},L.addPrefix=function(d,c){C[d]=c},L.addFilter=function(b){E.push(b)},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(r,q,p,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;g.src=r;for(b in p){g.setAttribute(b,p[b])}q=h?W:q||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,q(),g.onload=g.onreadystatechange=null)},R(function(){f||(f=1,q(1))},n),m?g.onload():Q.parentNode.insertBefore(g,Q)},ad.yepnope.injectCss=function(b,n,m,l,k,h){var l=ac.createElement("link"),f,n=h?W:n||Y;l.href=b,l.rel="stylesheet",l.type="text/css";for(f in m){l.setAttribute(f,m[f])}k||(Q.parentNode.insertBefore(l,Q),R(n,0))}}(this,document),ModernizrCallpy.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};(function(e,h,b){e.callpy_contact=function(j){if(a[j]){return a[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return a._init.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+j+" не существует для "+d)}}};var d="$.callpy_contact",f=e.callpy_contact;var g=h,i=g.document,c={callpy_wrapper:"#callpy_wrapper",label_wrapper:".callpy_label_wrapper"};var a={_init:function(){},show:function(){},hide:function(){}}})(jQuery1,window,undefined);(function(e,h,b){e.callpy_call=function(j){if(a[j]){return a[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return a._init.apply(this,arguments)}else{$jcallpy.error("Метод с именем "+j+" не существует для "+d)}}};var d="$.callpy_call",f=e.callpy_call;var g=h,i=g.document,c={callpy_wrapper:"#callpy_wrapper"};var a={_init:function(){},_createIframe:function(){var j=i.createElement("iframe");j.id="callpy_iframeid";j.style.position="fixed";j.style.left="-9999px";i.body.appendChild(j);i.getElementById("callpy_iframeid").onload=function(){e("#callpy_iframeid").css({position:"fixed",top:0,left:0,bottom:0,right:0,border:0,width:"100%",height:"100%",zIndex:5000,visibility:"hidden",background:"#FFFFFF"});i.getElementById("callpy_iframeid").contentWindow.document.body.scrollTop=e(i.body).scrollTop();e(i.body).css("overflow","hidden");e("#callpy_iframeid").css({visibility:"visible"});i.getElementById("callpy_iframeid").contentWindow.iowisp.tusk.setInputs(iowisp.tusk.getInputs());i.getElementById("callpy_iframeid").onload=null;i.getElementById("callpy_iframeid").onload=function(){i.title=i.getElementById("callpy_iframeid").contentWindow.document.title;history.replaceState({foo:"bat"},i.getElementById("callpy_iframeid").contentWindow.document.title,i.getElementById("callpy_iframeid").contentWindow.location.href)}};j.contentWindow.location=g.location},_removeIframe:function(){var k=document.getElementById("callpy_iframeid").contentWindow.location;var j=document.getElementById("callpy_iframeid").contentWindow.iowisp.tusk.getInputs();if(j.inputs.length>0||j.textareas.length>0){localStorage.setItem("callpy_fields",JSON.stringify(j))}setTimeout(function(){document.location=k},300)}}})(jQuery1,window,undefined);(function(d,c,e){d.callpy_flat=function(h){if(a[h]){return a[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return a._init.apply(this,arguments)}}};var b="$.callpy_client_chat",g=d.callpy_flat;var f={resize:true,resize_c:"h",draggable:false,label_position:false};var a={config:function(){return f},_init:function(){var i={callpy_wrapper:"#callpy_wrapper",callpy_chat_wrapper:".callpy_chat_wrapper2",offline_button_next:"#callpy_offline_button_next_self",callpy_offline_form_name:"#callpy_offline_form_name_self",callpy_offline_textarea:"#callpy_offline_textarea_self",offline_form:"#callpy_offline_form_self",callpy_offline_form_button:"#callpy_offline_form_button_self",callpy_offline_button_close:"#callpy_offline_button_close_self",callpy_chat_offline:"#callpy_chat_offline",callpy_chat_history:"#callpy_chat_history",callpy_chat_side_resize:"#callpy_chat_side_resize"};var h;d.callpy_settings("set",{brand_switch:iowisp.invoker.site_info.brand_switch});d(i.callpy_chat_offline).on("click",function(){var s=d(this);if(!s.hasClass("callpy_active")){d("#callpy_client_offline_ul a").removeClass("callpy_active");s.addClass("callpy_active");d(i.callpy_wrapper).removeClass("callpy_status_show_offline_chat")}});d(i.callpy_chat_history).on("click",function(){var s=d(this);if(!s.hasClass("callpy_active")){d("#callpy_client_offline_ul a").removeClass("callpy_active");s.addClass("callpy_active");d(i.callpy_wrapper).addClass("callpy_status_show_offline_chat");iowisp.m_chat.setMessagesRead();d(".callpy_offline_tabs_count").hide();d.callpy_message("_notReadCount",true);d.callpy_chat("_scroll").params.root.scrollTop(d.callpy_chat("_scroll").params.root.get(0).scrollHeight)}});d(i.callpy_offline_button_close).on("click",function(){d(".callpy_offline_succes").hide();d(i.offline_form).removeClass("callpy_offline_step2").show()});d("#callpy_chat_input_box").keydown(function(s){if(s.keyCode===13&&s.ctrlKey){d(this).val(function(t,u){return u+"\n"});this.scrollTop=this.scrollHeight}}).keypress(function(u){if(u.keyCode===13&&!u.ctrlKey){var s=d(this);if(s.val().replace(/\n/g,"").replace(/ /g,"").length>0){clearTimeout(iowisp.tusk.inputTimer);iowisp.m_chat.reincarnation(s.val());d.callpy_message("add",{text:iowisp.urlHighlight(s.val()),from:0,time:new Date().getTime()});s.val("")}return false}});d(".callpy_client_chat_menu_draggble").on("mousedown",function(s){s=s||c.event;var x=document.querySelector(".callpy_chat_wrapper2");var E,D,v,u;E=x.offsetLeft;D=x.offsetTop;v=s.clientX;u=s.clientY;var B,t;var C=0;var z=20,F={};var A=document,y=A.documentElement.clientWidth,w=A.documentElement.clientHeight;d(document).on("mousemove.callpydrag_off",function(G){G=G||c.event;B=D+G.clientY-u;t=E+G.clientX-v;if(t<z){t=C}if(B<z){B=C}if(B+d(x).outerHeight()>w-z){B=w-d(x).outerHeight()}if(t+d(x).outerWidth()>y-z){t=y-d(x).outerWidth();x.style.removeProperty("width");d(x).removeClass("callpy_test_small")}else{d(x).addClass("callpy_test_small")}if(!d(x).hasClass("callpy_test_small")){B=0}x.style.removeProperty("left");x.style.removeProperty("top");x.style.removeProperty("margin-top");x.style.removeProperty("margin-left");x.style.setProperty("left",t+"px","important");x.style.setProperty("top",B+"px","important");F.x=((t/(y-d(x).outerWidth()))*100).toFixed(2)+"%";F.y=((B/(w-d(x).outerHeight()))*100).toFixed(2)+"%";d.callpy_chat("_scroll").update()});d(document).on("mouseup.callpydrag_off",function(){d(document).off(".callpydrag_off");if(!d(x).hasClass("callpy_test_small")){x.style.removeProperty("left");x.style.removeProperty("top")}else{x.style.setProperty("left",F.x,"important");x.style.setProperty("top",F.y,"important");x.style.setProperty("margin-top","-"+(parseFloat(F.y)*(d(x).outerHeight()/100))+"px","important");x.style.setProperty("margin-left","-"+(parseFloat(F.x)*(d(x).outerWidth()/100))+"px","important")}iowisp.lycan.night(true)});return false});var l,j,k,p;var n=document.querySelector(".callpy_chat_wrapper2");d(i.callpy_chat_side_resize).on("mousedown",function(s){l=s.clientX;j=s.clientY;k=parseInt(document.defaultView.getComputedStyle(n).width,10);p=parseInt(document.defaultView.getComputedStyle(n).height,10);d(document.body).addClass("callpy_resize");d(document).on("mousemove.callpy_resize",function(t){n.style.width=(k-t.clientX+l)+"px";d.callpy_chat("_scroll").update();t.stopPropagation();return false}).on("mouseup.callpy_resize",function(){d(document).off(".callpy_resize");d(document.body).removeClass("callpy_resize");iowisp.lycan.night(true)})});d(i.offline_form).on("submit",function(){return false});d(i.callpy_offline_form_name).on("input",function(){if(d(this).val()!==""&&d(i.callpy_offline_textarea).val()!==""){d(i.offline_button_next).removeClass("callpy-process-button-disabled")}else{d(i.offline_button_next).addClass("callpy-process-button-disabled")}});d(i.callpy_offline_textarea).on("input",function(){if(d(this).val()!==""&&d(i.callpy_offline_form_name).val()!==""){d(i.offline_button_next).removeClass("callpy-process-button-disabled")}else{d(i.offline_button_next).addClass("callpy-process-button-disabled")}});d(i.offline_button_next).on("click",function(){if(!d(this).hasClass("callpy-process-button-disabled")){d(i.offline_form).addClass("callpy_offline_step2");if(iowisp.invoker.site_info.chat_type=="side"){d("#callpy_offline_form_button").prop("disabled",false);return}d(".callpy_offline_body_choose ul li").eq(0).trigger("click")}});d(i.callpy_offline_form_button).on("click",function(){g("_send_offline_self")});d("#callpy_label_side_tooltip_close").on("click",function(){d(i.callpy_wrapper).addClass("callpy_status_side_hidetool");iowisp.lycan.night(true)});d(".callpy_label_side_body").on("mouseover",function(){clearTimeout(h);d(i.callpy_wrapper).removeClass("callpy_label_side_body_animation").removeClass("callpy_status_side_hidetool");iowisp.lycan.night(true)});d("#callpy_label_side_tooltip--input").on("click",function(){d.callpy_chat("show",true);d("#callpy_chat_input_box").focus()});d(".callpy_label_side_tooltip").on("click",function(s){if(d(s.target).closest("#callpy_label_side_tooltip_close").length==0){d.callpy_chat("show",true);d("#callpy_chat_input_box").focus()}});d(".callpy_label_side_offline_tooltip").on("click",function(s){if(d(s.target).closest(".callpy_label_offline_closer").length==0){d.callpy_chat("show",true)}});d(".callpy_label_offline_closer").on("click",function(){d(i.callpy_wrapper).addClass("callpy_status_side_hidetool");iowisp.lycan.night(true)});var r={animations:ModernizrCallpy.cssanimations},q={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},o=q[ModernizrCallpy.prefixed("animation")],m=function(s,u){var t=function(v){if(r.animations){if(v.target!=this){return}}if(u&&typeof u==="function"){u.call()}};if(r.animations){s.addEventListener(o,t)}else{t()}};m(document.querySelector(".callpy_chat_wrapper2"),function(){d(i.callpy_wrapper).removeClass("callpy_status_chat_hide--side").removeClass("callpy_status_chat_show--side");iowisp.lycan.night(true)});m(document.querySelector(".callpy_label_side_body"),function(){console.log("анимация ярлыка завершена");d(i.callpy_wrapper).removeClass("callpy_status_chat_show--sideLabel").removeClass("callpy_label_side_body_animation").removeClass("callpy_status_chat_hide--sideLabel");if(!d.callpy_status("api").visible){h=setTimeout(function(){d(i.callpy_wrapper).addClass("callpy_label_side_body_animation")},7000)}iowisp.lycan.night(true)})},_send_offline_self:function(){var j=iowisp.invoker.site_info;var h={message:d("#callpy_offline_textarea_self"),mail:d("#callpy_offline_form_email_self"),name:d("#callpy_offline_form_name_self"),phone:d("#callpy_offline_form_phone_self")};var k={action:"offline_email",site:iowisp.invoker.site,site_id:iowisp.invoker.site_id,key:iowisp.invoker.key,channel:iowisp.invoker.channel},l=false,i=d("#callpy_offline_form_button_self");k.message=h.message.val();k.name=h.name.val();k.phone=h.phone.val();if(h.mail.val().length<=0){h.mail.parent().css("border","1px solid Red");l=true}else{l=false;h.mail.parent().css("border","1px solid #cbc9c9");k.mail=h.mail.val()}if(!l){i.attr("data-callpy-status","sending");d.post((location.protocol=="http:"?kunnka.bloodseeker.replace("https","http"):kunnka.bloodseeker)+"d/",k,function(m){i.attr("data-callpy-status","done");d("#callpy_offline_form_self").hide();d(".callpy_offline_succes").show();h.name.val("");h.message.val("");h.phone.val("");h.mail.val("");i.attr("data-callpy-status","send");d("#callpy_offline_button_next").addClass("callpy-process-button-disabled")})}},_welcome_message:function(){if(!sven&&!d.callpy_status("api").offline&&iowisp.invoker.type!=5){var j=iowisp.invoker.site_info.departments[iowisp.invoker.department_id].name,h=iowisp.earthshaker[iowisp.invoker.peer_key].name,i;i='<div class="callpy_chat_welcome_message_wrapper">                                <div class="callpy_chat_welcome_message_body">                                    <div class="callpy_chat_welcome_message_picture"><div style="background-image: url(\'//callpy.com/images/avatar/'+iowisp.earthshaker[iowisp.invoker.peer_key].avatar+'.jpg\')"></div></div>                                    <div class="callpy_chat_welcome_message_title">'+h+'</div>                                    <div class="callpy_chat_welcome_message_descr">'+iowisp.wisp.replacePatterns(iowisp.invoker.site_info.label_toptext)+"</div>                                </div>                            </div>"}}}})(jQuery1,window,undefined);(function(d,c,e){d.callpy_settings_self=function(f){if(a[f]){return a[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f==="object"||!f){return a._init.apply(this,arguments)}}};var b="$.callpy_settings_self";var a={_init:function(){},set:function(f){for(var g in f){switch(g){case"label_color":d(".callpy_label_side_body, .callpy_label_side_offline_tooltip, .callpy_label_side_offline_tooltip--corner").css("background-color","#"+f[g]);d(".callpy_label_avatar > div > span").css("color","#"+f[g]);d("#callpy_label_offline_closer").css("fill","#"+f[g]);break;case"font_label_color":d(".callpy_label_side_offline_tooltip--text").css("color","#"+f[g]);d("#callpy_label_side_offline_tooltip_icon").css("fill","#"+f[g]);d(".callpy_label_offline_closer").css("background","#"+f[g]);break;case"label_toptext":d(".callpy_label_side_tooltip--text").html(iowisp.wisp.replacePatterns(f[g]));break;case"message_color":d(".callpy_client_chat_icon, .callpy_client_chat_icon_logo").css("background-color","#"+f[g]);break;case"lbl_color":d(".callpy_chat_forms_box").css("border-color","#"+f[g]);d("#callpy_offline_body_icon, #callpy_offline_body_icon2").css("fill","#"+f[g]);break;case"brandlogo":case"brand_switch":if(parseInt(iowisp.invoker.site_info.brand_switch)==1){d("#callpy_wrapper").addClass("callpy_status_side_logo");d(".callpy_label_avatar--logo, .callpy_client_chat_icon_logo").html(d("<div/>",{css:{backgroundImage:"url(//callpy.com/images/chat/brandlogo/"+iowisp.invoker.site_info.brandlogo+")"}}))}else{d("#callpy_wrapper").removeClass("callpy_status_side_logo")}break;case"font_color":d(".callpy_client_chat_menu_close i, .callpy_client_chat_menu_button i").css("color","#"+f[g]);d("#callpy_client_chat_menu_button_svg").css("fill","#"+f[g]);break;case"offline_name":d(".callpy_client_offline_title").html(f[g]);break;case"offline_text":d(".callpy_client_offline_descr").html(iowisp.wisp.replacePatterns(f[g]));break}}iowisp.lycan.night()}}})(jQuery1,window,undefined);
(function(d){d.callpy_select=function(f){if(a[f]){return a[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f==="object"||!f){return a.init.apply(this,arguments)}else{d.error("Метод с именем "+f+" не существует для "+b)}}};var e=d.callpy_select;var b="$jcallpy.callpy_select";var c=[];var a={init:function(){return c},create:function(f){var h=d.extend({client_id:false,element_id:false,cords:{upLeft:{x:false,y:false},botRight:{x:false,y:false}}},f);c.push({element_id:h.element_id,cords:{upLeft:h.cords.upLeft,botRight:h.cords.botRight}});var g=d("<div/>",{id:"callpy-remote-tools-box-"+h.element_id,css:{width:(h.cords.botRight.x-h.cords.upLeft.x),height:(h.cords.botRight.y-h.cords.upLeft.y),top:h.cords.upLeft.y,left:h.cords.upLeft.x},html:""});g.addClass("remote-selected-page-box").html('<div class="callpy_chat_baloon_close">×</div>').addClass("callpy-animation-target");d(document.body).append(g);g.click(function(){iowisp.nightstalker.phoenix({action:"delete_select_area",element_id:d(this).attr("id").replace("callpy-remote-tools-box-","")});d.callpy_select("delete",d(this).attr("id").replace("callpy-remote-tools-box-",""));d(this).remove()});return c},"delete":function(f){for(var g=0;g<c.length;g++){if(c[g].element_id==f){return c.splice(g,1);break}}}}})(jQuery1);(function(c){c.callpy_pointer=function(f){if(a[f]){return a[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f==="object"||!f){return a.init.apply(this,arguments)}else{c.error("Метод с именем "+f+" не существует для "+b)}}};var e=c.callpy_pointer;var b="$jcallpy.callpy_pointer";var d=[];var a={init:function(){return d},create:function(g){var l=c.extend({client_id:false,element_id:false,circle:{left:false,top:false},tooltip:{left:false,top:false},message:false},g);d.push({element_id:l.element_id,circle:{left:l.circle.left,top:l.circle.top},tooltip:{left:l.tooltip.left,top:l.tooltip.top},message:l.message});var k=c("<div/>",{id:"remote-control-circle"+l.element_id,css:{left:l.circle.left+"px",top:l.circle.top+"px"}}).addClass("remote-control-circle").addClass("callpy-animation-target");c(document.body).append(k);var f='                                <div class="callpy_lable_tooltip_body">                                    <div class="callpy_chat_baloon_close" onclick="$jcallpy.callpy_pointer(\'delete\', '+l.element_id+')">×</div>                                    <div>                                        <div style="position: relative; float: left;width: 100%;">                                            '+iowisp.escapeHtml(l.message)+'                                        </div>                                        <div style="clear: both;"></div>                                    </div>                                </div>                                <div class="callpy_lable_corner"></div>                                <div class="callpy_lable_corner_white"></div>';var i={tooltipElem:c("<div/>",{"class":"callpy_lable_tooltip_wrapper callpy-animation-target",html:f,id:"callpy_tooltip_pointer_block"+l.element_id,css:{left:l.tooltip.left+"px",top:l.tooltip.top+"px"}}),html:"",offset:20};i.tooltipElem.appendTo(document.body);var j=(13+parseInt(l.circle.left))-(i.tooltipElem.outerWidth()/2^0);console.log(j);if(j<0){c("#callpy_tooltip_pointer_block"+l.element_id).find(".callpy_lable_corner, .callpy_lable_corner_white").animate({marginLeft:"-="+Math.abs(j)},0);j=0}if(j+i.tooltipElem.outerWidth()>c(document).width()){var h=j+i.tooltipElem.outerWidth()-c(document).width();j=j-h;c("#callpy_tooltip_pointer_block"+l.element_id).find(".callpy_lable_corner, .callpy_lable_corner_white").animate({marginLeft:"+="+h},0)}return d},"delete":function(g){iowisp.nightstalker.phoenix({action:"delete_visual_message",element_id:g});c("#remote-control-circle"+g+", #callpy_tooltip_pointer_block"+g).remove();for(var f=0;f<d.length;f++){if(d[f].element_id==g){return d.splice(f,1);break}}}}})(jQuery1);
kunnka.CChat=function(){this.module_name="Chat ";this.module_log_rang=100;var a=this;if(sven==true){this.history=callpy_storage.iowisp.m_chat.history;this.first_time=true;this.save_state=0;this.lich="no_call"}else{this.history=[];this.first_time=true;this.save_state=0;this.lich="no_call"}this.call_type=1;this.managerWriteTimer=null;this.init=function(){if(iowisp.invoker.type==1){if(iowisp.initialize_data.init_data.managers.length>0&&(!sven||iowisp.initialize_data.init_data.online==false)){for(var b=0;b<iowisp.initialize_data.init_data.managers.length;b++){iowisp.viper({action:"register_client",key:iowisp.initialize_data.init_data.managers[b].key,type:2,far_id:0,name:iowisp.initialize_data.init_data.managers[b].name,subname:iowisp.initialize_data.init_data.managers[b].subname,avatar:iowisp.initialize_data.init_data.managers[b].avatar,position:iowisp.initialize_data.init_data.managers[b].position,status:iowisp.initialize_data.init_data.managers[b].status,site_id:iowisp.initialize_data.init_data.managers[b].site_id,mail:iowisp.initialize_data.init_data.managers[b].mail,channel:iowisp.initialize_data.init_data.managers[b].channel,webRTCsupp:iowisp.initialize_data.init_data.managers[b].webRTCsupp,departments:iowisp.initialize_data.init_data.managers[b].departments})}}if(iowisp.invoker.site_info.mobileOff!=1||!iowisp.isMobile()){$jcallpy.callpy_init()}if(iowisp.initialize_data.init_data.shadowfiend){iowisp.shadowfiend({action:"manager_changed",user:iowisp.initialize_data.init_data.shadowfiend.user,manager:iowisp.initialize_data.init_data.shadowfiend.manager})}else{if(!sven){$jcallpy.callpy_consultant("set")}iowisp.lycan.cripping()}iowisp.haste.automessage_pageCheck()}};this.setUtm=function(){$jcallpy("#callpy_link").attr("href","http://callpy.com/?utm_source="+iowisp.invoker.site+"&utm_medium="+(iowisp.invoker.peer_key?"online":"offline")+"&utm_term="+($jcallpy.callpy_status("api").visible?"chat":"shortcut")+"&utm_campaign=callpy");$jcallpy("#shortcut_callpy_link").attr("href","http://callpy.com/?utm_source="+iowisp.invoker.site+"&utm_medium="+(iowisp.invoker.peer_key?"online":"offline")+"&utm_term="+($jcallpy.callpy_status("api").visible?"chat":"shortcut")+"&utm_campaign=callpy")};this.call=function(){var b=localStorage.getItem("sandkung");if(!b){if(iowisp.lycan.restoreInIE){iowisp.lycan.handleCallFlag=false}localStorage.setItem("sandkung",2);if(iowisp.magnus.webRTCsupp==1&&iowisp.earthshaker[iowisp.invoker.peer_key].webRTCsupp==1){iowisp.m_chat.call_webrtc()}else{iowisp.magnus.amplify()}}else{if(b==1){if(iowisp.magnus.webRTCsupp==1&&iowisp.earthshaker[iowisp.invoker.peer_key].webRTCsupp==1){iowisp.magnus.wildaxes(true,true)}else{iowisp.magnus.amplify()}}}};this.endCall=function(c){var b=localStorage.getItem("sandkung");if(b==1){a.end_dialup_from_self()}else{if(b==2){a.end_dialup_from_self(c)}else{if(b==3){iowisp.m_chat.end_call_from_self()}}}};this.end_call_webrtc=function(){a.lich="no_call";a.save_state=0;if(document.getElementById("callpy_webrtc_video_tag")){document.getElementById("callpy_webrtc_video_tag").src=""}if(document.getElementById("callpy_webrtc_video_self_tag")){document.getElementById("callpy_webrtc_video_self_tag").src=""}if(iowisp.magnus.pc){iowisp.magnus.pc.close()}if(iowisp.magnus.stream){iowisp.magnus.stream.getTracks().forEach(function(b){b.stop()})}iowisp.magnus.pc=null;iowisp.magnus.stream=null;iowisp.magnus.remotestream=null};this.rubick=function(){a.lich="no_call";a.first_time=true;a.save_state=0;return true};this.end_call_from_peer=function(){if(iowisp.m_chat.lich=="call"){if(iowisp.lycan.restoreInIE){iowisp.lycan.handleCallFlag=false}localStorage.removeItem("sandkung");if(iowisp.magnus.call_type=="webrtc"){a.end_call_webrtc()}else{iowisp.magnus.qop()}$jcallpy.callpy_status("set","call_off");iowisp.magnus.stop_ping();$jcallpy.callpy_call("_removeIframe")}else{$jcallpy.callpy_status("set","call_off")}};this.end_call_from_self=function(){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("end_call"));if(iowisp.lycan.restoreInIE){iowisp.lycan.handleCallFlag=false}localStorage.removeItem("sandkung");if(iowisp.m_chat.lich=="call"){if(iowisp.magnus.call_type=="webrtc"){a.end_call_webrtc()}else{iowisp.magnus.qop()}iowisp.magnus.stop_ping();$jcallpy.callpy_call("_removeIframe")}else{}};this.end_dialup_from_peer=function(){if(iowisp.m_chat.lich!="no_call"){if(localStorage.getItem("sandkung")=="3"){a.end_call_from_peer();return}if(iowisp.lycan.restoreInIE){iowisp.lycan.handleCallFlag=false}localStorage.removeItem("sandkung");if(iowisp.magnus.call_type=="webrtc"){if(iowisp.m_chat.lich=="incoming"){$jcallpy.callpy_status("set","incoming_call_off")}else{$jcallpy.callpy_status("set","dial_off")}a.end_call_webrtc()}else{if(iowisp.m_chat.lich=="incoming"){$jcallpy.callpy_status("set","incoming_call_off")}else{$jcallpy.callpy_status("set","dial_off")}iowisp.magnus.qop()}iowisp.magnus.stop_ping();clearTimeout(iowisp.magnus.dialupTimer)}};this.end_dialup_from_self=function(b){if(!b){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("end_dialup"))}if(iowisp.lycan.restoreInIE){iowisp.lycan.handleCallFlag=false}localStorage.removeItem("sandkung");if(iowisp.m_chat.lich!="no_call"){if(iowisp.m_chat.lich=="incoming"){}else{if(iowisp.m_chat.lich=="calling_to_manager"){}}if(iowisp.magnus.call_type=="webrtc"){a.end_call_webrtc()}else{iowisp.magnus.qop()}}else{}iowisp.magnus.stop_ping();clearTimeout(iowisp.magnus.dialupTimer)};this.start_call=function(b){a.lich="call";iowisp.nightstalker.flash_object.to_flash("to_flash",{action:"start_call",withVideo:b});$jcallpy.callpy_call("_createIframe");localStorage.setItem("callpy_call_time",new Date().getTime());return true};this.answer=function(b){if(iowisp.magnus.webRTCsupp==1&&iowisp.earthshaker[iowisp.invoker.peer_key].webRTCsupp==1){if(iowisp.magnus.stream||b.noOffer){a.lich="call";$jcallpy.callpy_call("_createIframe");localStorage.setItem("callpy_call_time",new Date().getTime());if(!b.noOffer){localStorage.setItem("sandkung","3")}if(!b.noOffer){$jcallpy.callpy_status("set","call_on")}else{$jcallpy.callpy_status("set","call_on",true)}}else{if(!iowisp.magnus.stream){a.lich="no_call";$jcallpy.callpy_status("set","call_on")}}}else{if(document.getElementById("callpy_access_to_equip_flash")){a.lich="call";$jcallpy.callpy_call("_createIframe");localStorage.setItem("callpy_call_time",new Date().getTime());iowisp.nightstalker.flash_object.to_flash("to_flash",{action:"start_call",withVideo:false});localStorage.setItem("sandkung","3");$jcallpy.callpy_status("set","call_on")}else{a.lich="no_call";$jcallpy.callpy_status("set","call_on")}}};this.call_webrtc=function(){a.save_state=1;a.lich="calling_to_manager";iowisp.magnus.wildaxes(true,true)};this.reincarnation=function(d){if(iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("send_message",{0:d,1:iowisp.earthshaker[iowisp.invoker.peer_key].name}))){if(!iowisp.m_chat.history.length){iowisp.nightstalker.to_fms({action:"update_status",status:"1"+(($jcallpy.callpy_status("api").visible&&iowisp.invoker.peer_key)?"1":"0")+"1",peer_key:(iowisp.invoker.peer_key?iowisp.invoker.peer_key:0),domain:iowisp.invoker.site,referer:encodeURIComponent(window.location.href),width:$jcallpy(window).width(),title:document.title})}a.history.push({message:d,receiver:iowisp.invoker.key,sender:iowisp.invoker.peer_key,received:0,read:1});var b=localStorage.getItem("callpy_greets");if(b){b=JSON.parse(b)}else{b={}}for(var c=0;c<iowisp.invoker.site_info.greets.length;c++){if(!b[iowisp.invoker.site_info.greets[c].id]){b[iowisp.invoker.site_info.greets[c].id]=1}}localStorage.setItem("callpy_greets",JSON.stringify(b));if(!localStorage.getItem("callpy_hm")){localStorage.setItem("callpy_hm",new Date().getTime());iowisp.haste.holding_init()}return true}else{return false}};this.kotel=function(e){if(!iowisp.m_chat.history.length){iowisp.nightstalker.to_fms({action:"update_status",status:"2"+(($jcallpy.callpy_status("api").visible&&iowisp.invoker.peer_key)?"1":"0")+"1",peer_key:(iowisp.invoker.peer_key?iowisp.invoker.peer_key:0),domain:iowisp.invoker.site})}if(!e.mtype||e.mtype!="file"){e.message=iowisp.urlHighlight(e.message)}$jcallpy.callpy_message("add",{text:e.message,from:1,time:new Date().getTime(),read:0});a.history.push({message:e.message,receiver:e.peer_key,sender:e.key,received:1,read:0});var b=localStorage.getItem("callpy_greets");if(b){b=JSON.parse(b)}else{b={}}for(var d=0;d<iowisp.invoker.site_info.greets.length;d++){if(!b[iowisp.invoker.site_info.greets[d].id]){b[iowisp.invoker.site_info.greets[d].id]=1}}localStorage.setItem("callpy_greets",JSON.stringify(b));if(iowisp.haste.holdingTimer){for(var c in iowisp.haste.holdingTimer){clearTimeout(iowisp.haste.holdingTimer[c])}iowisp.haste.holdingTimer=null;var f={};for(var d=0;d<iowisp.invoker.site_info.holds.length;d++){f[iowisp.invoker.site_info.holds[d].id]=1}localStorage.callpy_holds=JSON.stringify(f)}a.setMessagesRead()};this.feast=function(e){a.history=e.history;var b=false;for(var d=0;d<a.history.length;d++){var c=true;if(d==a.history.length-1){c=false}if(a.history[d]["read"]==0){b=true}$jcallpy.callpy_message("add",{text:a.history[d]["message"],from:(a.history[d]["sender"]==iowisp.invoker.key?0:1),animate:0,mass:true,read:a.history[d]["read"],name:a.history[d]["managerName"],time:a.history[d]["time"]*1000})}if(b){a.setMessagesRead()}};this.setMessagesRead=function(){if(iowisp.lycan.toss&&$jcallpy.callpy_status("api").visible){var c=false;for(var b=a.history.length-1;b>=0&&(a.history[b].received!=1||a.history[b]["read"]==0);b--){a.history[b]["read"]=1;c=true}if(c){iowisp.nightstalker.to_fms({action:"setMessagesRead",site_id:iowisp.invoker.site_id,site:iowisp.invoker.site,channel:iowisp.invoker.channel,key:iowisp.invoker.key})}}};this.craggy=function(d){iowisp.invoker.site_info[d.name]=d.value;if(d.name=="status"&&d.value=="1"){for(var b=0;b<d.managers.length;b++){if(!iowisp.earthshaker[d.managers[b].key]){iowisp.viper(d.managers[b])}}}if(d.name=="chat_type"){localStorage.setItem("callpy_lastchat",new Date().getTime());localStorage.removeItem("tiny")}iowisp.lycan.cripping();var c={};c[d.name]=d.value;$jcallpy.callpy_settings("set",c)};this.get_user_avatar=function(b){if(iowisp.earthshaker[b]){return{normal:iowisp.earthshaker[b].avatar+".jpg",tail:iowisp.earthshaker[b].avatar+"_tail.png"}}};this.managerWriting=function(){$jcallpy.callpy_message("add",{type:"typing",from:1,time:new Date().getTime(),read:0});clearTimeout(a.managerWriteTimer);a.managerWriteTimer=setTimeout(function(){$jcallpy.callpy_message("clearTyping")},5000)}};
kunnka.abaddon=function(){this.module_name="Flash ";this.module_log_rang=100;this.PeerConnection=null;this.IceCandidate=null;this.SessionDescription=null;this.pc=null;this.pc_config=null;this.stream=null;this.audiostream=null;this.remotestream=null;this.audio=false;this.video=false;this.video_support=false;this.connected_to_rp=false;this.webRTCsupp=0;this.call_type=null;this.stateTimer=null;this.pingTimer=null;this.pingRequestTimer=null;this.disconnectLimit=5000;this.pingLimit=10000;this.pingCount=0;this.dialupTimer=null;this.dialupLimit=25000;this.webRTCtype=(navigator.mozGetUserMedia?"firefox":"chrome");this.peer_webRTCtype=null;this.access_equip=false;this.iceCandidateBuffer=[];this.receivedDescription=false;this.videostream=null;if(window.mozRTCPeerConnection||window.webkitRTCPeerConnection){this.webRTCsupp=1}var a=this;this.flash_path=kunnka.bloodseeker+"swf/";this.nsp=null;this.crush=function(){iowisp.nightstalker.flash_object=document.getElementById("callpy_access_to_equip_flash")};this.bash=function(){if(!a.connected_to_rp){a.connected_to_rp=true;if(iowisp.invoker.site){a.nsp=iowisp.realplexor.bersekersblood(iowisp.invoker.site_id,iowisp.invoker.site)}else{a.nsp="callpy";for(var c in iowisp.invoker.site_info){a.nsp=iowisp.realplexor.bersekersblood(iowisp.invoker.site_id,iowisp.invoker.site_info[c].domain);break}}iowisp.realplexor.init("https://rp."+kunnka.callpy_domain,a.nsp);if(iowisp.invoker.type!=2){if(localStorage.getItem("callpy_cid")==null){iowisp.realplexor.setCursor(iowisp.invoker.site_id+"_"+((iowisp.invoker.type==1)?"c_":"m_")+iowisp.invoker.key+"_"+iowisp.invoker.channel,iowisp.invoker.timestamp);localStorage.setItem("callpy_cid",iowisp.invoker.timestamp)}else{iowisp.realplexor.setCursor(iowisp.invoker.site_id+"_"+((iowisp.invoker.type==1)?"c_":"m_")+iowisp.invoker.key+"_"+iowisp.invoker.channel,parseFloat(localStorage.getItem("callpy_cid"))+0.001)}iowisp.realplexor.lifebreak(iowisp.invoker.site_id+"_"+((iowisp.invoker.type==1)?"c_":"m_")+iowisp.invoker.key+"_"+iowisp.invoker.channel,function(d,f,e){d=JSON.parse(d);localStorage.setItem("callpy_cid",e);localStorage.setItem("callpy_lastRpx",new Date().getTime());iowisp.nightstalker.storm(d)})}else{if(localStorage.getItem("callpy_mcid")==null){localStorage.setItem("callpy_mcid",JSON.stringify({}))}iowisp.legion.cids=JSON.parse(localStorage.getItem("callpy_mcid"));var b;for(var c in iowisp.invoker.channel){if(c=="manager"){b="manager_"+iowisp.invoker.key+"_"+iowisp.invoker.channel[c];if(!iowisp.legion.cids[c]||(new Date().getTime()/1000-iowisp.legion.cids[c]>15)){iowisp.realplexor.setCursor(b,iowisp.initialize_data.timestamp)}else{iowisp.realplexor.setCursor(b,parseFloat(iowisp.legion.cids[c])+0.001)}iowisp.realplexor.lifebreak(b,function(d,f,e){d=JSON.parse(d);iowisp.legion.cids.manager=e;localStorage.setItem("callpy_mcid",JSON.stringify(iowisp.legion.cids));iowisp.legion.from_rlpx(d)})}else{b=c+"_m_"+iowisp.invoker.key+"_"+iowisp.invoker.channel[c];if(iowisp.invoker.site_info[c].status=="1"){if(!iowisp.legion.cids[c]){iowisp.realplexor.setCursor(b,iowisp.initialize_data.timestamp)}else{iowisp.realplexor.setCursor(b,parseFloat(iowisp.legion.cids[c])+0.001)}iowisp.realplexor.lifebreak(b,function(e,g,f){e=JSON.parse(e);var d=g.split("_");d=d[0].replace(a.nsp,"");iowisp.legion.cids[d]=f;localStorage.setItem("callpy_mcid",JSON.stringify(iowisp.legion.cids));e.site_id=d;iowisp.nightstalker.storm(e)})}}}}iowisp.realplexor.execute()}};this.isConnectedToRpx=function(){return(new Date().getTime()-localStorage.getItem("callpy_lastRpx")<30000)};this.amplify=function(b){a.call_type="flash";a.access_equip=true;if(swfobject.hasFlashPlayerVersion("10")){b=b?b:{};b.flash_name=b.flash_name?b.flash_name:a.flash_path+"callpyFlash.swf";b.flash_place=b.flash_place?b.flash_place:"callpy_access_to_equip_flash";b.flash_width=b.flash_width?b.flash_width:"215";b.flash_height=b.flash_height?b.flash_height:"138";b.flash_version=b.flash_version?b.flash_version:"9.0.0";b.flash_install=b.flash_install?b.flash_install:"playerProductInstall.swf";b.flash_vars=b.flash_vars?b.flash_vars:{};b.flash_params=b.flash_params?b.flash_params:{};b.flash_params.wmode=b.flash_params.wmode?b.flash_params.wmode:"opaque";b.flash_params.allowscriptaccess=b.flash_params.allowscriptaccess?b.flash_params.allowscriptaccess:"always";b.flash_params.embed=b.flash_params.embed?b.flash_params.embed:"callpy_access_to_equip_flash";b.flash_attribs=b.flash_attribs?b.flash_attribs:{};b.flash_on_load=b.flash_on_load?b.flash_on_load:a.crush;swfobject.embedSWF(b.flash_name,b.flash_place,b.flash_width,b.flash_height,b.flash_version,b.flash_install,b.flash_vars,b.flash_params,b.flash_attribs,b.flash_on_load)}else{a.access_equip=false;$jcallpy("#callpy_access_to_equip_overlay_flash").css("left","-3000px");localStorage.removeItem("sandkung");iowisp.m_chat.lich="no_call";$jcallpy("#callpy_call_button_call").show();$jcallpy("#callpy_call_button_connection").hide()}};this.qop=function(){if(iowisp.m_chat.lich=="call"){iowisp.nightstalker.flash_object.to_flash("to_flash",{action:"end_call"})}iowisp.m_chat.lich="no_call";if(iowisp.wisp){iowisp.m_chat.save_state=0}swfobject.removeSWF("callpy_access_to_equip_flash");iowisp.nightstalker.flash_object=null;$jcallpy("#callpy_access_to_equip_overlay_flash").remove()};this.wildaxes=function(c,b){a.call_type="webrtc";a.PeerConnection=window.mozRTCPeerConnection||window.webkitRTCPeerConnection;a.IceCandidate=window.mozRTCIceCandidate||window.RTCIceCandidate;a.SessionDescription=window.mozRTCSessionDescription||window.RTCSessionDescription;navigator.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia;a.audio=true;a.video=false;a.video_support=true;a.access_equip=true;navigator.getUserMedia({audio:true,video:false},a.callofwind,function(d){a.access_equip=false;var e=localStorage.getItem("sandkung");iowisp.m_chat.lich="no_call";if(e=="2"){$jcallpy.callpy_status("set","equip_mic_off",true)}else{if(e=="1"){$jcallpy.callpy_status("set","equip_mic_off",true);iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("end_dialup"))}}localStorage.removeItem("sandkung");if(d.name=="DevicesNotFoundError"){alert("Для звонка необходим микрофон!")}else{if(d.message.indexOf("secure origins")===false){alert("Ошибка доступа к микрофону! Возможно, микрофон занят другим приложением. Закройте все приложения и повторите попытку.")}else{alert("Для доступа к микрофону в браузере Chrome требуется защищенный протокол https. К сожалению, данный сайт его не поддерживает, вы можете использовать для звонка, например, Firefox.")}}})};this.callofwind=function(c){a.access_equip=false;if(iowisp.wisp){var b=localStorage.getItem("sandkung");if(!b){if(a.pc){a.pc.close()}c.getTracks().forEach(function(f){f.stop()});a.pc=null;a.stream=null;c=null;a.remotestream=null;return}if(b=="2"){$jcallpy.callpy_status("set","dial_on",true);iowisp.m_chat.lich="calling_to_manager"}else{if(iowisp.lycan.restoreInIE){iowisp.lycan.handleCallFlag=false}localStorage.setItem("sandkung",3);iowisp.m_chat.answer({noOffer:true})}}else{if(iowisp.legion){$jcallpy("#callpy_access_to_equip_overlay").remove();$jcallpy(document.body).removeClass("callpy_access_equip_overlay");if(iowisp.m_chat.lich=="no_call"||iowisp.m_chat.lich=="call"){return}if(iowisp.m_chat.lich=="incoming"){$jcallpy.chat("accept_call",{id:iowisp.invoker.peer_key,site_id:iowisp.invoker.site_id})}else{if(iowisp.m_chat.lich=="calling_to_client"){$jcallpy.chat("start_call")}}}}var d=[{url:"stun:stun.l.google.com:19302"},{url:"turn:numb.viagenie.ca",credential:"Qwerty12345",username:"dizzy@civa.ru"}];a.pc_config={iceServers:[{url:"turn:"+kunnka.callpy_domain+":3478",username:"dimaadmin",credential:"Xvm7djqiYhXnTAWA"},{url:"stun:"+kunnka.callpy_domain+":3478"}]};a.pc=new a.PeerConnection(a.pc_config,undefined);a.stream=c;a.receivedDescription=false;a.pc.addStream(a.stream);a.pc.onicecandidate=a.innerbeast;a.pc.onaddstream=a.roar;a.pc.oniceconnectionstatechange=function(){if(!a.pc){return}if((a.pc.iceConnectionState=="connected"||a.pc.iceConnectionState=="completed")){if(iowisp.legion){document.getElementById("callpy_webrtc_video_tag").src=URL.createObjectURL(a.pc.getRemoteStreams()[0])}else{document.getElementById("callpy_client_video").src=URL.createObjectURL(a.pc.getRemoteStreams()[0])}}};if(iowisp.wisp){if(b=="2"){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("enigma",{0:1,1:a.webRTCtype}));a.dialupTimer=setTimeout(a.autoEndDialup,a.dialupLimit)}else{if(a.peer_webRTCtype!=a.webRTCtype&&a.webRTCtype=="chrome"){a.createOffer()}iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("necrophos",{0:a.webRTCtype}))}}else{if(iowisp.legion){if(iowisp.m_chat.lich=="incoming"){iowisp.m_chat.lich="call";if(a.peer_webRTCtype!=a.webRTCtype&&a.webRTCtype=="chrome"){a.createOffer()}iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("necrophos",{0:a.webRTCtype}))}else{if(iowisp.m_chat.lich=="calling_to_client"){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("enigma",{0:1,1:a.webRTCtype}));a.dialupTimer=setTimeout(a.autoEndDialup,a.dialupLimit)}}}}a.start_ping();a.pingCount=0};this.start_ping=function(){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("ping",{0:"request"}));a.pingTimer=setTimeout(a.ping_failed,a.disconnectLimit)};this.ping_request=function(b){if(iowisp.legion){if(iowisp.legion.selected_user==b.key&&iowisp.invoker.site_id==b.site_id){if(iowisp.m_chat.lich=="call"||iowisp.m_chat.lich=="incoming"){iowisp.nightstalker.xspot("to_peer",{action:"ping",pingtype:"answer",site_id:iowisp.invoker.site_id,key:iowisp.invoker.key,type:2,peer_key:b.key,peer_type:1,domain:iowisp.invoker.site,where:"to_fms"})}}else{iowisp.nightstalker.xspot("to_peer",{action:"ping",pingtype:"answer",site_id:b.site_id,key:iowisp.invoker.key,type:2,peer_key:b.key,peer_type:1,domain:iowisp.invoker.site_info[b.site_id].domain,where:"to_fms"})}}else{iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("ping",{0:"answer"}))}};this.ping_answer=function(){a.pingCount=0;clearTimeout(a.pingTimer);clearTimeout(a.pingRequestTimer);if((iowisp.wisp&&(a.pc||iowisp.nightstalker.flash_object))||(iowisp.legion&&((a.pc&&a.pc.signalingState!="closed")||iowisp.nightstalker.flash_object))){a.pingRequestTimer=setTimeout(a.start_ping,a.disconnectLimit)}};this.ping_failed=function(){if(a.pc){a.pingCount++;if(a.pingCount==3){if(iowisp.legion){console.log("PING FAILED - MANAGER");if(iowisp.m_chat.lich=="call"){iowisp.m_chat.end_call_from_peer()}else{iowisp.m_chat.end_dialup_from_peer({key:iowisp.legion.selected_user,site_id:iowisp.invoker.site_id});iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("end_dialup"))}}else{console.log("PING FAILED - CLIENT");if(iowisp.m_chat.lich=="call"){iowisp.m_chat.end_call_from_peer()}else{iowisp.m_chat.end_dialup_from_peer();iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("end_dialup"))}}}else{console.log("NO ANSWER FOR PING REQUEST #"+a.pingCount);a.stop_ping();a.start_ping()}}};this.stop_ping=function(){clearTimeout(a.pingTimer);clearTimeout(a.pingRequestTimer)};this.autoEndDialup=function(){$jcallpy("#callpy_button_call").trigger("click")};this.innerbeast=function(b){if(b.candidate){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("icecandidate",{0:b.candidate.sdpMLineIndex,1:b.candidate.sdpMid,2:b.candidate.candidate}))}};this.roar=function(b){console.log("Got remote stream");console.log(b.stream);a.remotestream=b.stream;if(iowisp.legion){document.getElementById("callpy_webrtc_video_tag").src=URL.createObjectURL(b.stream)}else{document.getElementById("callpy_client_video").src=URL.createObjectURL(b.stream)}};this.breathefire=function(b){a.pc.setLocalDescription(b);iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("description",{0:{sdp:b.sdp,type:b.type},1:a.video}))};this.createAnswer=function(){a.pc.createAnswer(a.breathefire,function(b){console.log(b)},undefined)};this.createOffer=function(){console.log("Creating offer!!!");a.pc.createOffer(a.breathefire,function(b){console.log(b)},{mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:true}})};this.tidebringer=function(b){if(a.pc){if(a.webRTCtype=="firefox"){b.descriptor["sdp"]=b.descriptor["sdp"].replace(/UDP\/TLS\//gi,"")}a.pc.setRemoteDescription(new a.SessionDescription(b.descriptor),a.createAnswer,function(c){console.log(c)});a.receivedDescription=true;if(a.iceCandidateBuffer.length){a.executeCandidateBuffer()}}};this.torrent=function(b){if(a.pc){a.pc.setRemoteDescription(new a.SessionDescription(b.descriptor));a.receivedDescription=true;if(a.iceCandidateBuffer.length){a.executeCandidateBuffer()}}};this.grow=function(b){if(a.pc){if(a.receivedDescription){a.pc.addIceCandidate(new a.IceCandidate({sdpMLineIndex:b.label,candidate:b.candidate}))}else{a.iceCandidateBuffer.push(b)}}};this.executeCandidateBuffer=function(){for(var b=0;b<a.iceCandidateBuffer.length;b++){a.grow(a.iceCandidateBuffer[b])}a.iceCandidateBuffer=[]};this.switchToVideo=function(b){if(iowisp.legion){$jcallpy.chat("access_overlay")}a.access_equip=true;navigator.getUserMedia({audio:true,video:true},function(c){if(iowisp.legion){$jcallpy("#callpy_access_to_equip_overlay").remove()}a.access_equip=false;if(iowisp.legion&&!b){$jcallpy.chat("start_video",true)}else{$jcallpy.callpy_status("set","video_start",true);$jcallpy("#callpy_video_chat").attr("checked","checked")}a.receivedDescription=false;a.pc.close();a.pc=new a.PeerConnection(a.pc_config,undefined);a.stream.getTracks().forEach(function(d){d.stop()});a.stream=c;a.pc.addStream(a.stream);a.pc.onicecandidate=a.innerbeast;a.pc.onaddstream=a.roar;a.pc.oniceconnectionstatechange=function(){if(!a.pc){return}if((a.pc.iceConnectionState=="connected"||a.pc.iceConnectionState=="completed")){if(iowisp.legion){document.getElementById("callpy_webrtc_video_tag").src=URL.createObjectURL(a.pc.getRemoteStreams()[0])}else{document.getElementById("callpy_client_video").src=URL.createObjectURL(a.pc.getRemoteStreams()[0])}}};if(iowisp.legion){document.getElementById("callpy_webrtc_video_self_tag").src=URL.createObjectURL(a.stream)}else{document.getElementById("callpy_client_video_self").src=URL.createObjectURL(a.stream)}iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("call_state",{0:"video"}))},function(c){a.access_equip=false;if(iowisp.legion){$jcallpy("#callpy_access_to_equip_overlay").remove()}if(c.name=="DevicesNotFoundError"){alert("Для переключения в режим видео необходима видеокамера!")}else{alert("Для переключения в режим видео необходимо разрешить доступ к видеокамере!")}})};this.peer_to_video=function(b){a.receivedDescription=false;a.pc.close();a.pc=new a.PeerConnection(a.pc_config,undefined);a.pc.addStream(a.stream);a.pc.onicecandidate=a.innerbeast;a.pc.onaddstream=a.roar;a.pc.oniceconnectionstatechange=function(){if(!a.pc){return}if((a.pc.iceConnectionState=="connected"||a.pc.iceConnectionState=="completed")){if(iowisp.legion){document.getElementById("callpy_webrtc_video_tag").src=URL.createObjectURL(a.pc.getRemoteStreams()[0])}else{document.getElementById("callpy_client_video").src=URL.createObjectURL(a.pc.getRemoteStreams()[0])}}};if(a.peer_webRTCtype==a.webRTCtype||a.webRTCtype=="chrome"){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("call_createOffer",{}))}else{a.createOffer()}clearTimeout(a.pingTimer);if(iowisp.legion){$jcallpy.chat("on_video")}else{if(iowisp.wisp){$jcallpy.callpy_status("set","video_start")}}};this.switchToAudio=function(){a.access_equip=true;navigator.getUserMedia({audio:true,video:false},function(b){$jcallpy("#callpy_access_to_equip_overlay").remove();a.access_equip=false;a.pc.close();a.receivedDescription=false;a.pc=new a.PeerConnection(a.pc_config,undefined);a.stream.getTracks().forEach(function(c){c.stop()});a.stream=b;a.pc.addStream(a.stream);a.pc.onicecandidate=a.innerbeast;a.pc.onaddstream=a.roar;a.pc.oniceconnectionstatechange=function(){if(!a.pc){return}if((a.pc.iceConnectionState=="connected"||a.pc.iceConnectionState=="completed")){if(iowisp.legion){document.getElementById("callpy_webrtc_video_tag").src=URL.createObjectURL(a.pc.getRemoteStreams()[0])}else{document.getElementById("callpy_client_video").src=URL.createObjectURL(a.pc.getRemoteStreams()[0])}}};document.getElementById("callpy_webrtc_video_self_tag").src="";iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("call_state",{0:"audio"}))},function(b){$jcallpy("#callpy_access_to_equip_overlay").remove();a.access_equip=false;alert("Ошибка!")})};this.peer_to_audio=function(b){a.receivedDescription=false;a.pc.close();a.pc=new a.PeerConnection(a.pc_config,undefined);a.pc.addStream(a.stream);a.pc.onicecandidate=a.innerbeast;a.pc.onaddstream=a.roar;a.pc.oniceconnectionstatechange=function(){if(!a.pc){return}if((a.pc.iceConnectionState=="connected"||a.pc.iceConnectionState=="completed")){if(iowisp.legion){document.getElementById("callpy_webrtc_video_tag").src=URL.createObjectURL(a.pc.getRemoteStreams()[0])}else{document.getElementById("callpy_client_video").src=URL.createObjectURL(a.pc.getRemoteStreams()[0])}}};a.createOffer();clearTimeout(a.pingTimer)};this.changeCallState=function(b){if(b.video=="true"){a.video=true;a.pc.removeStream(a.audiostream);a.pc.addStream(a.stream)}else{if(b.video=="false"){a.video=false;a.pc.removeStream(a.stream);a.pc.addStream(a.audiostream)}}a.createOffer()};this.switchCamera=function(b){if(iowisp.legion){if(a.stream.getVideoTracks().length){a.stream.getVideoTracks()[0].enabled=b.status;if(!b.status){iowisp.nightstalker.phoenix({action:"peerDisabledCamera"})}}else{a.switchToVideo()}}else{if(a.stream.getVideoTracks().length){a.stream.getVideoTracks()[0].enabled=b.status;if(!b.status){iowisp.nightstalker.phoenix({action:"peerDisabledCamera"})}else{$jcallpy.callpy_status("set","video_start",true);$jcallpy("#callpy_video_chat").attr("checked","checked")}}else{a.switchToVideo(true)}}}};
kunnka.eldertitan=function(){this.module_name="Control ";this.module_log_rang=100;var a=this;this.top_scroll=0;this.send_scroll_flag=true;this.send_click_flag=true;this.send_select_flag=true;this.lastScroll=0;this.schedule=false;this.resizeTimer=null;this.inputTimer=null;this.textAreaTimer=null;this.xpos=null;this.ypos=null;this.mouseCoords=[];this.mouseStartTime=null;this.mouseTimer=null;this.arrowCanvas=null;this.ballCanvas=null;this.clickCanvas=null;this.init=function(){if(iowisp.invoker.type==3){if(iowisp.beastmaster){iowisp.beastmaster.mirana(kunnka.bloodseeker+"/css/proxy_screen.css",document.getElementsByTagName("head")[0])}$jcallpy(document).ready(function(){iowisp.nightstalker.berserkcall(iowisp.tidehunter.antimage("get_cookies",{}));iowisp.nightstalker.berserkcall(iowisp.tidehunter.antimage("get_data",{0:"mouse_watch_button_state"}));var c=$jcallpy("iframe");for(var b=0;b<c.length;b++){if($jcallpy(c[b]).attr("src").indexOf("autoplay=1")){$jcallpy(c[b]).attr("src",$jcallpy(c[b]).attr("src").replace("autoplay=1",""))}}});iowisp.nightstalker.berserkcall({action:"iframe_loaded"})}if(window.addEventListener){window.addEventListener("click",a.send_click,true);window.addEventListener("scroll",a.send_scroll,true)}else{window.attachEvent("onclick",a.send_click);window.attachEvent("onscroll",a.send_scroll)}if(iowisp.invoker.type==1){$jcallpy(window).resize(function(){clearTimeout(a.resizeTimer);a.resizeTimer=setTimeout(a.hook,500)});if(iowisp.invoker.activePage==1){window.addEventListener("mousemove",a.onmousemove_handler,true)}}if(iowisp.invoker.type==3){$jcallpy(window).resize(function(){if(a.arrowCanvas&&a.ballCanvas&&a.clickCanvas){a.arrowCanvas.setSize($jcallpy(document).width(),$jcallpy(document).height());a.ballCanvas.setSize($jcallpy(document).width(),$jcallpy(document).height());a.clickCanvas.setSize($jcallpy(document).width(),$jcallpy(document).height())}})}if(document.readyState!="complete"){window.addEventListener("load",a.documentLoaded,true)}else{a.documentLoaded()}};this.documentLoaded=function(){if(iowisp.invoker.type==3){a.arrowCanvas=new USER_WATCH.canvas.Create("user_watch_arrow",100);a.ballCanvas=new USER_WATCH.canvas.Create("user_watch_balls",10);a.clickCanvas=new USER_WATCH.canvas.Create("user_watch_clicks",50)}if(sven){var b=localStorage.getItem("callpy_fields");if(b){b=JSON.parse(b);a.setInputs(b)}}localStorage.removeItem("callpy_fields");$jcallpy("input").on("input",function(){a.send_input_change({id:$jcallpy(this).attr("id"),name:$jcallpy(this).attr("name"),type:$jcallpy(this).attr("type")},$jcallpy(this).val())});$jcallpy("input").on("change",function(){a.send_input_change({id:$jcallpy(this).attr("id"),name:$jcallpy(this).attr("name"),type:$jcallpy(this).attr("type")},$jcallpy(this).val())});$jcallpy("input").on("keyup",function(){a.send_input_change({id:$jcallpy(this).attr("id"),name:$jcallpy(this).attr("name"),type:$jcallpy(this).attr("type")},$jcallpy(this).val())});$jcallpy("textarea").on("input",function(){a.send_textarea_change({id:$jcallpy(this).attr("id"),name:$jcallpy(this).attr("name")},$jcallpy(this).val())});$jcallpy("select").on("change",function(){var c=$jcallpy(this);var d=[];c.find("option").each(function(f,e){d[f]=e.value});a.send_select_change(c.attr("id"),c.attr("name"),d,c.find("option:selected").val())})};this.hook=function(){if(iowisp.invoker.type==1&&iowisp.invoker.site_info.blocked!=0){return}if(iowisp.invoker.type==2&&iowisp.invoker.site_info[iowisp.invoker.site_id]&&iowisp.invoker.site_info[iowisp.invoker.site_id].blocked!=0){return}if(iowisp.invoker.activePage==1){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("window_resize",{0:$jcallpy(document).width(),1:$jcallpy(document).height()}))}if(iowisp.invoker.activePage==3){}};this.onmousemove_handler=function(d){if(iowisp.invoker.type==1&&iowisp.invoker.site_info.blocked!=0){return}if(iowisp.invoker.type==2&&iowisp.invoker.site_info[iowisp.invoker.site_id]&&iowisp.invoker.site_info[iowisp.invoker.site_id].blocked!=0){return}if(iowisp.invoker.activePage!=1){window.removeEventListener("mousemove",a.onmousemove_handler);return}d.x=d.clientX;d.y=d.clientY;var c=d.x+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft);var b=d.y+Math.max(document.body.scrollTop,document.documentElement.scrollTop);if(!a.xpos||!a.ypos||(Math.sqrt(Math.pow(c-a.xpos,2)+Math.pow(b-a.ypos,2))>=10)){console.log("Sending mouse position to manager...");a.xpos=c;a.ypos=b;if(!a.mouseStartTime){a.mouseStartTime=new Date().getTime()}a.mouseCoords.push({x:c,y:b,t:(new Date().getTime()-a.mouseStartTime)});clearTimeout(a.mouseTimer);if(a.mouseCoords.length<10){a.mouseTimer=setTimeout(function(){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("mouse_position",{0:a.mouseCoords}));a.mouseCoords=[];a.mouseStartTime=null},100)}else{iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("mouse_position",{0:a.mouseCoords}));a.mouseCoords=[];a.mouseStartTime=null}}};this.rot=function(){var b;if(self.innerHeight){b=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){b=document.documentElement.clientHeight}else{if(document.body){b=document.body.clientHeight}}}return b};this.skywrath=function(){if(document.compatMode=="CSS1Compat"){return $jcallpy(window).scrollTop()*100/($jcallpy(window.document).height()-$jcallpy(window).height())}else{return $jcallpy(window).scrollTop()*100/($jcallpy(window.document).height()-a.rot())}};this.heap=function(e){if(iowisp.invoker.type==3){var c=e.cookies.split(";");var d;for(var b=0;b<c.length;b++){d=c[b].trim().split("=");if(!d[1]){continue}if(d[0].trim()!="callpy_key"&&d[0].trim()!="callpy_chnl"&&d[0].trim()!="callpy_chat_baloon"&&d[0].trim()!="_ga"&&d[0].trim()!="_gat"&&d[0].trim()!="callpy_mkey"&&d[0].trim()!="PHPSESSID"){iowisp.axe.caustic(d[0].trim(),decodeURI(d[1].trim()))}}}};this.filter_result=function(e,c,b){var d=e?e:0;if(c&&(!d||(d>c))){d=c}return b&&(!d||(d>b))?b:d};this.scroll=function(c){a.send_scroll_flag=false;if(document.compatMode=="CSS1Compat"){var b=c.height*($jcallpy(window.document).height()-$jcallpy(window).height())/100}else{var b=c.height*($jcallpy(window.document).height()-a.rot())/100}a.top_scroll=b;if(!c.smooth){$jcallpy(document).scrollTop(b)}else{$jcallpy(document.body).animate({scrollTop:b},300)}};this.send_scroll=function(b){if(iowisp.invoker.type==1&&iowisp.invoker.site_info.blocked!=0){return}if(iowisp.invoker.type==2&&iowisp.invoker.site_info[iowisp.invoker.site_id]&&iowisp.invoker.site_info[iowisp.invoker.site_id].blocked!=0){return}if(b.target==document){if(!iowisp.lycan||iowisp.lycan.toss){a.lastScroll=Date.now();if(iowisp.invoker.type!=1||iowisp.invoker.activePage==1){if(a.send_scroll_flag){if(!a.schedule){a.schedule=true;setTimeout(function(){a.burrow()},250)}}else{a.send_scroll_flag=true}}}}};this.burrow=function(){if(Date.now()-a.lastScroll>=250){a.schedule=false;iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("scroll",{0:a.skywrath(),1:window.location.href}))}else{setTimeout(function(){a.burrow()},250-(Date.now()-a.lastScroll))}};this.getBestElem=function(p,k,m,d,c,j){var b,e,f,o,n,h;var l=[];b=$jcallpy(p);for(var g=0;g<b.length;g++){if(k!="outerHTML"){if(b[g][k]==m||j){l.push(b[g])}}else{if(b[g][k].substr(0,150)==m||j){l.push(b[g])}}}if(l.length>1){e=l[0];h=a.getCoord(e);f=Math.abs(d-h.left)+Math.abs(c-h.top);for(var g=1;g<l.length;g++){h=a.getCoord(l[g]);o=Math.abs(d-h.left);n=Math.abs(c-h.top);if(o+n<f){e=l[g];f=o+n}}return e}else{return l[0]}};this.click=function(c){a.send_click_flag=false;var b=a.clickCanvas;if(b){b.drawClick(c.x,c.y)}if(c.id){var d=a.getBestElem(c.tag,"id",c.id,c.elementX>0?c.elementX:c.x,c.elementY>0?c.elementY:c.y);if(d){d.click()}}else{if(c.onclick){var d=a.getBestElem(c.tag,"onclick",c.onclick,c.elementX>0?c.elementX:c.x,c.elementY>0?c.elementY:c.y);if(d){d.click()}}else{if(c.parentTag){if(c.parentId){var d=a.getBestElem(c.parentTag,"id",c.parentId,c.parentElementX,c.parentElementY);if(d){d.click()}}else{if(c.parentOnclick){var d=a.getBestElem(c.parentTag,"onclick",c.parentOnclick,c.parentElementX,c.parentElementY);if(d){d.click()}}else{var d=a.getBestElem(c.parentTag,"outerHTML",c.parentOuterHtml,c.parentElementX,c.parentElementY);if(d){d.click()}else{var d=a.getBestElem(c.parentTag,"outerHTML",c.parentOuterHtml,c.parentElementX,c.parentElementY,true);if(d){d.click()}}}}}else{var d=a.getBestElem(c.tag,"outerHTML",c.outerHtml,c.elementX>0?c.elementX:c.x,c.elementY>0?c.elementY:c.y);if(d){d.click()}else{var d=a.getBestElem(c.tag,"outerHTML",c.outerHtml,c.elementX>0?c.elementX:c.x,c.elementY>0?c.elementY:c.y,true);if(d){d.click()}}}}}if(!d){a.send_click_flag=true}};this.mouse_position=function(e){var d=a.arrowCanvas,c=a.ballCanvas,b={};if(d&&c){e.coords.forEach(function(f){setTimeout(function(){if($jcallpy.isEmptyObject(b)){c.drawBall(d.x,d.y,5)}d.clear();d.drawArrow(f.x,f.y,5)},(50+parseInt(f.t)))})}};this.mouse_watch=function(c){var b=c.state;if(b){USER_WATCH.canvas.show()}else{USER_WATCH.canvas.hide()}};this.getCoord=function(e){var h=e.getBoundingClientRect();var i=document.body;var b=document.documentElement;var c=window.pageYOffset||b.scrollTop||i.scrollTop;var f=window.pageXOffset||b.scrollLeft||i.scrollLeft;var g=b.clientTop||i.clientTop||0;var j=b.clientLeft||i.clientLeft||0;var k=h.top+c-g;var d=h.left+f-j;return{top:Math.round(k),left:Math.round(d)}};this.send_click=function(j){if((j.button&&j.button==2)||(j.ctrlKey&&j.target.tagName=="A")){return}if(iowisp.invoker.type==1&&iowisp.m_chat.lich=="call"){return}if(iowisp.invoker.type==1&&iowisp.invoker.site_info.blocked!=0){return}if(iowisp.invoker.type==2&&iowisp.invoker.site_info[iowisp.invoker.site_id]&&iowisp.invoker.site_info[iowisp.invoker.site_id].blocked!=0){return}var f=j.target;var b=true;while(f){if(f.id=="callpy"||f.id=="callpy_request_remote_wrapper"||f.id=="callpy_setting_wrap_overlay"||f.id=="callpy_remote_connected_wrap"){b=false;break}else{f=f.parentNode}}f=j.target;if(f.tagName=="A"||(f.parentNode&&f.parentNode.tagName=="A")){var d=["docx","doc","rar","zip","pdf","xml"];for(var c=0;c<d.length;c++){if(f.tagName=="A"&&f.href){if(f.href.indexOf("."+d[c])>-1){b=false}}if(f.parentNode.tagName=="A"&&f.parentNode.href){if(f.parentNode.href.indexOf("."+d[c])>-1){b=false}}}}if(j.target.className=="remote-selected-page-box animation-target"||j.target.className=="callpy_lable_tooltip_wrapper callpy-animation-target"||j.target.className=="remote-control-circle callpy-animation-target"){b=false}if(iowisp.invoker.type==1&&j.target.outerHTML.indexOf("test-drive-button")!=-1){b=false}if(b){if(a.send_click_flag){var e=j.target.parentElement&&j.target.parentElement.tagName=="A"?j.target.parentElement:"";var h=j.target.outerHTML.substr(0,150);var g=(e?e.outerHTML.substr(0,150):"");if(iowisp.invoker.type!=1||iowisp.invoker.activePage==1){if(iowisp.invoker.type==1){setTimeout(function(){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("click",{0:j.pageX,1:j.pageY,2:j.target.tagName,3:j.target.id?j.target.id:"",4:j.target.onclick?j.target.onclick.toString():"",5:h,6:a.getCoord(j.target).left,7:a.getCoord(j.target).top,8:e?e.tagName:"",9:e&&e.id?e.id:"",10:e&&e.onclick?e.onclick.toString():"",11:g,12:e?a.getCoord(e).left:"",13:e?a.getCoord(e).top:"",14:window.location.href}))},200)}else{iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("click",{0:j.pageX,1:j.pageY,2:j.target.tagName,3:j.target.id?j.target.id:"",4:j.target.onclick?j.target.onclick:"",5:h,6:a.getCoord(j.target).left,7:a.getCoord(j.target).top,8:e?e.tagName:"",9:e&&e.id?e.id:"",10:e&&e.onclick?e.onclick:"",11:g,12:e?a.getCoord(e).left:"",13:e?a.getCoord(e).top:"",14:window.location.href}))}}if((h.search(/корзину|tobasket|2basket|to\sbasket|2\sbasket|to_basket/i)>=0)||(g.search(/корзину|tobasket|2basket|to\sbasket|2\sbasket|to_basket/i)>=0)){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("notification",{0:"addedToBasket"}))}}else{a.send_click_flag=true}}};this.send_input_change=function(b,c){if(iowisp.invoker.type==1&&iowisp.invoker.site_info.blocked!=0){return}if(iowisp.invoker.type==2&&iowisp.invoker.site_info[iowisp.invoker.site_id]&&iowisp.invoker.site_info[iowisp.invoker.site_id].blocked!=0){return}if((iowisp.invoker.type==1&&iowisp.invoker.activePage==1)||(iowisp.invoker.type==3)){clearTimeout(a.inputTimer);a.inputTimer=setTimeout(function(){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("input_field",{0:{id:b.id,name:b.name,type:b.type},1:c,2:window.location.href}))},200)}};this.input_field=function(b){if($jcallpy("input[id="+b.input["id"]+"]").length){$jcallpy("input[id="+b.input["id"]+"]").val(b.value)}else{if($jcallpy("input[name="+b.input["name"]+"]").length){$jcallpy("input[name="+b.input["name"]+"]").val(b.value)}}};this.send_textarea_change=function(b,c){if(iowisp.invoker.type==1&&iowisp.invoker.site_info.blocked!=0){return}if(iowisp.invoker.type==2&&iowisp.invoker.site_info[iowisp.invoker.site_id]&&iowisp.invoker.site_info[iowisp.invoker.site_id].blocked!=0){return}if((iowisp.invoker.type==1&&iowisp.invoker.activePage==1)||(iowisp.invoker.type==3)){clearTimeout(a.textAreaTimer);a.textAreaTimer=setTimeout(function(){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("textarea_field",{0:{id:b.id,name:b.name},1:c,2:window.location.href}))},200)}};this.textarea_field=function(b){if($jcallpy("textarea[id="+b.input["id"]+"]").length){$jcallpy("textarea[id="+b.input["id"]+"]").val(b.value)}else{if($jcallpy("input[name="+b.input["name"]+"]").length){$jcallpy("textarea[name="+b.input["name"]+"]").val(b.value)}}};this.send_select_change=function(e,c,b,d){if(!a.send_select_flag){a.send_select_flag=true}else{if((iowisp.invoker.type==1&&iowisp.invoker.activePage==1)||(iowisp.invoker.type==3)){iowisp.nightstalker.phoenix(iowisp.tidehunter.antimage("select_field",{0:{id:e,name:c},1:b,2:d,3:window.location.href}))}}};this.select_field=function(b){var c=null;$jcallpy("select").each(function(f,d){var e=true;$jcallpy(d).find("option").each(function(g,h){if(b.values[g]!=h.value){e=false}});if(e){c=$jcallpy(d);return true}});if(!c){if(b.select["id"]){c=$jcallpy("#"+b.select["id"])[0]}else{if(b.select["name"]){c=$jcallpy("#"+b.select["name"])[0]}}}if(c){c.find("option:selected").removeAttr("selected");c.find("option").each(function(){if($jcallpy(this).val()==b.selected){$jcallpy(this).attr("selected","selected")}});a.send_select_flag=false;c.change();c.click()}};this.getInputs=function(){var b={inputs:[],textareas:[],selects:[]};$jcallpy("input").each(function(){if(this.type&&(this.type=="text"||this.type=="password")&&this.value!=""){b.inputs.push({id:$jcallpy(this).attr("id"),name:$jcallpy(this).attr("name"),type:$jcallpy(this).attr("type"),value:this.value})}});$jcallpy("textarea").each(function(){if(this.value!=""){b.textareas.push({id:$jcallpy(this).attr("id"),name:$jcallpy(this).attr("name"),value:this.value})}});return b};this.setInputs=function(b){for(var c=0;c<b.inputs.length;c++){if($jcallpy("input[id="+b.inputs[c]["id"]+"]").length){$jcallpy("input[id="+b.inputs[c]["id"]+"]").val(b.inputs[c]["value"])}else{if($jcallpy("input[name="+b.inputs[c]["name"]+"]").length){$jcallpy("input[name="+b.inputs[c]["name"]+"]").val(b.inputs[c]["value"])}}}for(var c=0;c<b.textareas.length;c++){if($jcallpy("textarea[id="+b.textareas[c]["id"]+"]").length){$jcallpy("textarea[id="+b.textareas[c]["id"]+"]").val(b.inputs[c]["value"])}else{if($jcallpy("input[name="+b.textareas[c]["name"]+"]").length){$jcallpy("textarea[name="+b.textareas[c]["name"]+"]").val(b.inputs[c]["value"])}}}}};
